{"version":3,"file":"index.production.js","sources":["../src/utils/string.ts","../../../node_modules/tslib/tslib.es6.js","../src/utils/registry.ts","../../../node_modules/marked/lib/marked.js","../src/utils/markdown.ts","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isNumber.js","../node_modules/lodash/isArray.js","../node_modules/lodash/isString.js","../node_modules/lodash/isBoolean.js","../src/types/data.ts","../src/types/dataFrame.ts","../src/types/logs.ts","../src/types/time.ts","../src/types/valueMapping.ts","../../../node_modules/moment/moment.js","../src/utils/moment_wrapper.ts","../src/utils/vector.ts","../src/utils/dataFrameHelper.ts","../src/utils/deprecationWarning.ts","../src/utils/processDataFrame.ts","../../../node_modules/papaparse/papaparse.js","../node_modules/lodash/identity.js","../node_modules/lodash/_apply.js","../node_modules/lodash/_overRest.js","../node_modules/lodash/constant.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_baseSetToString.js","../node_modules/lodash/_shortOut.js","../node_modules/lodash/_setToString.js","../node_modules/lodash/_baseRest.js","../node_modules/lodash/eq.js","../node_modules/lodash/isLength.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/_isIterateeCall.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_nativeKeysIn.js","../node_modules/lodash/_baseKeysIn.js","../node_modules/lodash/keysIn.js","../src/utils/csv.ts","../node_modules/lodash/defaults.js","../src/utils/fieldReducer.ts","../src/utils/logs.ts","../src/utils/labels.ts","../src/utils/object.ts","../src/utils/thresholds.ts","../src/utils/dataFrameView.ts","../src/utils/valueMappings.ts","../node_modules/lodash/_baseFindIndex.js","../node_modules/lodash/_baseIsNaN.js","../node_modules/lodash/_strictIndexOf.js","../node_modules/lodash/_baseIndexOf.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/toFinite.js","../node_modules/lodash/toInteger.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/_baseValues.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/keys.js","../node_modules/lodash/values.js","../node_modules/lodash/includes.js","../node_modules/lodash/_baseIsDate.js","../node_modules/lodash/isDate.js","../src/utils/datemath.ts","../src/utils/rangeutil.ts"],"sourcesContent":["export function stringToJsRegex(str: string): RegExp {\n  if (str[0] !== '/') {\n    return new RegExp('^' + str + '$');\n  }\n\n  const match = str.match(new RegExp('^/(.*?)/(g?i?m?y?)$'));\n\n  if (!match) {\n    throw new Error(`'${str}' is not a valid regular expression.`);\n  }\n\n  return new RegExp(match[1], match[2]);\n}\n\nexport function stringToMs(str: string): number {\n  if (!str) {\n    return 0;\n  }\n\n  const nr = parseInt(str, 10);\n  const unit = str.substr(String(nr).length);\n  const s = 1000;\n  const m = s * 60;\n  const h = m * 60;\n  const d = h * 24;\n\n  switch (unit) {\n    case 's':\n      return nr * s;\n    case 'm':\n      return nr * m;\n    case 'h':\n      return nr * h;\n    case 'd':\n      return nr * d;\n    default:\n      if (!unit) {\n        return isNaN(nr) ? 0 : nr;\n      }\n      throw new Error('Not supported unit: ' + unit);\n  }\n}\n\nexport function toNumberString(value: number | undefined | null): string {\n  if (value !== null && value !== undefined && Number.isFinite(value as number)) {\n    return value.toString();\n  }\n  return '';\n}\n\nexport function toIntegerOrUndefined(value: string): number | undefined {\n  if (!value) {\n    return undefined;\n  }\n  const v = parseInt(value, 10);\n  return isNaN(v) ? undefined : v;\n}\n\nexport function toFloatOrUndefined(value: string): number | undefined {\n  if (!value) {\n    return undefined;\n  }\n  const v = parseFloat(value);\n  return isNaN(v) ? undefined : v;\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { SelectableValue } from '../types/select';\n\nexport interface RegistryItem {\n  id: string; // Unique Key -- saved in configs\n  name: string; // Display Name, can change without breaking configs\n  description: string;\n  aliasIds?: string[]; // when the ID changes, we may want backwards compatibility ('current' => 'last')\n\n  /**\n   * Some extensions should not be user selectable\n   *  like: 'all' and 'any' matchers;\n   */\n  excludeFromPicker?: boolean;\n}\n\ninterface RegistrySelectInfo {\n  options: Array<SelectableValue<string>>;\n  current: Array<SelectableValue<string>>;\n}\n\nexport class Registry<T extends RegistryItem> {\n  private ordered: T[] = [];\n  private byId = new Map<string, T>();\n  private initalized = false;\n\n  constructor(private init?: () => T[]) {}\n\n  getIfExists(id: string | undefined): T | undefined {\n    if (!this.initalized) {\n      if (this.init) {\n        for (const ext of this.init()) {\n          this.register(ext);\n        }\n      }\n      this.sort();\n      this.initalized = true;\n    }\n    if (id) {\n      return this.byId.get(id);\n    }\n    return undefined;\n  }\n\n  get(id: string): T {\n    const v = this.getIfExists(id);\n    if (!v) {\n      throw new Error('Undefined: ' + id);\n    }\n    return v;\n  }\n\n  selectOptions(current?: string[], filter?: (ext: T) => boolean): RegistrySelectInfo {\n    if (!this.initalized) {\n      this.getIfExists('xxx'); // will trigger init\n    }\n\n    const select = {\n      options: [],\n      current: [],\n    } as RegistrySelectInfo;\n\n    const currentIds: any = {};\n    if (current) {\n      for (const id of current) {\n        currentIds[id] = true;\n      }\n    }\n\n    for (const ext of this.ordered) {\n      if (ext.excludeFromPicker) {\n        continue;\n      }\n      if (filter && !filter(ext)) {\n        continue;\n      }\n\n      const option = {\n        value: ext.id,\n        label: ext.name,\n        description: ext.description,\n      };\n\n      select.options.push(option);\n      if (currentIds[ext.id]) {\n        select.current.push(option);\n      }\n    }\n    return select;\n  }\n\n  /**\n   * Return a list of values by ID, or all values if not specified\n   */\n  list(ids?: any[]): T[] {\n    if (ids) {\n      const found: T[] = [];\n      for (const id of ids) {\n        const v = this.getIfExists(id);\n        if (v) {\n          found.push(v);\n        }\n      }\n      return found;\n    }\n    if (!this.initalized) {\n      this.getIfExists('xxx'); // will trigger init\n    }\n    return [...this.ordered]; // copy of everythign just in case\n  }\n\n  register(ext: T) {\n    if (this.byId.has(ext.id)) {\n      throw new Error('Duplicate Key:' + ext.id);\n    }\n    this.byId.set(ext.id, ext);\n    this.ordered.push(ext);\n\n    if (ext.aliasIds) {\n      for (const alias of ext.aliasIds) {\n        if (!this.byId.has(alias)) {\n          this.byId.set(alias, ext);\n        }\n      }\n    }\n\n    if (this.initalized) {\n      this.sort();\n    }\n  }\n\n  private sort() {\n    // TODO sort the list\n  }\n}\n","/**\n * marked - a markdown parser\n * Copyright (c) 2011-2018, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/markedjs/marked\n */\n\n;(function(root) {\n'use strict';\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  nptable: noop,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n    + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n    + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n    + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n    + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n    + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n    + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n    + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n    + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n    + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  table: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|<\\/?(?:tag)(?: +|\\n|\\/?>)|<(?:script|pre|style|!--))[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\n\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def)\n  .replace('label', block._label)\n  .replace('title', block._title)\n  .getRegex();\n\nblock.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\nblock.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\nblock.item = edit(block.item, 'gm')\n  .replace(/bull/g, block.bullet)\n  .getRegex();\n\nblock.list = edit(block.list)\n  .replace(/bull/g, block.bullet)\n  .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n  .replace('def', '\\\\n+(?=' + block.def.source + ')')\n  .getRegex();\n\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n  + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n  + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n  + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n  + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n  + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i')\n  .replace('comment', block._comment)\n  .replace('tag', block._tag)\n  .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n  .getRegex();\n\nblock.paragraph = edit(block.paragraph)\n  .replace('hr', block.hr)\n  .replace('heading', block.heading)\n  .replace('lheading', block.lheading)\n  .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n  .getRegex();\n\nblock.blockquote = edit(block.blockquote)\n  .replace('paragraph', block.paragraph)\n  .getRegex();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ {0,3}(`{3,}|~{3,})([^`\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  paragraph: /^/,\n  heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n});\n\nblock.gfm.paragraph = edit(block.paragraph)\n  .replace('(?!', '(?!'\n    + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n    + block.list.source.replace('\\\\1', '\\\\3') + '|')\n  .getRegex();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n  table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n});\n\n/**\n * Pedantic grammar\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit(\n    '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n    + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n    + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n    .replace('comment', block._comment)\n    .replace(/tag/g, '(?!(?:'\n      + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n      + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n      + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n    .getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = Object.create(null);\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.pedantic) {\n    this.rules = block.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, '\\n')\n    .replace(/\\t/g, '    ')\n    .replace(/\\u00a0/g, ' ')\n    .replace(/\\u2424/g, '\\n');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top) {\n  src = src.replace(/^ +$/gm, '');\n  var next,\n      loose,\n      cap,\n      bull,\n      b,\n      item,\n      listStart,\n      listItems,\n      t,\n      space,\n      i,\n      tag,\n      l,\n      isordered,\n      istask,\n      ischecked;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: 'space'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, '');\n      this.tokens.push({\n        type: 'code',\n        text: !this.options.pedantic\n          ? rtrim(cap, '\\n')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'code',\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text: cap[3] || ''\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (cap = this.rules.nptable.exec(src)) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'hr'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: 'blockquote_start'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, '');\n\n      // Pass `top` to keep the current\n      // \"toplevel\" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top);\n\n      this.tokens.push({\n        type: 'blockquote_end'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n      isordered = bull.length > 1;\n\n      listStart = {\n        type: 'list_start',\n        ordered: isordered,\n        start: isordered ? +bull : '',\n        loose: false\n      };\n\n      this.tokens.push(listStart);\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      listItems = [];\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item's bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) */, '');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n            : item.replace(/^ {1,4}/gm, '');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull.length > 1 ? b.length === 1\n            : (b.length > 1 || (this.options.smartLists && b !== bull))) {\n            src = cap.slice(i + 1).join('\\n') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          listStart.loose = true;\n        }\n\n        // Check for task list items\n        istask = /^\\[[ xX]\\] /.test(item);\n        ischecked = undefined;\n        if (istask) {\n          ischecked = item[1] !== ' ';\n          item = item.replace(/^\\[[ xX]\\] +/, '');\n        }\n\n        t = {\n          type: 'list_item_start',\n          task: istask,\n          checked: ischecked,\n          loose: loose\n        };\n\n        listItems.push(t);\n        this.tokens.push(t);\n\n        // Recurse.\n        this.token(item, false);\n\n        this.tokens.push({\n          type: 'list_item_end'\n        });\n      }\n\n      if (listStart.loose) {\n        l = listItems.length;\n        i = 0;\n        for (; i < l; i++) {\n          listItems[i].loose = true;\n        }\n      }\n\n      this.tokens.push({\n        type: 'list_end'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? 'paragraph'\n          : 'html',\n        pre: !this.options.sanitizer\n          && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if (top && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      if (!this.tokens.links[tag]) {\n        this.tokens.links[tag] = {\n          href: cap[2],\n          title: cap[3]\n        };\n      }\n      continue;\n    }\n\n    // table (gfm)\n    if (cap = this.rules.table.exec(src)) {\n      item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        src = src.substring(cap[0].length);\n\n        for (i = 0; i < item.align.length; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        for (i = 0; i < item.cells.length; i++) {\n          item.cells[i] = splitCells(\n            item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n            item.header.length);\n        }\n\n        this.tokens.push(item);\n\n        continue;\n      }\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'heading',\n        depth: cap[2] === '=' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'paragraph',\n        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: 'text',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noop,\n  tag: '^comment'\n    + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n    + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n    + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n    + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n    + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n  link: /^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^\\*([^\\s*\"<\\[])\\*(?!\\*)|^_([^\\s][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s\"<\\[][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noop,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/\n};\n\n// list of punctuation marks from common mark spec\n// without ` and ] to workaround Rule 17 (inline code blocks/links)\ninline._punctuation = '!\"#$%&\\'()*+,\\\\-./:;<=>?@\\\\[^_{|}~';\ninline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\n\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink)\n  .replace('scheme', inline._scheme)\n  .replace('email', inline._email)\n  .getRegex();\n\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\ninline.tag = edit(inline.tag)\n  .replace('comment', block._comment)\n  .replace('attribute', inline._attribute)\n  .getRegex();\n\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|`(?!`)|[^\\[\\]\\\\`])*?/;\ninline._href = /\\s*(<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*)/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\ninline.link = edit(inline.link)\n  .replace('label', inline._label)\n  .replace('href', inline._href)\n  .replace('title', inline._title)\n  .getRegex();\n\ninline.reflink = edit(inline.reflink)\n  .replace('label', inline._label)\n  .getRegex();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n    .replace('label', inline._label)\n    .getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n    .replace('label', inline._label)\n    .getRegex()\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n});\n\ninline.gfm.url = edit(inline.gfm.url, 'i')\n  .replace('email', inline.gfm._extended_email)\n  .getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace(/\\{2,\\}/g, '*').getRegex()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer();\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new Error('Tokens array requires a `links` property.');\n  }\n\n  if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  } else if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = '',\n      link,\n      text,\n      href,\n      title,\n      cap,\n      prevCapZero;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += escape(cap[1]);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      if (!this.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = true;\n      } else if (this.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        this.inRawBlock = false;\n      }\n\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? this.options.sanitizer\n          ? this.options.sanitizer(cap[0])\n          : escape(cap[0])\n        : cap[0];\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      var lastParenIndex = findClosingBracket(cap[2], '()');\n      if (lastParenIndex > -1) {\n        var linkLen = cap[0].length - (cap[2].length - lastParenIndex) - (cap[3] || '').length;\n        cap[2] = cap[2].substring(0, lastParenIndex);\n        cap[0] = cap[0].substring(0, linkLen).trim();\n        cap[3] = '';\n      }\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      href = cap[2];\n      if (this.options.pedantic) {\n        link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        } else {\n          title = '';\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n      href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n      out += this.outputLink(cap, {\n        href: InlineLexer.escapes(href),\n        title: InlineLexer.escapes(title)\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2].trim(), true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === '@') {\n        text = escape(this.mangle(cap[1]));\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      if (cap[2] === '@') {\n        text = escape(cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n        text = escape(cap[0]);\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n      src = src.substring(cap[0].length);\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (this.inRawBlock) {\n        out += this.renderer.text(cap[0]);\n      } else {\n        out += this.renderer.text(escape(this.smartypants(cap[0])));\n      }\n      continue;\n    }\n\n    if (src) {\n      throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\nInlineLexer.escapes = function(text) {\n  return text ? text.replace(InlineLexer.rules._escapes, '$1') : text;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = link.href,\n      title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== '!'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/---/g, '\\u2014')\n    // en-dashes\n    .replace(/--/g, '\\u2013')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n    // closing singles & apostrophes\n    .replace(/'/g, '\\u2019')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n    // closing doubles\n    .replace(/\"/g, '\\u201d')\n    // ellipses\n    .replace(/\\.{3}/g, '\\u2026');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  if (!this.options.mangle) return text;\n  var out = '',\n      l = text.length,\n      i = 0,\n      ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || marked.defaults;\n}\n\nRenderer.prototype.code = function(code, infostring, escaped) {\n  var lang = (infostring || '').match(/\\S*/)[0];\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return '<pre><code>'\n      + (escaped ? code : escape(code, true))\n      + '</code></pre>';\n  }\n\n  return '<pre><code class=\"'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + '\">'\n    + (escaped ? code : escape(code, true))\n    + '</code></pre>\\n';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return '<blockquote>\\n' + quote + '</blockquote>\\n';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw, slugger) {\n  if (this.options.headerIds) {\n    return '<h'\n      + level\n      + ' id=\"'\n      + this.options.headerPrefix\n      + slugger.slug(raw)\n      + '\">'\n      + text\n      + '</h'\n      + level\n      + '>\\n';\n  }\n  // ignore IDs\n  return '<h' + level + '>' + text + '</h' + level + '>\\n';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n};\n\nRenderer.prototype.list = function(body, ordered, start) {\n  var type = ordered ? 'ol' : 'ul',\n      startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n  return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return '<li>' + text + '</li>\\n';\n};\n\nRenderer.prototype.checkbox = function(checked) {\n  return '<input '\n    + (checked ? 'checked=\"\" ' : '')\n    + 'disabled=\"\" type=\"checkbox\"'\n    + (this.options.xhtml ? ' /' : '')\n    + '> ';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return '<p>' + text + '</p>\\n';\n};\n\nRenderer.prototype.table = function(header, body) {\n  if (body) body = '<tbody>' + body + '</tbody>';\n\n  return '<table>\\n'\n    + '<thead>\\n'\n    + header\n    + '</thead>\\n'\n    + body\n    + '</table>\\n';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return '<tr>\\n' + content + '</tr>\\n';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? 'th' : 'td';\n  var tag = flags.align\n    ? '<' + type + ' align=\"' + flags.align + '\">'\n    : '<' + type + '>';\n  return tag + content + '</' + type + '>\\n';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return '<strong>' + text + '</strong>';\n};\n\nRenderer.prototype.em = function(text) {\n  return '<em>' + text + '</em>';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return '<code>' + text + '</code>';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? '<br/>' : '<br>';\n};\n\nRenderer.prototype.del = function(text) {\n  return '<del>' + text + '</del>';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n  var out = '<a href=\"' + escape(href) + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += '>' + text + '</a>';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n  if (href === null) {\n    return text;\n  }\n\n  var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n  if (title) {\n    out += ' title=\"' + title + '\"';\n  }\n  out += this.options.xhtml ? '/>' : '>';\n  return out;\n};\n\nRenderer.prototype.text = function(text) {\n  return text;\n};\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\n\nfunction TextRenderer() {}\n\n// no need for block level renderers\n\nTextRenderer.prototype.strong =\nTextRenderer.prototype.em =\nTextRenderer.prototype.codespan =\nTextRenderer.prototype.del =\nTextRenderer.prototype.text = function (text) {\n  return text;\n};\n\nTextRenderer.prototype.link =\nTextRenderer.prototype.image = function(href, title, text) {\n  return '' + text;\n};\n\nTextRenderer.prototype.br = function() {\n  return '';\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer();\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n  this.slugger = new Slugger();\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options) {\n  var parser = new Parser(options);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options);\n  // use an InlineLexer with a TextRenderer to extract pure text\n  this.inlineText = new InlineLexer(\n    src.links,\n    merge({}, this.options, {renderer: new TextRenderer()})\n  );\n  this.tokens = src.reverse();\n\n  var out = '';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === 'text') {\n    body += '\\n' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case 'space': {\n      return '';\n    }\n    case 'hr': {\n      return this.renderer.hr();\n    }\n    case 'heading': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        unescape(this.inlineText.output(this.token.text)),\n        this.slugger);\n    }\n    case 'code': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case 'table': {\n      var header = '',\n          body = '',\n          i,\n          row,\n          cell,\n          j;\n\n      // header\n      cell = '';\n      for (i = 0; i < this.token.header.length; i++) {\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = '';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case 'blockquote_start': {\n      body = '';\n\n      while (this.next().type !== 'blockquote_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case 'list_start': {\n      body = '';\n      var ordered = this.token.ordered,\n          start = this.token.start;\n\n      while (this.next().type !== 'list_end') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered, start);\n    }\n    case 'list_item_start': {\n      body = '';\n      var loose = this.token.loose;\n      var checked = this.token.checked;\n      var task = this.token.task;\n\n      if (this.token.task) {\n        body += this.renderer.checkbox(checked);\n      }\n\n      while (this.next().type !== 'list_item_end') {\n        body += !loose && this.token.type === 'text'\n          ? this.parseText()\n          : this.tok();\n      }\n      return this.renderer.listitem(body, task, checked);\n    }\n    case 'html': {\n      // TODO parse inline content if parameter markdown=1\n      return this.renderer.html(this.token.text);\n    }\n    case 'paragraph': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case 'text': {\n      return this.renderer.paragraph(this.parseText());\n    }\n    default: {\n      var errMsg = 'Token with \"' + this.token.type + '\" type was not found.';\n      if (this.options.silent) {\n        console.log(errMsg);\n      } else {\n        throw new Error(errMsg);\n      }\n    }\n  }\n};\n\n/**\n * Slugger generates header id\n */\n\nfunction Slugger () {\n  this.seen = {};\n}\n\n/**\n * Convert string to unique id\n */\n\nSlugger.prototype.slug = function (value) {\n  var slug = value\n    .toLowerCase()\n    .trim()\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n    .replace(/\\s/g, '-');\n\n  if (this.seen.hasOwnProperty(slug)) {\n    var originalSlug = slug;\n    do {\n      this.seen[originalSlug]++;\n      slug = originalSlug + '-' + this.seen[originalSlug];\n    } while (this.seen.hasOwnProperty(slug));\n  }\n  this.seen[slug] = 0;\n\n  return slug;\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  if (encode) {\n    if (escape.escapeTest.test(html)) {\n      return html.replace(escape.escapeReplace, function (ch) { return escape.replacements[ch]; });\n    }\n  } else {\n    if (escape.escapeTestNoEncode.test(html)) {\n      return html.replace(escape.escapeReplaceNoEncode, function (ch) { return escape.replacements[ch]; });\n    }\n  }\n\n  return html;\n}\n\nescape.escapeTest = /[&<>\"']/;\nescape.escapeReplace = /[&<>\"']/g;\nescape.replacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nescape.escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nescape.escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return '';\n  });\n}\n\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  return {\n    replace: function(name, val) {\n      val = val.source || val;\n      val = val.replace(/(^|[^\\[])\\^/g, '$1');\n      regex = regex.replace(name, val);\n      return this;\n    },\n    getRegex: function() {\n      return new RegExp(regex, opt);\n    }\n  };\n}\n\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, '')\n        .toLowerCase();\n    } catch (e) {\n      return null;\n    }\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n  return href;\n}\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n  base = baseUrls[' ' + base];\n\n  if (href.slice(0, 2) === '//') {\n    return base.replace(/:[\\s\\S]*/, ':') + href;\n  } else if (href.charAt(0) === '/') {\n    return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\nvar baseUrls = {};\nvar originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n        var escaped = false,\n            curr = offset;\n        while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n        if (escaped) {\n          // odd number of slashes means | is escaped\n          // so we leave it alone\n          return '|';\n        } else {\n          // add space before unescaped |\n          return ' |';\n        }\n      }),\n      cells = row.split(/ \\|/),\n      i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n  return cells;\n}\n\n// Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\nfunction rtrim(str, c, invert) {\n  if (str.length === 0) {\n    return '';\n  }\n\n  // Length of suffix matching the invert condition.\n  var suffLen = 0;\n\n  // Step left until we fail to match the invert condition.\n  while (suffLen < str.length) {\n    var currChar = str.charAt(str.length - suffLen - 1);\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, str.length - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n  var level = 0;\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type '\n      + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight,\n        tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>'\n        + escape(e.message + '', true)\n        + '</pre>';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.getDefaults = function () {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: new Renderer(),\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tables: true,\n    xhtml: false\n  };\n};\n\nmarked.defaults = marked.getDefaults();\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.Slugger = Slugger;\n\nmarked.parse = marked;\n\nif (typeof module !== 'undefined' && typeof exports === 'object') {\n  module.exports = marked;\n} else if (typeof define === 'function' && define.amd) {\n  define(function() { return marked; });\n} else {\n  root.marked = marked;\n}\n})(this || (typeof window !== 'undefined' ? window : global));\n","import marked, { MarkedOptions } from 'marked';\n\nconst defaultMarkedOptions: MarkedOptions = {\n  renderer: new marked.Renderer(),\n  pedantic: false,\n  gfm: true,\n  tables: true,\n  sanitize: true,\n  smartLists: true,\n  smartypants: false,\n  xhtml: false,\n};\n\nexport function setMarkdownOptions(optionsOverride?: MarkedOptions) {\n  marked.setOptions({ ...defaultMarkedOptions, ...optionsOverride });\n}\n\nexport function renderMarkdown(str?: string): string {\n  return marked(str || '');\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]';\n\n/**\n * Checks if `value` is classified as a boolean primitive or object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n * @example\n *\n * _.isBoolean(false);\n * // => true\n *\n * _.isBoolean(null);\n * // => false\n */\nfunction isBoolean(value) {\n  return value === true || value === false ||\n    (isObjectLike(value) && baseGetTag(value) == boolTag);\n}\n\nmodule.exports = isBoolean;\n","export type KeyValue<T = any> = { [s: string]: T };\n\nexport enum LoadingState {\n  NotStarted = 'NotStarted',\n  Loading = 'Loading',\n  Streaming = 'Streaming',\n  Done = 'Done',\n  Error = 'Error',\n}\n\nexport interface QueryResultMeta {\n  [key: string]: any;\n\n  // Match the result to the query\n  requestId?: string;\n\n  // Used in Explore for highlighting\n  searchWords?: string[];\n\n  // Used in Explore to show limit applied to search result\n  limit?: number;\n}\n\nexport interface QueryResultBase {\n  /**\n   * Matches the query target refId\n   */\n  refId?: string;\n\n  /**\n   * Used by some backend datasources to communicate back info about the execution (generated sql, timing)\n   */\n  meta?: QueryResultMeta;\n}\n\nexport interface Labels {\n  [key: string]: string;\n}\n\nexport interface Column {\n  text: string; // For a Column, the 'text' is the field name\n  filterable?: boolean;\n  unit?: string;\n}\n\nexport interface TableData extends QueryResultBase {\n  name?: string;\n  columns: Column[];\n  rows: any[][];\n}\n\nexport type TimeSeriesValue = number | null;\n\nexport type TimeSeriesPoints = TimeSeriesValue[][];\n\nexport interface TimeSeries extends QueryResultBase {\n  target: string;\n  datapoints: TimeSeriesPoints;\n  unit?: string;\n  tags?: Labels;\n}\n\nexport enum NullValueMode {\n  Null = 'null',\n  Ignore = 'connected',\n  AsZero = 'null as zero',\n}\n\nexport interface AnnotationEvent {\n  id?: string;\n  annotation?: any;\n  dashboardId?: number;\n  panelId?: number;\n  userId?: number;\n  login?: string;\n  email?: string;\n  avatarUrl?: string;\n  time?: number;\n  timeEnd?: number;\n  isRegion?: boolean;\n  title?: string;\n  text?: string;\n  type?: string;\n  tags?: string[];\n\n  // Currently used to merge annotations from alerts and dashboard\n  source?: any; // source.type === 'dashboard'\n}\n","import { Threshold } from './threshold';\nimport { ValueMapping } from './valueMapping';\nimport { QueryResultBase, Labels, NullValueMode } from './data';\nimport { FieldCalcs } from '../utils/index';\nimport { DisplayProcessor } from './displayValue';\n\nexport enum FieldType {\n  time = 'time', // or date\n  number = 'number',\n  string = 'string',\n  boolean = 'boolean',\n  other = 'other', // Object, Array, etc\n}\n\n/**\n * Every property is optional\n *\n * Plugins may extend this with additional properties.  Somethign like series overrides\n */\nexport interface FieldConfig {\n  title?: string; // The display value for this field.  This supports template variables blank is auto\n  filterable?: boolean;\n\n  // Numeric Options\n  unit?: string;\n  decimals?: number | null; // Significant digits (for display)\n  min?: number | null;\n  max?: number | null;\n\n  // Convert input values into a display string\n  mappings?: ValueMapping[];\n\n  // Must be sorted by 'value', first value is always -Infinity\n  thresholds?: Threshold[];\n\n  // Used when reducing field values\n  nullValueMode?: NullValueMode;\n\n  // Alternative to empty string\n  noValue?: string;\n}\n\nexport interface Vector<T = any> {\n  length: number;\n\n  /**\n   * Access the value by index (Like an array)\n   */\n  get(index: number): T;\n\n  /**\n   * Get the resutls as an array.\n   */\n  toArray(): T[];\n\n  /**\n   * Return the values as a simple array for json serialization\n   */\n  toJSON(): any; // same results as toArray()\n}\n\nexport interface Field<T = any> {\n  name: string; // The column name\n  type: FieldType;\n  config: FieldConfig;\n  values: Vector<T>; // `buffer` when JSON\n\n  /**\n   * Cache of reduced values\n   */\n  calcs?: FieldCalcs;\n\n  /**\n   * Convert text to the field value\n   */\n  parse?: (value: any) => T;\n\n  /**\n   * Convert a value for display\n   */\n  display?: DisplayProcessor;\n}\n\nexport interface DataFrame extends QueryResultBase {\n  name?: string;\n  fields: Field[]; // All fields of equal length\n  labels?: Labels;\n\n  // The number of rows\n  length: number;\n}\n\n/**\n * Like a field, but properties are optional and values may be a simple array\n */\nexport interface FieldDTO<T = any> {\n  name: string; // The column name\n  type?: FieldType;\n  config?: FieldConfig;\n  values?: Vector<T> | T[]; // toJSON will always be T[], input could be either\n}\n\n/**\n * Like a DataFrame, but fields may be a FieldDTO\n */\nexport interface DataFrameDTO extends QueryResultBase {\n  name?: string;\n  labels?: Labels;\n  fields: Array<FieldDTO | Field>;\n}\n","import { Labels } from './data';\nimport { GraphSeriesXY } from './graph';\n\n/**\n * Mapping of log level abbreviation to canonical log level.\n * Supported levels are reduce to limit color variation.\n */\nexport enum LogLevel {\n  emerg = 'critical',\n  alert = 'critical',\n  crit = 'critical',\n  critical = 'critical',\n  warn = 'warning',\n  warning = 'warning',\n  err = 'error',\n  eror = 'error',\n  error = 'error',\n  info = 'info',\n  notice = 'info',\n  dbug = 'debug',\n  debug = 'debug',\n  trace = 'trace',\n  unknown = 'unknown',\n}\n\nexport enum LogsMetaKind {\n  Number,\n  String,\n  LabelsMap,\n}\n\nexport interface LogsMetaItem {\n  label: string;\n  value: string | number | Labels;\n  kind: LogsMetaKind;\n}\n\nexport interface LogRowModel {\n  duplicates?: number;\n  entry: string;\n  hasAnsi: boolean;\n  labels: Labels;\n  logLevel: LogLevel;\n  raw: string;\n  searchWords?: string[];\n  timestamp: string; // ISO with nanosec precision\n  timeFromNow: string;\n  timeEpochMs: number;\n  timeLocal: string;\n  timeUtc: string;\n  uniqueLabels?: Labels;\n}\n\nexport interface LogsModel {\n  hasUniqueLabels: boolean;\n  meta?: LogsMetaItem[];\n  rows: LogRowModel[];\n  series?: GraphSeriesXY[];\n}\n\nexport interface LogSearchMatch {\n  start: number;\n  length: number;\n  text: string;\n}\n\nexport interface LogLabelStatsModel {\n  active?: boolean;\n  count: number;\n  proportion: number;\n  value: string;\n}\n\nexport enum LogsDedupStrategy {\n  none = 'none',\n  exact = 'exact',\n  numbers = 'numbers',\n  signature = 'signature',\n}\n\nexport interface LogsParser {\n  /**\n   * Value-agnostic matcher for a field label.\n   * Used to filter rows, and first capture group contains the value.\n   */\n  buildMatcher: (label: string) => RegExp;\n\n  /**\n   * Returns all parsable substrings from a line, used for highlighting\n   */\n  getFields: (line: string) => string[];\n\n  /**\n   * Gets the label name from a parsable substring of a line\n   */\n  getLabelFromField: (field: string) => string;\n\n  /**\n   * Gets the label value from a parsable substring of a line\n   */\n  getValueFromField: (field: string) => string;\n  /**\n   * Function to verify if this is a valid parser for the given line.\n   * The parser accepts the line unless it returns undefined.\n   */\n  test: (line: string) => any;\n}\n","import { DateTime } from '../utils/moment_wrapper';\n\nexport interface RawTimeRange {\n  from: DateTime | string;\n  to: DateTime | string;\n}\n\nexport interface TimeRange {\n  from: DateTime;\n  to: DateTime;\n  raw: RawTimeRange;\n}\n\nexport interface AbsoluteTimeRange {\n  from: number;\n  to: number;\n}\n\nexport interface IntervalValues {\n  interval: string; // 10s,5m\n  intervalMs: number;\n}\n\nexport type TimeZoneUtc = 'utc';\nexport type TimeZoneBrowser = 'browser';\nexport type TimeZone = TimeZoneBrowser | TimeZoneUtc | string;\n\nexport const DefaultTimeZone: TimeZone = 'browser';\n\nexport interface TimeOption {\n  from: string;\n  to: string;\n  display: string;\n  section: number;\n}\n\nexport interface TimeOptions {\n  [key: string]: TimeOption[];\n}\n\nexport type TimeFragment = string | DateTime;\n\nexport const TIME_FORMAT = 'YYYY-MM-DD HH:mm:ss';\n","export enum MappingType {\n  ValueToText = 1,\n  RangeToText = 2,\n}\n\ninterface BaseMap {\n  id: number;\n  operator: string;\n  text: string;\n  type: MappingType;\n}\n\nexport type ValueMapping = ValueMap | RangeMap;\n\nexport interface ValueMap extends BaseMap {\n  value: string;\n}\n\nexport interface RangeMap extends BaseMap {\n  from: string;\n  to: string;\n}\n","//! moment.js\n\n;(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    global.moment = factory()\n}(this, (function () { 'use strict';\n\n    var hookCallback;\n\n    function hooks () {\n        return hookCallback.apply(null, arguments);\n    }\n\n    // This is done to register the method called with moment()\n    // without creating circular dependencies.\n    function setHookCallback (callback) {\n        hookCallback = callback;\n    }\n\n    function isArray(input) {\n        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isObject(input) {\n        // IE8 will treat undefined and null as object if it wasn't for\n        // input != null\n        return input != null && Object.prototype.toString.call(input) === '[object Object]';\n    }\n\n    function isObjectEmpty(obj) {\n        if (Object.getOwnPropertyNames) {\n            return (Object.getOwnPropertyNames(obj).length === 0);\n        } else {\n            var k;\n            for (k in obj) {\n                if (obj.hasOwnProperty(k)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n    }\n\n    function isUndefined(input) {\n        return input === void 0;\n    }\n\n    function isNumber(input) {\n        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';\n    }\n\n    function isDate(input) {\n        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';\n    }\n\n    function map(arr, fn) {\n        var res = [], i;\n        for (i = 0; i < arr.length; ++i) {\n            res.push(fn(arr[i], i));\n        }\n        return res;\n    }\n\n    function hasOwnProp(a, b) {\n        return Object.prototype.hasOwnProperty.call(a, b);\n    }\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (hasOwnProp(b, i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (hasOwnProp(b, 'toString')) {\n            a.toString = b.toString;\n        }\n\n        if (hasOwnProp(b, 'valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function createUTC (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, true).utc();\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object.\n        return {\n            empty           : false,\n            unusedTokens    : [],\n            unusedInput     : [],\n            overflow        : -2,\n            charsLeftOver   : 0,\n            nullInput       : false,\n            invalidMonth    : null,\n            invalidFormat   : false,\n            userInvalidated : false,\n            iso             : false,\n            parsedDateParts : [],\n            meridiem        : null,\n            rfc2822         : false,\n            weekdayMismatch : false\n        };\n    }\n\n    function getParsingFlags(m) {\n        if (m._pf == null) {\n            m._pf = defaultParsingFlags();\n        }\n        return m._pf;\n    }\n\n    var some;\n    if (Array.prototype.some) {\n        some = Array.prototype.some;\n    } else {\n        some = function (fun) {\n            var t = Object(this);\n            var len = t.length >>> 0;\n\n            for (var i = 0; i < len; i++) {\n                if (i in t && fun.call(this, t[i], i, t)) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            var flags = getParsingFlags(m);\n            var parsedParts = some.call(flags.parsedDateParts, function (i) {\n                return i != null;\n            });\n            var isNowValid = !isNaN(m._d.getTime()) &&\n                flags.overflow < 0 &&\n                !flags.empty &&\n                !flags.invalidMonth &&\n                !flags.invalidWeekday &&\n                !flags.weekdayMismatch &&\n                !flags.nullInput &&\n                !flags.invalidFormat &&\n                !flags.userInvalidated &&\n                (!flags.meridiem || (flags.meridiem && parsedParts));\n\n            if (m._strict) {\n                isNowValid = isNowValid &&\n                    flags.charsLeftOver === 0 &&\n                    flags.unusedTokens.length === 0 &&\n                    flags.bigHour === undefined;\n            }\n\n            if (Object.isFrozen == null || !Object.isFrozen(m)) {\n                m._isValid = isNowValid;\n            }\n            else {\n                return isNowValid;\n            }\n        }\n        return m._isValid;\n    }\n\n    function createInvalid (flags) {\n        var m = createUTC(NaN);\n        if (flags != null) {\n            extend(getParsingFlags(m), flags);\n        }\n        else {\n            getParsingFlags(m).userInvalidated = true;\n        }\n\n        return m;\n    }\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    var momentProperties = hooks.momentProperties = [];\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (!isUndefined(from._isAMomentObject)) {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (!isUndefined(from._i)) {\n            to._i = from._i;\n        }\n        if (!isUndefined(from._f)) {\n            to._f = from._f;\n        }\n        if (!isUndefined(from._l)) {\n            to._l = from._l;\n        }\n        if (!isUndefined(from._strict)) {\n            to._strict = from._strict;\n        }\n        if (!isUndefined(from._tzm)) {\n            to._tzm = from._tzm;\n        }\n        if (!isUndefined(from._isUTC)) {\n            to._isUTC = from._isUTC;\n        }\n        if (!isUndefined(from._offset)) {\n            to._offset = from._offset;\n        }\n        if (!isUndefined(from._pf)) {\n            to._pf = getParsingFlags(from);\n        }\n        if (!isUndefined(from._locale)) {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i = 0; i < momentProperties.length; i++) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (!isUndefined(val)) {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    var updateInProgress = false;\n\n    // Moment prototype object\n    function Moment(config) {\n        copyConfig(this, config);\n        this._d = new Date(config._d != null ? config._d.getTime() : NaN);\n        if (!this.isValid()) {\n            this._d = new Date(NaN);\n        }\n        // Prevent infinite loop in case updateOffset creates new moment\n        // objects.\n        if (updateInProgress === false) {\n            updateInProgress = true;\n            hooks.updateOffset(this);\n            updateInProgress = false;\n        }\n    }\n\n    function isMoment (obj) {\n        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);\n    }\n\n    function absFloor (number) {\n        if (number < 0) {\n            // -0 -> 0\n            return Math.ceil(number) || 0;\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            value = absFloor(coercedNumber);\n        }\n\n        return value;\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function warn(msg) {\n        if (hooks.suppressDeprecationWarnings === false &&\n                (typeof console !==  'undefined') && console.warn) {\n            console.warn('Deprecation warning: ' + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n\n        return extend(function () {\n            if (hooks.deprecationHandler != null) {\n                hooks.deprecationHandler(null, msg);\n            }\n            if (firstTime) {\n                var args = [];\n                var arg;\n                for (var i = 0; i < arguments.length; i++) {\n                    arg = '';\n                    if (typeof arguments[i] === 'object') {\n                        arg += '\\n[' + i + '] ';\n                        for (var key in arguments[0]) {\n                            arg += key + ': ' + arguments[0][key] + ', ';\n                        }\n                        arg = arg.slice(0, -2); // Remove trailing comma and space\n                    } else {\n                        arg = arguments[i];\n                    }\n                    args.push(arg);\n                }\n                warn(msg + '\\nArguments: ' + Array.prototype.slice.call(args).join('') + '\\n' + (new Error()).stack);\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    var deprecations = {};\n\n    function deprecateSimple(name, msg) {\n        if (hooks.deprecationHandler != null) {\n            hooks.deprecationHandler(name, msg);\n        }\n        if (!deprecations[name]) {\n            warn(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    hooks.suppressDeprecationWarnings = false;\n    hooks.deprecationHandler = null;\n\n    function isFunction(input) {\n        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';\n    }\n\n    function set (config) {\n        var prop, i;\n        for (i in config) {\n            prop = config[i];\n            if (isFunction(prop)) {\n                this[i] = prop;\n            } else {\n                this['_' + i] = prop;\n            }\n        }\n        this._config = config;\n        // Lenient ordinal parsing accepts just a number in addition to\n        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        this._dayOfMonthOrdinalParseLenient = new RegExp(\n            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +\n                '|' + (/\\d{1,2}/).source);\n    }\n\n    function mergeConfigs(parentConfig, childConfig) {\n        var res = extend({}, parentConfig), prop;\n        for (prop in childConfig) {\n            if (hasOwnProp(childConfig, prop)) {\n                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {\n                    res[prop] = {};\n                    extend(res[prop], parentConfig[prop]);\n                    extend(res[prop], childConfig[prop]);\n                } else if (childConfig[prop] != null) {\n                    res[prop] = childConfig[prop];\n                } else {\n                    delete res[prop];\n                }\n            }\n        }\n        for (prop in parentConfig) {\n            if (hasOwnProp(parentConfig, prop) &&\n                    !hasOwnProp(childConfig, prop) &&\n                    isObject(parentConfig[prop])) {\n                // make sure changes to properties don't modify parent config\n                res[prop] = extend({}, res[prop]);\n            }\n        }\n        return res;\n    }\n\n    function Locale(config) {\n        if (config != null) {\n            this.set(config);\n        }\n    }\n\n    var keys;\n\n    if (Object.keys) {\n        keys = Object.keys;\n    } else {\n        keys = function (obj) {\n            var i, res = [];\n            for (i in obj) {\n                if (hasOwnProp(obj, i)) {\n                    res.push(i);\n                }\n            }\n            return res;\n        };\n    }\n\n    var defaultCalendar = {\n        sameDay : '[Today at] LT',\n        nextDay : '[Tomorrow at] LT',\n        nextWeek : 'dddd [at] LT',\n        lastDay : '[Yesterday at] LT',\n        lastWeek : '[Last] dddd [at] LT',\n        sameElse : 'L'\n    };\n\n    function calendar (key, mom, now) {\n        var output = this._calendar[key] || this._calendar['sameElse'];\n        return isFunction(output) ? output.call(mom, now) : output;\n    }\n\n    var defaultLongDateFormat = {\n        LTS  : 'h:mm:ss A',\n        LT   : 'h:mm A',\n        L    : 'MM/DD/YYYY',\n        LL   : 'MMMM D, YYYY',\n        LLL  : 'MMMM D, YYYY h:mm A',\n        LLLL : 'dddd, MMMM D, YYYY h:mm A'\n    };\n\n    function longDateFormat (key) {\n        var format = this._longDateFormat[key],\n            formatUpper = this._longDateFormat[key.toUpperCase()];\n\n        if (format || !formatUpper) {\n            return format;\n        }\n\n        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {\n            return val.slice(1);\n        });\n\n        return this._longDateFormat[key];\n    }\n\n    var defaultInvalidDate = 'Invalid date';\n\n    function invalidDate () {\n        return this._invalidDate;\n    }\n\n    var defaultOrdinal = '%d';\n    var defaultDayOfMonthOrdinalParse = /\\d{1,2}/;\n\n    function ordinal (number) {\n        return this._ordinal.replace('%d', number);\n    }\n\n    var defaultRelativeTime = {\n        future : 'in %s',\n        past   : '%s ago',\n        s  : 'a few seconds',\n        ss : '%d seconds',\n        m  : 'a minute',\n        mm : '%d minutes',\n        h  : 'an hour',\n        hh : '%d hours',\n        d  : 'a day',\n        dd : '%d days',\n        M  : 'a month',\n        MM : '%d months',\n        y  : 'a year',\n        yy : '%d years'\n    };\n\n    function relativeTime (number, withoutSuffix, string, isFuture) {\n        var output = this._relativeTime[string];\n        return (isFunction(output)) ?\n            output(number, withoutSuffix, string, isFuture) :\n            output.replace(/%d/i, number);\n    }\n\n    function pastFuture (diff, output) {\n        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n        return isFunction(format) ? format(output) : format.replace(/%s/i, output);\n    }\n\n    var aliases = {};\n\n    function addUnitAlias (unit, shorthand) {\n        var lowerCase = unit.toLowerCase();\n        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;\n    }\n\n    function normalizeUnits(units) {\n        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (hasOwnProp(inputObject, prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    var priorities = {};\n\n    function addUnitPriority(unit, priority) {\n        priorities[unit] = priority;\n    }\n\n    function getPrioritizedUnits(unitsObj) {\n        var units = [];\n        for (var u in unitsObj) {\n            units.push({unit: u, priority: priorities[u]});\n        }\n        units.sort(function (a, b) {\n            return a.priority - b.priority;\n        });\n        return units;\n    }\n\n    function zeroFill(number, targetLength, forceSign) {\n        var absNumber = '' + Math.abs(number),\n            zerosToFill = targetLength - absNumber.length,\n            sign = number >= 0;\n        return (sign ? (forceSign ? '+' : '') : '-') +\n            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;\n    }\n\n    var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;\n\n    var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n    var formatFunctions = {};\n\n    var formatTokenFunctions = {};\n\n    // token:    'M'\n    // padded:   ['MM', 2]\n    // ordinal:  'Mo'\n    // callback: function () { this.month() + 1 }\n    function addFormatToken (token, padded, ordinal, callback) {\n        var func = callback;\n        if (typeof callback === 'string') {\n            func = function () {\n                return this[callback]();\n            };\n        }\n        if (token) {\n            formatTokenFunctions[token] = func;\n        }\n        if (padded) {\n            formatTokenFunctions[padded[0]] = function () {\n                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n            };\n        }\n        if (ordinal) {\n            formatTokenFunctions[ordinal] = function () {\n                return this.localeData().ordinal(func.apply(this, arguments), token);\n            };\n        }\n    }\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '', i;\n            for (i = 0; i < length; i++) {\n                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n    var match1         = /\\d/;            //       0 - 9\n    var match2         = /\\d\\d/;          //      00 - 99\n    var match3         = /\\d{3}/;         //     000 - 999\n    var match4         = /\\d{4}/;         //    0000 - 9999\n    var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n    var match1to2      = /\\d\\d?/;         //       0 - 99\n    var match3to4      = /\\d\\d\\d\\d?/;     //     999 - 9999\n    var match5to6      = /\\d\\d\\d\\d\\d\\d?/; //   99999 - 999999\n    var match1to3      = /\\d{1,3}/;       //       0 - 999\n    var match1to4      = /\\d{1,4}/;       //       0 - 9999\n    var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\n    var matchUnsigned  = /\\d+/;           //       0 - inf\n    var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\n    var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n    var matchShortOffset = /Z|[+-]\\d\\d(?::?\\d\\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z\n\n    var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n    // any word (or two) characters or numbers including two/three word month in arabic.\n    // includes scottish gaelic two word and hyphenated months\n    var matchWord = /[0-9]{0,256}['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFF07\\uFF10-\\uFFEF]{1,256}|[\\u0600-\\u06FF\\/]{1,256}(\\s*?[\\u0600-\\u06FF]{1,256}){1,2}/i;\n\n    var regexes = {};\n\n    function addRegexToken (token, regex, strictRegex) {\n        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {\n            return (isStrict && strictRegex) ? strictRegex : regex;\n        };\n    }\n\n    function getParseRegexForToken (token, config) {\n        if (!hasOwnProp(regexes, token)) {\n            return new RegExp(unescapeFormat(token));\n        }\n\n        return regexes[token](config._strict, config._locale);\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function unescapeFormat(s) {\n        return regexEscape(s.replace('\\\\', '').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        }));\n    }\n\n    function regexEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    var tokens = {};\n\n    function addParseToken (token, callback) {\n        var i, func = callback;\n        if (typeof token === 'string') {\n            token = [token];\n        }\n        if (isNumber(callback)) {\n            func = function (input, array) {\n                array[callback] = toInt(input);\n            };\n        }\n        for (i = 0; i < token.length; i++) {\n            tokens[token[i]] = func;\n        }\n    }\n\n    function addWeekParseToken (token, callback) {\n        addParseToken(token, function (input, array, config, token) {\n            config._w = config._w || {};\n            callback(input, config._w, config, token);\n        });\n    }\n\n    function addTimeToArrayFromToken(token, input, config) {\n        if (input != null && hasOwnProp(tokens, token)) {\n            tokens[token](input, config._a, config, token);\n        }\n    }\n\n    var YEAR = 0;\n    var MONTH = 1;\n    var DATE = 2;\n    var HOUR = 3;\n    var MINUTE = 4;\n    var SECOND = 5;\n    var MILLISECOND = 6;\n    var WEEK = 7;\n    var WEEKDAY = 8;\n\n    // FORMATTING\n\n    addFormatToken('Y', 0, 0, function () {\n        var y = this.year();\n        return y <= 9999 ? '' + y : '+' + y;\n    });\n\n    addFormatToken(0, ['YY', 2], 0, function () {\n        return this.year() % 100;\n    });\n\n    addFormatToken(0, ['YYYY',   4],       0, 'year');\n    addFormatToken(0, ['YYYYY',  5],       0, 'year');\n    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');\n\n    // ALIASES\n\n    addUnitAlias('year', 'y');\n\n    // PRIORITIES\n\n    addUnitPriority('year', 1);\n\n    // PARSING\n\n    addRegexToken('Y',      matchSigned);\n    addRegexToken('YY',     match1to2, match2);\n    addRegexToken('YYYY',   match1to4, match4);\n    addRegexToken('YYYYY',  match1to6, match6);\n    addRegexToken('YYYYYY', match1to6, match6);\n\n    addParseToken(['YYYYY', 'YYYYYY'], YEAR);\n    addParseToken('YYYY', function (input, array) {\n        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);\n    });\n    addParseToken('YY', function (input, array) {\n        array[YEAR] = hooks.parseTwoDigitYear(input);\n    });\n    addParseToken('Y', function (input, array) {\n        array[YEAR] = parseInt(input, 10);\n    });\n\n    // HELPERS\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    // HOOKS\n\n    hooks.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    // MOMENTS\n\n    var getSetYear = makeGetSet('FullYear', true);\n\n    function getIsLeapYear () {\n        return isLeapYear(this.year());\n    }\n\n    function makeGetSet (unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                set$1(this, unit, value);\n                hooks.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return get(this, unit);\n            }\n        };\n    }\n\n    function get (mom, unit) {\n        return mom.isValid() ?\n            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;\n    }\n\n    function set$1 (mom, unit, value) {\n        if (mom.isValid() && !isNaN(value)) {\n            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));\n            }\n            else {\n                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function stringGet (units) {\n        units = normalizeUnits(units);\n        if (isFunction(this[units])) {\n            return this[units]();\n        }\n        return this;\n    }\n\n\n    function stringSet (units, value) {\n        if (typeof units === 'object') {\n            units = normalizeObjectUnits(units);\n            var prioritized = getPrioritizedUnits(units);\n            for (var i = 0; i < prioritized.length; i++) {\n                this[prioritized[i].unit](units[prioritized[i].unit]);\n            }\n        } else {\n            units = normalizeUnits(units);\n            if (isFunction(this[units])) {\n                return this[units](value);\n            }\n        }\n        return this;\n    }\n\n    function mod(n, x) {\n        return ((n % x) + x) % x;\n    }\n\n    var indexOf;\n\n    if (Array.prototype.indexOf) {\n        indexOf = Array.prototype.indexOf;\n    } else {\n        indexOf = function (o) {\n            // I know\n            var i;\n            for (i = 0; i < this.length; ++i) {\n                if (this[i] === o) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n    }\n\n    function daysInMonth(year, month) {\n        if (isNaN(year) || isNaN(month)) {\n            return NaN;\n        }\n        var modMonth = mod(month, 12);\n        year += (month - modMonth) / 12;\n        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);\n    }\n\n    // FORMATTING\n\n    addFormatToken('M', ['MM', 2], 'Mo', function () {\n        return this.month() + 1;\n    });\n\n    addFormatToken('MMM', 0, 0, function (format) {\n        return this.localeData().monthsShort(this, format);\n    });\n\n    addFormatToken('MMMM', 0, 0, function (format) {\n        return this.localeData().months(this, format);\n    });\n\n    // ALIASES\n\n    addUnitAlias('month', 'M');\n\n    // PRIORITY\n\n    addUnitPriority('month', 8);\n\n    // PARSING\n\n    addRegexToken('M',    match1to2);\n    addRegexToken('MM',   match1to2, match2);\n    addRegexToken('MMM',  function (isStrict, locale) {\n        return locale.monthsShortRegex(isStrict);\n    });\n    addRegexToken('MMMM', function (isStrict, locale) {\n        return locale.monthsRegex(isStrict);\n    });\n\n    addParseToken(['M', 'MM'], function (input, array) {\n        array[MONTH] = toInt(input) - 1;\n    });\n\n    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {\n        var month = config._locale.monthsParse(input, token, config._strict);\n        // if we didn't find a month name, mark the date as invalid.\n        if (month != null) {\n            array[MONTH] = month;\n        } else {\n            getParsingFlags(config).invalidMonth = input;\n        }\n    });\n\n    // LOCALES\n\n    var MONTHS_IN_FORMAT = /D[oD]?(\\[[^\\[\\]]*\\]|\\s)+MMMM?/;\n    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');\n    function localeMonths (m, format) {\n        if (!m) {\n            return isArray(this._months) ? this._months :\n                this._months['standalone'];\n        }\n        return isArray(this._months) ? this._months[m.month()] :\n            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');\n    function localeMonthsShort (m, format) {\n        if (!m) {\n            return isArray(this._monthsShort) ? this._monthsShort :\n                this._monthsShort['standalone'];\n        }\n        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :\n            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];\n    }\n\n    function handleStrictParse(monthName, format, strict) {\n        var i, ii, mom, llc = monthName.toLocaleLowerCase();\n        if (!this._monthsParse) {\n            // this is not used\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n            for (i = 0; i < 12; ++i) {\n                mom = createUTC([2000, i]);\n                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();\n                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'MMM') {\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._longMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._longMonthsParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortMonthsParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeMonthsParse (monthName, format, strict) {\n        var i, mom, regex;\n\n        if (this._monthsParseExact) {\n            return handleStrictParse.call(this, monthName, format, strict);\n        }\n\n        if (!this._monthsParse) {\n            this._monthsParse = [];\n            this._longMonthsParse = [];\n            this._shortMonthsParse = [];\n        }\n\n        // TODO: add sorting\n        // Sorting makes sure if one month (or abbr) is a prefix of another\n        // see sorting in computeMonthsParse\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            if (strict && !this._longMonthsParse[i]) {\n                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');\n                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');\n            }\n            if (!strict && !this._monthsParse[i]) {\n                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {\n                return i;\n            } else if (!strict && this._monthsParse[i].test(monthName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function setMonth (mom, value) {\n        var dayOfMonth;\n\n        if (!mom.isValid()) {\n            // No op\n            return mom;\n        }\n\n        if (typeof value === 'string') {\n            if (/^\\d+$/.test(value)) {\n                value = toInt(value);\n            } else {\n                value = mom.localeData().monthsParse(value);\n                // TODO: Another silent failure?\n                if (!isNumber(value)) {\n                    return mom;\n                }\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function getSetMonth (value) {\n        if (value != null) {\n            setMonth(this, value);\n            hooks.updateOffset(this, true);\n            return this;\n        } else {\n            return get(this, 'Month');\n        }\n    }\n\n    function getDaysInMonth () {\n        return daysInMonth(this.year(), this.month());\n    }\n\n    var defaultMonthsShortRegex = matchWord;\n    function monthsShortRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsShortStrictRegex;\n            } else {\n                return this._monthsShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsShortRegex')) {\n                this._monthsShortRegex = defaultMonthsShortRegex;\n            }\n            return this._monthsShortStrictRegex && isStrict ?\n                this._monthsShortStrictRegex : this._monthsShortRegex;\n        }\n    }\n\n    var defaultMonthsRegex = matchWord;\n    function monthsRegex (isStrict) {\n        if (this._monthsParseExact) {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                computeMonthsParse.call(this);\n            }\n            if (isStrict) {\n                return this._monthsStrictRegex;\n            } else {\n                return this._monthsRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_monthsRegex')) {\n                this._monthsRegex = defaultMonthsRegex;\n            }\n            return this._monthsStrictRegex && isStrict ?\n                this._monthsStrictRegex : this._monthsRegex;\n        }\n    }\n\n    function computeMonthsParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom;\n        for (i = 0; i < 12; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, i]);\n            shortPieces.push(this.monthsShort(mom, ''));\n            longPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.months(mom, ''));\n            mixedPieces.push(this.monthsShort(mom, ''));\n        }\n        // Sorting makes sure if one month (or abbr) is a prefix of another it\n        // will match the longer piece.\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 12; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n        }\n        for (i = 0; i < 24; i++) {\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._monthsShortRegex = this._monthsRegex;\n        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n    }\n\n    function createDate (y, m, d, h, M, s, ms) {\n        // can't just apply() to create a date:\n        // https://stackoverflow.com/q/181348\n        var date;\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            date = new Date(y + 400, m, d, h, M, s, ms);\n            if (isFinite(date.getFullYear())) {\n                date.setFullYear(y);\n            }\n        } else {\n            date = new Date(y, m, d, h, M, s, ms);\n        }\n\n        return date;\n    }\n\n    function createUTCDate (y) {\n        var date;\n        // the Date.UTC function remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            var args = Array.prototype.slice.call(arguments);\n            // preserve leap years using a full 400 year cycle, then reset\n            args[0] = y + 400;\n            date = new Date(Date.UTC.apply(null, args));\n            if (isFinite(date.getUTCFullYear())) {\n                date.setUTCFullYear(y);\n            }\n        } else {\n            date = new Date(Date.UTC.apply(null, arguments));\n        }\n\n        return date;\n    }\n\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n            fwd = 7 + dow - doy,\n            // first-week day local weekday -- which local weekday is fwd\n            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;\n\n        return -fwdlw + fwd - 1;\n    }\n\n    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {\n        var localWeekday = (7 + weekday - dow) % 7,\n            weekOffset = firstWeekOffset(year, dow, doy),\n            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,\n            resYear, resDayOfYear;\n\n        if (dayOfYear <= 0) {\n            resYear = year - 1;\n            resDayOfYear = daysInYear(resYear) + dayOfYear;\n        } else if (dayOfYear > daysInYear(year)) {\n            resYear = year + 1;\n            resDayOfYear = dayOfYear - daysInYear(year);\n        } else {\n            resYear = year;\n            resDayOfYear = dayOfYear;\n        }\n\n        return {\n            year: resYear,\n            dayOfYear: resDayOfYear\n        };\n    }\n\n    function weekOfYear(mom, dow, doy) {\n        var weekOffset = firstWeekOffset(mom.year(), dow, doy),\n            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,\n            resWeek, resYear;\n\n        if (week < 1) {\n            resYear = mom.year() - 1;\n            resWeek = week + weeksInYear(resYear, dow, doy);\n        } else if (week > weeksInYear(mom.year(), dow, doy)) {\n            resWeek = week - weeksInYear(mom.year(), dow, doy);\n            resYear = mom.year() + 1;\n        } else {\n            resYear = mom.year();\n            resWeek = week;\n        }\n\n        return {\n            week: resWeek,\n            year: resYear\n        };\n    }\n\n    function weeksInYear(year, dow, doy) {\n        var weekOffset = firstWeekOffset(year, dow, doy),\n            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);\n        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;\n    }\n\n    // FORMATTING\n\n    addFormatToken('w', ['ww', 2], 'wo', 'week');\n    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');\n\n    // ALIASES\n\n    addUnitAlias('week', 'w');\n    addUnitAlias('isoWeek', 'W');\n\n    // PRIORITIES\n\n    addUnitPriority('week', 5);\n    addUnitPriority('isoWeek', 5);\n\n    // PARSING\n\n    addRegexToken('w',  match1to2);\n    addRegexToken('ww', match1to2, match2);\n    addRegexToken('W',  match1to2);\n    addRegexToken('WW', match1to2, match2);\n\n    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {\n        week[token.substr(0, 1)] = toInt(input);\n    });\n\n    // HELPERS\n\n    // LOCALES\n\n    function localeWeek (mom) {\n        return weekOfYear(mom, this._week.dow, this._week.doy).week;\n    }\n\n    var defaultLocaleWeek = {\n        dow : 0, // Sunday is the first day of the week.\n        doy : 6  // The week that contains Jan 6th is the first week of the year.\n    };\n\n    function localeFirstDayOfWeek () {\n        return this._week.dow;\n    }\n\n    function localeFirstDayOfYear () {\n        return this._week.doy;\n    }\n\n    // MOMENTS\n\n    function getSetWeek (input) {\n        var week = this.localeData().week(this);\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    function getSetISOWeek (input) {\n        var week = weekOfYear(this, 1, 4).week;\n        return input == null ? week : this.add((input - week) * 7, 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('d', 0, 'do', 'day');\n\n    addFormatToken('dd', 0, 0, function (format) {\n        return this.localeData().weekdaysMin(this, format);\n    });\n\n    addFormatToken('ddd', 0, 0, function (format) {\n        return this.localeData().weekdaysShort(this, format);\n    });\n\n    addFormatToken('dddd', 0, 0, function (format) {\n        return this.localeData().weekdays(this, format);\n    });\n\n    addFormatToken('e', 0, 0, 'weekday');\n    addFormatToken('E', 0, 0, 'isoWeekday');\n\n    // ALIASES\n\n    addUnitAlias('day', 'd');\n    addUnitAlias('weekday', 'e');\n    addUnitAlias('isoWeekday', 'E');\n\n    // PRIORITY\n    addUnitPriority('day', 11);\n    addUnitPriority('weekday', 11);\n    addUnitPriority('isoWeekday', 11);\n\n    // PARSING\n\n    addRegexToken('d',    match1to2);\n    addRegexToken('e',    match1to2);\n    addRegexToken('E',    match1to2);\n    addRegexToken('dd',   function (isStrict, locale) {\n        return locale.weekdaysMinRegex(isStrict);\n    });\n    addRegexToken('ddd',   function (isStrict, locale) {\n        return locale.weekdaysShortRegex(isStrict);\n    });\n    addRegexToken('dddd',   function (isStrict, locale) {\n        return locale.weekdaysRegex(isStrict);\n    });\n\n    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {\n        var weekday = config._locale.weekdaysParse(input, token, config._strict);\n        // if we didn't get a weekday name, mark the date as invalid\n        if (weekday != null) {\n            week.d = weekday;\n        } else {\n            getParsingFlags(config).invalidWeekday = input;\n        }\n    });\n\n    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {\n        week[token] = toInt(input);\n    });\n\n    // HELPERS\n\n    function parseWeekday(input, locale) {\n        if (typeof input !== 'string') {\n            return input;\n        }\n\n        if (!isNaN(input)) {\n            return parseInt(input, 10);\n        }\n\n        input = locale.weekdaysParse(input);\n        if (typeof input === 'number') {\n            return input;\n        }\n\n        return null;\n    }\n\n    function parseIsoWeekday(input, locale) {\n        if (typeof input === 'string') {\n            return locale.weekdaysParse(input) % 7 || 7;\n        }\n        return isNaN(input) ? null : input;\n    }\n\n    // LOCALES\n    function shiftWeekdays (ws, n) {\n        return ws.slice(n, 7).concat(ws.slice(0, n));\n    }\n\n    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');\n    function localeWeekdays (m, format) {\n        var weekdays = isArray(this._weekdays) ? this._weekdays :\n            this._weekdays[(m && m !== true && this._weekdays.isFormat.test(format)) ? 'format' : 'standalone'];\n        return (m === true) ? shiftWeekdays(weekdays, this._week.dow)\n            : (m) ? weekdays[m.day()] : weekdays;\n    }\n\n    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');\n    function localeWeekdaysShort (m) {\n        return (m === true) ? shiftWeekdays(this._weekdaysShort, this._week.dow)\n            : (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;\n    }\n\n    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');\n    function localeWeekdaysMin (m) {\n        return (m === true) ? shiftWeekdays(this._weekdaysMin, this._week.dow)\n            : (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;\n    }\n\n    function handleStrictParse$1(weekdayName, format, strict) {\n        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._minWeekdaysParse = [];\n\n            for (i = 0; i < 7; ++i) {\n                mom = createUTC([2000, 1]).day(i);\n                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();\n                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();\n                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();\n            }\n        }\n\n        if (strict) {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        } else {\n            if (format === 'dddd') {\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else if (format === 'ddd') {\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            } else {\n                ii = indexOf.call(this._minWeekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._weekdaysParse, llc);\n                if (ii !== -1) {\n                    return ii;\n                }\n                ii = indexOf.call(this._shortWeekdaysParse, llc);\n                return ii !== -1 ? ii : null;\n            }\n        }\n    }\n\n    function localeWeekdaysParse (weekdayName, format, strict) {\n        var i, mom, regex;\n\n        if (this._weekdaysParseExact) {\n            return handleStrictParse$1.call(this, weekdayName, format, strict);\n        }\n\n        if (!this._weekdaysParse) {\n            this._weekdaysParse = [];\n            this._minWeekdaysParse = [];\n            this._shortWeekdaysParse = [];\n            this._fullWeekdaysParse = [];\n        }\n\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n\n            mom = createUTC([2000, 1]).day(i);\n            if (strict && !this._fullWeekdaysParse[i]) {\n                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\\\.?') + '$', 'i');\n                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\\\.?') + '$', 'i');\n            }\n            if (!this._weekdaysParse[i]) {\n                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n            }\n            // test the regex\n            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {\n                return i;\n            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {\n                return i;\n            }\n        }\n    }\n\n    // MOMENTS\n\n    function getSetDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n        if (input != null) {\n            input = parseWeekday(input, this.localeData());\n            return this.add(input - day, 'd');\n        } else {\n            return day;\n        }\n    }\n\n    function getSetLocaleDayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n        return input == null ? weekday : this.add(input - weekday, 'd');\n    }\n\n    function getSetISODayOfWeek (input) {\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n\n        // behaves the same as moment#day except\n        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n        // as a setter, sunday should belong to the previous week.\n\n        if (input != null) {\n            var weekday = parseIsoWeekday(input, this.localeData());\n            return this.day(this.day() % 7 ? weekday : weekday - 7);\n        } else {\n            return this.day() || 7;\n        }\n    }\n\n    var defaultWeekdaysRegex = matchWord;\n    function weekdaysRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysStrictRegex;\n            } else {\n                return this._weekdaysRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                this._weekdaysRegex = defaultWeekdaysRegex;\n            }\n            return this._weekdaysStrictRegex && isStrict ?\n                this._weekdaysStrictRegex : this._weekdaysRegex;\n        }\n    }\n\n    var defaultWeekdaysShortRegex = matchWord;\n    function weekdaysShortRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysShortStrictRegex;\n            } else {\n                return this._weekdaysShortRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysShortRegex')) {\n                this._weekdaysShortRegex = defaultWeekdaysShortRegex;\n            }\n            return this._weekdaysShortStrictRegex && isStrict ?\n                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;\n        }\n    }\n\n    var defaultWeekdaysMinRegex = matchWord;\n    function weekdaysMinRegex (isStrict) {\n        if (this._weekdaysParseExact) {\n            if (!hasOwnProp(this, '_weekdaysRegex')) {\n                computeWeekdaysParse.call(this);\n            }\n            if (isStrict) {\n                return this._weekdaysMinStrictRegex;\n            } else {\n                return this._weekdaysMinRegex;\n            }\n        } else {\n            if (!hasOwnProp(this, '_weekdaysMinRegex')) {\n                this._weekdaysMinRegex = defaultWeekdaysMinRegex;\n            }\n            return this._weekdaysMinStrictRegex && isStrict ?\n                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;\n        }\n    }\n\n\n    function computeWeekdaysParse () {\n        function cmpLenRev(a, b) {\n            return b.length - a.length;\n        }\n\n        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],\n            i, mom, minp, shortp, longp;\n        for (i = 0; i < 7; i++) {\n            // make the regex if we don't have it already\n            mom = createUTC([2000, 1]).day(i);\n            minp = this.weekdaysMin(mom, '');\n            shortp = this.weekdaysShort(mom, '');\n            longp = this.weekdays(mom, '');\n            minPieces.push(minp);\n            shortPieces.push(shortp);\n            longPieces.push(longp);\n            mixedPieces.push(minp);\n            mixedPieces.push(shortp);\n            mixedPieces.push(longp);\n        }\n        // Sorting makes sure if one weekday (or abbr) is a prefix of another it\n        // will match the longer piece.\n        minPieces.sort(cmpLenRev);\n        shortPieces.sort(cmpLenRev);\n        longPieces.sort(cmpLenRev);\n        mixedPieces.sort(cmpLenRev);\n        for (i = 0; i < 7; i++) {\n            shortPieces[i] = regexEscape(shortPieces[i]);\n            longPieces[i] = regexEscape(longPieces[i]);\n            mixedPieces[i] = regexEscape(mixedPieces[i]);\n        }\n\n        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');\n        this._weekdaysShortRegex = this._weekdaysRegex;\n        this._weekdaysMinRegex = this._weekdaysRegex;\n\n        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');\n        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');\n        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');\n    }\n\n    // FORMATTING\n\n    function hFormat() {\n        return this.hours() % 12 || 12;\n    }\n\n    function kFormat() {\n        return this.hours() || 24;\n    }\n\n    addFormatToken('H', ['HH', 2], 0, 'hour');\n    addFormatToken('h', ['hh', 2], 0, hFormat);\n    addFormatToken('k', ['kk', 2], 0, kFormat);\n\n    addFormatToken('hmm', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('hmmss', 0, 0, function () {\n        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    addFormatToken('Hmm', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2);\n    });\n\n    addFormatToken('Hmmss', 0, 0, function () {\n        return '' + this.hours() + zeroFill(this.minutes(), 2) +\n            zeroFill(this.seconds(), 2);\n    });\n\n    function meridiem (token, lowercase) {\n        addFormatToken(token, 0, 0, function () {\n            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n        });\n    }\n\n    meridiem('a', true);\n    meridiem('A', false);\n\n    // ALIASES\n\n    addUnitAlias('hour', 'h');\n\n    // PRIORITY\n    addUnitPriority('hour', 13);\n\n    // PARSING\n\n    function matchMeridiem (isStrict, locale) {\n        return locale._meridiemParse;\n    }\n\n    addRegexToken('a',  matchMeridiem);\n    addRegexToken('A',  matchMeridiem);\n    addRegexToken('H',  match1to2);\n    addRegexToken('h',  match1to2);\n    addRegexToken('k',  match1to2);\n    addRegexToken('HH', match1to2, match2);\n    addRegexToken('hh', match1to2, match2);\n    addRegexToken('kk', match1to2, match2);\n\n    addRegexToken('hmm', match3to4);\n    addRegexToken('hmmss', match5to6);\n    addRegexToken('Hmm', match3to4);\n    addRegexToken('Hmmss', match5to6);\n\n    addParseToken(['H', 'HH'], HOUR);\n    addParseToken(['k', 'kk'], function (input, array, config) {\n        var kInput = toInt(input);\n        array[HOUR] = kInput === 24 ? 0 : kInput;\n    });\n    addParseToken(['a', 'A'], function (input, array, config) {\n        config._isPm = config._locale.isPM(input);\n        config._meridiem = input;\n    });\n    addParseToken(['h', 'hh'], function (input, array, config) {\n        array[HOUR] = toInt(input);\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n        getParsingFlags(config).bigHour = true;\n    });\n    addParseToken('Hmm', function (input, array, config) {\n        var pos = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos));\n        array[MINUTE] = toInt(input.substr(pos));\n    });\n    addParseToken('Hmmss', function (input, array, config) {\n        var pos1 = input.length - 4;\n        var pos2 = input.length - 2;\n        array[HOUR] = toInt(input.substr(0, pos1));\n        array[MINUTE] = toInt(input.substr(pos1, 2));\n        array[SECOND] = toInt(input.substr(pos2));\n    });\n\n    // LOCALES\n\n    function localeIsPM (input) {\n        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n        // Using charAt should be more compatible.\n        return ((input + '').toLowerCase().charAt(0) === 'p');\n    }\n\n    var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n    function localeMeridiem (hours, minutes, isLower) {\n        if (hours > 11) {\n            return isLower ? 'pm' : 'PM';\n        } else {\n            return isLower ? 'am' : 'AM';\n        }\n    }\n\n\n    // MOMENTS\n\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour they want. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    var getSetHour = makeGetSet('Hours', true);\n\n    var baseConfig = {\n        calendar: defaultCalendar,\n        longDateFormat: defaultLongDateFormat,\n        invalidDate: defaultInvalidDate,\n        ordinal: defaultOrdinal,\n        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,\n        relativeTime: defaultRelativeTime,\n\n        months: defaultLocaleMonths,\n        monthsShort: defaultLocaleMonthsShort,\n\n        week: defaultLocaleWeek,\n\n        weekdays: defaultLocaleWeekdays,\n        weekdaysMin: defaultLocaleWeekdaysMin,\n        weekdaysShort: defaultLocaleWeekdaysShort,\n\n        meridiemParse: defaultLocaleMeridiemParse\n    };\n\n    // internal storage for locale config files\n    var locales = {};\n    var localeFamilies = {};\n    var globalLocale;\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0, j, next, locale, split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return globalLocale;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null;\n        // TODO: Find a better way to register and load all the locales in Node\n        if (!locales[name] && (typeof module !== 'undefined') &&\n                module && module.exports) {\n            try {\n                oldLocale = globalLocale._abbr;\n                var aliasedRequire = require;\n                aliasedRequire('./locale/' + name);\n                getSetGlobalLocale(oldLocale);\n            } catch (e) {}\n        }\n        return locales[name];\n    }\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    function getSetGlobalLocale (key, values) {\n        var data;\n        if (key) {\n            if (isUndefined(values)) {\n                data = getLocale(key);\n            }\n            else {\n                data = defineLocale(key, values);\n            }\n\n            if (data) {\n                // moment.duration._locale = moment._locale = data;\n                globalLocale = data;\n            }\n            else {\n                if ((typeof console !==  'undefined') && console.warn) {\n                    //warn user if arguments are passed but the locale could not be set\n                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');\n                }\n            }\n        }\n\n        return globalLocale._abbr;\n    }\n\n    function defineLocale (name, config) {\n        if (config !== null) {\n            var locale, parentConfig = baseConfig;\n            config.abbr = name;\n            if (locales[name] != null) {\n                deprecateSimple('defineLocaleOverride',\n                        'use moment.updateLocale(localeName, config) to change ' +\n                        'an existing locale. moment.defineLocale(localeName, ' +\n                        'config) should only be used for creating a new locale ' +\n                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');\n                parentConfig = locales[name]._config;\n            } else if (config.parentLocale != null) {\n                if (locales[config.parentLocale] != null) {\n                    parentConfig = locales[config.parentLocale]._config;\n                } else {\n                    locale = loadLocale(config.parentLocale);\n                    if (locale != null) {\n                        parentConfig = locale._config;\n                    } else {\n                        if (!localeFamilies[config.parentLocale]) {\n                            localeFamilies[config.parentLocale] = [];\n                        }\n                        localeFamilies[config.parentLocale].push({\n                            name: name,\n                            config: config\n                        });\n                        return null;\n                    }\n                }\n            }\n            locales[name] = new Locale(mergeConfigs(parentConfig, config));\n\n            if (localeFamilies[name]) {\n                localeFamilies[name].forEach(function (x) {\n                    defineLocale(x.name, x.config);\n                });\n            }\n\n            // backwards compat for now: also set the locale\n            // make sure we set the locale AFTER all child locales have been\n            // created, so we won't end up with the child locale set.\n            getSetGlobalLocale(name);\n\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    }\n\n    function updateLocale(name, config) {\n        if (config != null) {\n            var locale, tmpLocale, parentConfig = baseConfig;\n            // MERGE\n            tmpLocale = loadLocale(name);\n            if (tmpLocale != null) {\n                parentConfig = tmpLocale._config;\n            }\n            config = mergeConfigs(parentConfig, config);\n            locale = new Locale(config);\n            locale.parentLocale = locales[name];\n            locales[name] = locale;\n\n            // backwards compat for now: also set the locale\n            getSetGlobalLocale(name);\n        } else {\n            // pass null for config to unupdate, useful for tests\n            if (locales[name] != null) {\n                if (locales[name].parentLocale != null) {\n                    locales[name] = locales[name].parentLocale;\n                } else if (locales[name] != null) {\n                    delete locales[name];\n                }\n            }\n        }\n        return locales[name];\n    }\n\n    // returns locale data\n    function getLocale (key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return globalLocale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    }\n\n    function listLocales() {\n        return keys(locales);\n    }\n\n    function checkOverflow (m) {\n        var overflow;\n        var a = m._a;\n\n        if (a && getParsingFlags(m).overflow === -2) {\n            overflow =\n                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {\n                overflow = WEEK;\n            }\n            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {\n                overflow = WEEKDAY;\n            }\n\n            getParsingFlags(m).overflow = overflow;\n        }\n\n        return m;\n    }\n\n    // Pick the first defined of two or three arguments.\n    function defaults(a, b, c) {\n        if (a != null) {\n            return a;\n        }\n        if (b != null) {\n            return b;\n        }\n        return c;\n    }\n\n    function currentDateArray(config) {\n        // hooks is actually the exported moment object\n        var nowValue = new Date(hooks.now());\n        if (config._useUTC) {\n            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];\n        }\n        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function configFromArray (config) {\n        var i, date, input = [], currentDate, expectedWeekday, yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear != null) {\n            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {\n                getParsingFlags(config)._overflowDayOfYear = true;\n            }\n\n            date = createUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // Check for 24:00:00.000\n        if (config._a[HOUR] === 24 &&\n                config._a[MINUTE] === 0 &&\n                config._a[SECOND] === 0 &&\n                config._a[MILLISECOND] === 0) {\n            config._nextDay = true;\n            config._a[HOUR] = 0;\n        }\n\n        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();\n\n        // Apply timezone offset from input. The actual utcOffset can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n        }\n\n        if (config._nextDay) {\n            config._a[HOUR] = 24;\n        }\n\n        // check for mismatching day of week\n        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {\n            getParsingFlags(config).weekdayMismatch = true;\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);\n            week = defaults(w.W, 1);\n            weekday = defaults(w.E, 1);\n            if (weekday < 1 || weekday > 7) {\n                weekdayOverflow = true;\n            }\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            var curWeek = weekOfYear(createLocal(), dow, doy);\n\n            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);\n\n            // Default to current week.\n            week = defaults(w.w, curWeek.week);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < 0 || weekday > 6) {\n                    weekdayOverflow = true;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from beginning of week\n                weekday = w.e + dow;\n                if (w.e < 0 || w.e > 6) {\n                    weekdayOverflow = true;\n                }\n            } else {\n                // default to beginning of week\n                weekday = dow;\n            }\n        }\n        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {\n            getParsingFlags(config)._overflowWeeks = true;\n        } else if (weekdayOverflow != null) {\n            getParsingFlags(config)._overflowWeekday = true;\n        } else {\n            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n    }\n\n    // iso 8601 regex\n    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n    var extendedIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n    var basicIsoRegex = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\n    var tzRegex = /Z|[+-]\\d\\d(?::?\\d\\d)?/;\n\n    var isoDates = [\n        ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d\\d-\\d\\d/],\n        ['YYYY-MM-DD', /\\d{4}-\\d\\d-\\d\\d/],\n        ['GGGG-[W]WW-E', /\\d{4}-W\\d\\d-\\d/],\n        ['GGGG-[W]WW', /\\d{4}-W\\d\\d/, false],\n        ['YYYY-DDD', /\\d{4}-\\d{3}/],\n        ['YYYY-MM', /\\d{4}-\\d\\d/, false],\n        ['YYYYYYMMDD', /[+-]\\d{10}/],\n        ['YYYYMMDD', /\\d{8}/],\n        // YYYYMM is NOT allowed by the standard\n        ['GGGG[W]WWE', /\\d{4}W\\d{3}/],\n        ['GGGG[W]WW', /\\d{4}W\\d{2}/, false],\n        ['YYYYDDD', /\\d{7}/]\n    ];\n\n    // iso time formats and regexes\n    var isoTimes = [\n        ['HH:mm:ss.SSSS', /\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n        ['HH:mm:ss,SSSS', /\\d\\d:\\d\\d:\\d\\d,\\d+/],\n        ['HH:mm:ss', /\\d\\d:\\d\\d:\\d\\d/],\n        ['HH:mm', /\\d\\d:\\d\\d/],\n        ['HHmmss.SSSS', /\\d\\d\\d\\d\\d\\d\\.\\d+/],\n        ['HHmmss,SSSS', /\\d\\d\\d\\d\\d\\d,\\d+/],\n        ['HHmmss', /\\d\\d\\d\\d\\d\\d/],\n        ['HHmm', /\\d\\d\\d\\d/],\n        ['HH', /\\d\\d/]\n    ];\n\n    var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n    // date from iso format\n    function configFromISO(config) {\n        var i, l,\n            string = config._i,\n            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),\n            allowTime, dateFormat, timeFormat, tzFormat;\n\n        if (match) {\n            getParsingFlags(config).iso = true;\n\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(match[1])) {\n                    dateFormat = isoDates[i][0];\n                    allowTime = isoDates[i][2] !== false;\n                    break;\n                }\n            }\n            if (dateFormat == null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[3]) {\n                for (i = 0, l = isoTimes.length; i < l; i++) {\n                    if (isoTimes[i][1].exec(match[3])) {\n                        // match[2] should be 'T' or space\n                        timeFormat = (match[2] || ' ') + isoTimes[i][0];\n                        break;\n                    }\n                }\n                if (timeFormat == null) {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            if (!allowTime && timeFormat != null) {\n                config._isValid = false;\n                return;\n            }\n            if (match[4]) {\n                if (tzRegex.exec(match[4])) {\n                    tzFormat = 'Z';\n                } else {\n                    config._isValid = false;\n                    return;\n                }\n            }\n            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');\n            configFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3\n    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\\s)?(\\d{1,2})\\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\\s(\\d{2,4})\\s(\\d\\d):(\\d\\d)(?::(\\d\\d))?\\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\\d{4}))$/;\n\n    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {\n        var result = [\n            untruncateYear(yearStr),\n            defaultLocaleMonthsShort.indexOf(monthStr),\n            parseInt(dayStr, 10),\n            parseInt(hourStr, 10),\n            parseInt(minuteStr, 10)\n        ];\n\n        if (secondStr) {\n            result.push(parseInt(secondStr, 10));\n        }\n\n        return result;\n    }\n\n    function untruncateYear(yearStr) {\n        var year = parseInt(yearStr, 10);\n        if (year <= 49) {\n            return 2000 + year;\n        } else if (year <= 999) {\n            return 1900 + year;\n        }\n        return year;\n    }\n\n    function preprocessRFC2822(s) {\n        // Remove comments and folding whitespace and replace multiple-spaces with a single space\n        return s.replace(/\\([^)]*\\)|[\\n\\t]/g, ' ').replace(/(\\s\\s+)/g, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n    }\n\n    function checkWeekday(weekdayStr, parsedInput, config) {\n        if (weekdayStr) {\n            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.\n            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),\n                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();\n            if (weekdayProvided !== weekdayActual) {\n                getParsingFlags(config).weekdayMismatch = true;\n                config._isValid = false;\n                return false;\n            }\n        }\n        return true;\n    }\n\n    var obsOffsets = {\n        UT: 0,\n        GMT: 0,\n        EDT: -4 * 60,\n        EST: -5 * 60,\n        CDT: -5 * 60,\n        CST: -6 * 60,\n        MDT: -6 * 60,\n        MST: -7 * 60,\n        PDT: -7 * 60,\n        PST: -8 * 60\n    };\n\n    function calculateOffset(obsOffset, militaryOffset, numOffset) {\n        if (obsOffset) {\n            return obsOffsets[obsOffset];\n        } else if (militaryOffset) {\n            // the only allowed military tz is Z\n            return 0;\n        } else {\n            var hm = parseInt(numOffset, 10);\n            var m = hm % 100, h = (hm - m) / 100;\n            return h * 60 + m;\n        }\n    }\n\n    // date and time from ref 2822 format\n    function configFromRFC2822(config) {\n        var match = rfc2822.exec(preprocessRFC2822(config._i));\n        if (match) {\n            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);\n            if (!checkWeekday(match[1], parsedArray, config)) {\n                return;\n            }\n\n            config._a = parsedArray;\n            config._tzm = calculateOffset(match[8], match[9], match[10]);\n\n            config._d = createUTCDate.apply(null, config._a);\n            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n\n            getParsingFlags(config).rfc2822 = true;\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from iso format or fallback\n    function configFromString(config) {\n        var matched = aspNetJsonRegex.exec(config._i);\n\n        if (matched !== null) {\n            config._d = new Date(+matched[1]);\n            return;\n        }\n\n        configFromISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        configFromRFC2822(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n        } else {\n            return;\n        }\n\n        // Final attempt, use Input Fallback\n        hooks.createFromInputFallback(config);\n    }\n\n    hooks.createFromInputFallback = deprecate(\n        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +\n        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +\n        'discouraged and will be removed in an upcoming major release. Please refer to ' +\n        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',\n        function (config) {\n            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));\n        }\n    );\n\n    // constant that refers to the ISO standard\n    hooks.ISO_8601 = function () {};\n\n    // constant that refers to the RFC 2822 form\n    hooks.RFC_2822 = function () {};\n\n    // date from string and format string\n    function configFromStringAndFormat(config) {\n        // TODO: Move this to another part of the creation flow to prevent circular deps\n        if (config._f === hooks.ISO_8601) {\n            configFromISO(config);\n            return;\n        }\n        if (config._f === hooks.RFC_2822) {\n            configFromRFC2822(config);\n            return;\n        }\n        config._a = [];\n        getParsingFlags(config).empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            // console.log('token', token, 'parsedInput', parsedInput,\n            //         'regex', getParseRegexForToken(token, config));\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    getParsingFlags(config).unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    getParsingFlags(config).empty = false;\n                }\n                else {\n                    getParsingFlags(config).unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                getParsingFlags(config).unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            getParsingFlags(config).unusedInput.push(string);\n        }\n\n        // clear _12h flag if hour is <= 12\n        if (config._a[HOUR] <= 12 &&\n            getParsingFlags(config).bigHour === true &&\n            config._a[HOUR] > 0) {\n            getParsingFlags(config).bigHour = undefined;\n        }\n\n        getParsingFlags(config).parsedDateParts = config._a.slice(0);\n        getParsingFlags(config).meridiem = config._meridiem;\n        // handle meridiem\n        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n        configFromArray(config);\n        checkOverflow(config);\n    }\n\n\n    function meridiemFixWrap (locale, hour, meridiem) {\n        var isPm;\n\n        if (meridiem == null) {\n            // nothing to do\n            return hour;\n        }\n        if (locale.meridiemHour != null) {\n            return locale.meridiemHour(hour, meridiem);\n        } else if (locale.isPM != null) {\n            // Fallback\n            isPm = locale.isPM(meridiem);\n            if (isPm && hour < 12) {\n                hour += 12;\n            }\n            if (!isPm && hour === 12) {\n                hour = 0;\n            }\n            return hour;\n        } else {\n            // this is not supposed to happen\n            return hour;\n        }\n    }\n\n    // date from string and array of format strings\n    function configFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            getParsingFlags(config).invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = copyConfig({}, config);\n            if (config._useUTC != null) {\n                tempConfig._useUTC = config._useUTC;\n            }\n            tempConfig._f = config._f[i];\n            configFromStringAndFormat(tempConfig);\n\n            if (!isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += getParsingFlags(tempConfig).charsLeftOver;\n\n            //or tokens\n            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;\n\n            getParsingFlags(tempConfig).score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    function configFromObject(config) {\n        if (config._d) {\n            return;\n        }\n\n        var i = normalizeObjectUnits(config._i);\n        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {\n            return obj && parseInt(obj, 10);\n        });\n\n        configFromArray(config);\n    }\n\n    function createFromConfig (config) {\n        var res = new Moment(checkOverflow(prepareConfig(config)));\n        if (res._nextDay) {\n            // Adding is smart enough around DST\n            res.add(1, 'd');\n            res._nextDay = undefined;\n        }\n\n        return res;\n    }\n\n    function prepareConfig (config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || getLocale(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return createInvalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (isMoment(input)) {\n            return new Moment(checkOverflow(input));\n        } else if (isDate(input)) {\n            config._d = input;\n        } else if (isArray(format)) {\n            configFromStringAndArray(config);\n        } else if (format) {\n            configFromStringAndFormat(config);\n        }  else {\n            configFromInput(config);\n        }\n\n        if (!isValid(config)) {\n            config._d = null;\n        }\n\n        return config;\n    }\n\n    function configFromInput(config) {\n        var input = config._i;\n        if (isUndefined(input)) {\n            config._d = new Date(hooks.now());\n        } else if (isDate(input)) {\n            config._d = new Date(input.valueOf());\n        } else if (typeof input === 'string') {\n            configFromString(config);\n        } else if (isArray(input)) {\n            config._a = map(input.slice(0), function (obj) {\n                return parseInt(obj, 10);\n            });\n            configFromArray(config);\n        } else if (isObject(input)) {\n            configFromObject(config);\n        } else if (isNumber(input)) {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            hooks.createFromInputFallback(config);\n        }\n    }\n\n    function createLocalOrUTC (input, format, locale, strict, isUTC) {\n        var c = {};\n\n        if (locale === true || locale === false) {\n            strict = locale;\n            locale = undefined;\n        }\n\n        if ((isObject(input) && isObjectEmpty(input)) ||\n                (isArray(input) && input.length === 0)) {\n            input = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c._isAMomentObject = true;\n        c._useUTC = c._isUTC = isUTC;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n\n        return createFromConfig(c);\n    }\n\n    function createLocal (input, format, locale, strict) {\n        return createLocalOrUTC(input, format, locale, strict, false);\n    }\n\n    var prototypeMin = deprecate(\n        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other < this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    var prototypeMax = deprecate(\n        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',\n        function () {\n            var other = createLocal.apply(null, arguments);\n            if (this.isValid() && other.isValid()) {\n                return other > this ? this : other;\n            } else {\n                return createInvalid();\n            }\n        }\n    );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return createLocal();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (!moments[i].isValid() || moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    // TODO: Use [].sort instead?\n    function min () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    }\n\n    function max () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    }\n\n    var now = function () {\n        return Date.now ? Date.now() : +(new Date());\n    };\n\n    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];\n\n    function isDurationValid(m) {\n        for (var key in m) {\n            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {\n                return false;\n            }\n        }\n\n        var unitHasDecimal = false;\n        for (var i = 0; i < ordering.length; ++i) {\n            if (m[ordering[i]]) {\n                if (unitHasDecimal) {\n                    return false; // only allow non-integers for smallest unit\n                }\n                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {\n                    unitHasDecimal = true;\n                }\n            }\n        }\n\n        return true;\n    }\n\n    function isValid$1() {\n        return this._isValid;\n    }\n\n    function createInvalid$1() {\n        return createDuration(NaN);\n    }\n\n    function Duration (duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || normalizedInput.isoWeek || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        this._isValid = isDurationValid(normalizedInput);\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible to translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._locale = getLocale();\n\n        this._bubble();\n    }\n\n    function isDuration (obj) {\n        return obj instanceof Duration;\n    }\n\n    function absRound (number) {\n        if (number < 0) {\n            return Math.round(-1 * number) * -1;\n        } else {\n            return Math.round(number);\n        }\n    }\n\n    // FORMATTING\n\n    function offset (token, separator) {\n        addFormatToken(token, 0, 0, function () {\n            var offset = this.utcOffset();\n            var sign = '+';\n            if (offset < 0) {\n                offset = -offset;\n                sign = '-';\n            }\n            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n        });\n    }\n\n    offset('Z', ':');\n    offset('ZZ', '');\n\n    // PARSING\n\n    addRegexToken('Z',  matchShortOffset);\n    addRegexToken('ZZ', matchShortOffset);\n    addParseToken(['Z', 'ZZ'], function (input, array, config) {\n        config._useUTC = true;\n        config._tzm = offsetFromString(matchShortOffset, input);\n    });\n\n    // HELPERS\n\n    // timezone chunker\n    // '+10:00' > ['10',  '00']\n    // '-1530'  > ['-15', '30']\n    var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n    function offsetFromString(matcher, string) {\n        var matches = (string || '').match(matcher);\n\n        if (matches === null) {\n            return null;\n        }\n\n        var chunk   = matches[matches.length - 1] || [];\n        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];\n        var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return minutes === 0 ?\n          0 :\n          parts[0] === '+' ? minutes : -minutes;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function cloneWithOffset(input, model) {\n        var res, diff;\n        if (model._isUTC) {\n            res = model.clone();\n            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();\n            // Use low-level api, because this fn is low-level api.\n            res._d.setTime(res._d.valueOf() + diff);\n            hooks.updateOffset(res, false);\n            return res;\n        } else {\n            return createLocal(input).local();\n        }\n    }\n\n    function getDateOffset (m) {\n        // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n        // https://github.com/moment/moment/pull/1871\n        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n    }\n\n    // HOOKS\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    hooks.updateOffset = function () {};\n\n    // MOMENTS\n\n    // keepLocalTime = true means only change the timezone, without\n    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->\n    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset\n    // +0200, so we adjust the time as needed, to be valid.\n    //\n    // Keeping the time actually adds/subtracts (one hour)\n    // from the actual represented time. That is why we call updateOffset\n    // a second time. In case it wants us to change the offset again\n    // _changeInProgress == true case, then we have to adjust, because\n    // there is no such time in the given timezone.\n    function getSetOffset (input, keepLocalTime, keepMinutes) {\n        var offset = this._offset || 0,\n            localAdjust;\n        if (!this.isValid()) {\n            return input != null ? this : NaN;\n        }\n        if (input != null) {\n            if (typeof input === 'string') {\n                input = offsetFromString(matchShortOffset, input);\n                if (input === null) {\n                    return this;\n                }\n            } else if (Math.abs(input) < 16 && !keepMinutes) {\n                input = input * 60;\n            }\n            if (!this._isUTC && keepLocalTime) {\n                localAdjust = getDateOffset(this);\n            }\n            this._offset = input;\n            this._isUTC = true;\n            if (localAdjust != null) {\n                this.add(localAdjust, 'm');\n            }\n            if (offset !== input) {\n                if (!keepLocalTime || this._changeInProgress) {\n                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);\n                } else if (!this._changeInProgress) {\n                    this._changeInProgress = true;\n                    hooks.updateOffset(this, true);\n                    this._changeInProgress = null;\n                }\n            }\n            return this;\n        } else {\n            return this._isUTC ? offset : getDateOffset(this);\n        }\n    }\n\n    function getSetZone (input, keepLocalTime) {\n        if (input != null) {\n            if (typeof input !== 'string') {\n                input = -input;\n            }\n\n            this.utcOffset(input, keepLocalTime);\n\n            return this;\n        } else {\n            return -this.utcOffset();\n        }\n    }\n\n    function setOffsetToUTC (keepLocalTime) {\n        return this.utcOffset(0, keepLocalTime);\n    }\n\n    function setOffsetToLocal (keepLocalTime) {\n        if (this._isUTC) {\n            this.utcOffset(0, keepLocalTime);\n            this._isUTC = false;\n\n            if (keepLocalTime) {\n                this.subtract(getDateOffset(this), 'm');\n            }\n        }\n        return this;\n    }\n\n    function setOffsetToParsedOffset () {\n        if (this._tzm != null) {\n            this.utcOffset(this._tzm, false, true);\n        } else if (typeof this._i === 'string') {\n            var tZone = offsetFromString(matchOffset, this._i);\n            if (tZone != null) {\n                this.utcOffset(tZone);\n            }\n            else {\n                this.utcOffset(0, true);\n            }\n        }\n        return this;\n    }\n\n    function hasAlignedHourOffset (input) {\n        if (!this.isValid()) {\n            return false;\n        }\n        input = input ? createLocal(input).utcOffset() : 0;\n\n        return (this.utcOffset() - input) % 60 === 0;\n    }\n\n    function isDaylightSavingTime () {\n        return (\n            this.utcOffset() > this.clone().month(0).utcOffset() ||\n            this.utcOffset() > this.clone().month(5).utcOffset()\n        );\n    }\n\n    function isDaylightSavingTimeShifted () {\n        if (!isUndefined(this._isDSTShifted)) {\n            return this._isDSTShifted;\n        }\n\n        var c = {};\n\n        copyConfig(c, this);\n        c = prepareConfig(c);\n\n        if (c._a) {\n            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);\n            this._isDSTShifted = this.isValid() &&\n                compareArrays(c._a, other.toArray()) > 0;\n        } else {\n            this._isDSTShifted = false;\n        }\n\n        return this._isDSTShifted;\n    }\n\n    function isLocal () {\n        return this.isValid() ? !this._isUTC : false;\n    }\n\n    function isUtcOffset () {\n        return this.isValid() ? this._isUTC : false;\n    }\n\n    function isUtc () {\n        return this.isValid() ? this._isUTC && this._offset === 0 : false;\n    }\n\n    // ASP.NET json date format regex\n    var aspNetRegex = /^(\\-|\\+)?(?:(\\d*)[. ])?(\\d+)\\:(\\d+)(?:\\:(\\d+)(\\.\\d*)?)?$/;\n\n    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n    // and further modified to allow for strings containing both week and day\n    var isoRegex = /^(-|\\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;\n\n    function createDuration (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            diffRes;\n\n        if (isDuration(input)) {\n            duration = {\n                ms : input._milliseconds,\n                d  : input._days,\n                M  : input._months\n            };\n        } else if (isNumber(input)) {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y  : 0,\n                d  : toInt(match[DATE])                         * sign,\n                h  : toInt(match[HOUR])                         * sign,\n                m  : toInt(match[MINUTE])                       * sign,\n                s  : toInt(match[SECOND])                       * sign,\n                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match\n            };\n        } else if (!!(match = isoRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y : parseIso(match[2], sign),\n                M : parseIso(match[3], sign),\n                w : parseIso(match[4], sign),\n                d : parseIso(match[5], sign),\n                h : parseIso(match[6], sign),\n                m : parseIso(match[7], sign),\n                s : parseIso(match[8], sign)\n            };\n        } else if (duration == null) {// checks for null or undefined\n            duration = {};\n        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {\n            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (isDuration(input) && hasOwnProp(input, '_locale')) {\n            ret._locale = input._locale;\n        }\n\n        return ret;\n    }\n\n    createDuration.fn = Duration.prototype;\n    createDuration.invalid = createInvalid$1;\n\n    function parseIso (inp, sign) {\n        // We'd normally use ~~inp for this, but unfortunately it also\n        // converts floats to ints.\n        // inp may be undefined, so careful calling replace on it.\n        var res = inp && parseFloat(inp.replace(',', '.'));\n        // apply sign while we're at it\n        return (isNaN(res) ? 0 : res) * sign;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {};\n\n        res.months = other.month() - base.month() +\n            (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        if (!(base.isValid() && other.isValid())) {\n            return {milliseconds: 0, months: 0};\n        }\n\n        other = cloneWithOffset(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +\n                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');\n                tmp = val; val = period; period = tmp;\n            }\n\n            val = typeof val === 'string' ? +val : val;\n            dur = createDuration(val, period);\n            addSubtract(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addSubtract (mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = absRound(duration._days),\n            months = absRound(duration._months);\n\n        if (!mom.isValid()) {\n            // No op\n            return;\n        }\n\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (months) {\n            setMonth(mom, get(mom, 'Month') + months * isAdding);\n        }\n        if (days) {\n            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);\n        }\n        if (milliseconds) {\n            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);\n        }\n        if (updateOffset) {\n            hooks.updateOffset(mom, days || months);\n        }\n    }\n\n    var add      = createAdder(1, 'add');\n    var subtract = createAdder(-1, 'subtract');\n\n    function getCalendarFormat(myMoment, now) {\n        var diff = myMoment.diff(now, 'days', true);\n        return diff < -6 ? 'sameElse' :\n                diff < -1 ? 'lastWeek' :\n                diff < 0 ? 'lastDay' :\n                diff < 1 ? 'sameDay' :\n                diff < 2 ? 'nextDay' :\n                diff < 7 ? 'nextWeek' : 'sameElse';\n    }\n\n    function calendar$1 (time, formats) {\n        // We want to compare the start of today, vs this.\n        // Getting start-of-today depends on whether we're local/utc/offset or not.\n        var now = time || createLocal(),\n            sod = cloneWithOffset(now, this).startOf('day'),\n            format = hooks.calendarFormat(this, sod) || 'sameElse';\n\n        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);\n\n        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));\n    }\n\n    function clone () {\n        return new Moment(this);\n    }\n\n    function isAfter (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() > localInput.valueOf();\n        } else {\n            return localInput.valueOf() < this.clone().startOf(units).valueOf();\n        }\n    }\n\n    function isBefore (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input);\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() < localInput.valueOf();\n        } else {\n            return this.clone().endOf(units).valueOf() < localInput.valueOf();\n        }\n    }\n\n    function isBetween (from, to, units, inclusivity) {\n        var localFrom = isMoment(from) ? from : createLocal(from),\n            localTo = isMoment(to) ? to : createLocal(to);\n        if (!(this.isValid() && localFrom.isValid() && localTo.isValid())) {\n            return false;\n        }\n        inclusivity = inclusivity || '()';\n        return (inclusivity[0] === '(' ? this.isAfter(localFrom, units) : !this.isBefore(localFrom, units)) &&\n            (inclusivity[1] === ')' ? this.isBefore(localTo, units) : !this.isAfter(localTo, units));\n    }\n\n    function isSame (input, units) {\n        var localInput = isMoment(input) ? input : createLocal(input),\n            inputMs;\n        if (!(this.isValid() && localInput.isValid())) {\n            return false;\n        }\n        units = normalizeUnits(units) || 'millisecond';\n        if (units === 'millisecond') {\n            return this.valueOf() === localInput.valueOf();\n        } else {\n            inputMs = localInput.valueOf();\n            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();\n        }\n    }\n\n    function isSameOrAfter (input, units) {\n        return this.isSame(input, units) || this.isAfter(input, units);\n    }\n\n    function isSameOrBefore (input, units) {\n        return this.isSame(input, units) || this.isBefore(input, units);\n    }\n\n    function diff (input, units, asFloat) {\n        var that,\n            zoneDelta,\n            output;\n\n        if (!this.isValid()) {\n            return NaN;\n        }\n\n        that = cloneWithOffset(input, this);\n\n        if (!that.isValid()) {\n            return NaN;\n        }\n\n        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;\n\n        units = normalizeUnits(units);\n\n        switch (units) {\n            case 'year': output = monthDiff(this, that) / 12; break;\n            case 'month': output = monthDiff(this, that); break;\n            case 'quarter': output = monthDiff(this, that) / 3; break;\n            case 'second': output = (this - that) / 1e3; break; // 1000\n            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60\n            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60\n            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst\n            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst\n            default: output = this - that;\n        }\n\n        return asFloat ? output : absFloor(output);\n    }\n\n    function monthDiff (a, b) {\n        // difference in months\n        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n            // b is in (anchor - 1 month, anchor + 1 month)\n            anchor = a.clone().add(wholeMonthDiff, 'months'),\n            anchor2, adjust;\n\n        if (b - anchor < 0) {\n            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor - anchor2);\n        } else {\n            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');\n            // linear across the month\n            adjust = (b - anchor) / (anchor2 - anchor);\n        }\n\n        //check for negative zero, return zero if negative zero\n        return -(wholeMonthDiff + adjust) || 0;\n    }\n\n    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';\n    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';\n\n    function toString () {\n        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');\n    }\n\n    function toISOString(keepOffset) {\n        if (!this.isValid()) {\n            return null;\n        }\n        var utc = keepOffset !== true;\n        var m = utc ? this.clone().utc() : this;\n        if (m.year() < 0 || m.year() > 9999) {\n            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');\n        }\n        if (isFunction(Date.prototype.toISOString)) {\n            // native implementation is ~50x faster, use it when we can\n            if (utc) {\n                return this.toDate().toISOString();\n            } else {\n                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));\n            }\n        }\n        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');\n    }\n\n    /**\n     * Return a human readable representation of a moment that can\n     * also be evaluated to get a new moment which is the same\n     *\n     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects\n     */\n    function inspect () {\n        if (!this.isValid()) {\n            return 'moment.invalid(/* ' + this._i + ' */)';\n        }\n        var func = 'moment';\n        var zone = '';\n        if (!this.isLocal()) {\n            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';\n            zone = 'Z';\n        }\n        var prefix = '[' + func + '(\"]';\n        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';\n        var datetime = '-MM-DD[T]HH:mm:ss.SSS';\n        var suffix = zone + '[\")]';\n\n        return this.format(prefix + year + datetime + suffix);\n    }\n\n    function format (inputString) {\n        if (!inputString) {\n            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;\n        }\n        var output = formatMoment(this, inputString);\n        return this.localeData().postformat(output);\n    }\n\n    function from (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function fromNow (withoutSuffix) {\n        return this.from(createLocal(), withoutSuffix);\n    }\n\n    function to (time, withoutSuffix) {\n        if (this.isValid() &&\n                ((isMoment(time) && time.isValid()) ||\n                 createLocal(time).isValid())) {\n            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);\n        } else {\n            return this.localeData().invalidDate();\n        }\n    }\n\n    function toNow (withoutSuffix) {\n        return this.to(createLocal(), withoutSuffix);\n    }\n\n    // If passed a locale key, it will set the locale for this\n    // instance.  Otherwise, it will return the locale configuration\n    // variables for this instance.\n    function locale (key) {\n        var newLocaleData;\n\n        if (key === undefined) {\n            return this._locale._abbr;\n        } else {\n            newLocaleData = getLocale(key);\n            if (newLocaleData != null) {\n                this._locale = newLocaleData;\n            }\n            return this;\n        }\n    }\n\n    var lang = deprecate(\n        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',\n        function (key) {\n            if (key === undefined) {\n                return this.localeData();\n            } else {\n                return this.locale(key);\n            }\n        }\n    );\n\n    function localeData () {\n        return this._locale;\n    }\n\n    var MS_PER_SECOND = 1000;\n    var MS_PER_MINUTE = 60 * MS_PER_SECOND;\n    var MS_PER_HOUR = 60 * MS_PER_MINUTE;\n    var MS_PER_400_YEARS = (365 * 400 + 97) * 24 * MS_PER_HOUR;\n\n    // actual modulo - handles negative numbers (for dates before 1970):\n    function mod$1(dividend, divisor) {\n        return (dividend % divisor + divisor) % divisor;\n    }\n\n    function localStartOfDate(y, m, d) {\n        // the date constructor remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return new Date(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return new Date(y, m, d).valueOf();\n        }\n    }\n\n    function utcStartOfDate(y, m, d) {\n        // Date.UTC remaps years 0-99 to 1900-1999\n        if (y < 100 && y >= 0) {\n            // preserve leap years using a full 400 year cycle, then reset\n            return Date.UTC(y + 400, m, d) - MS_PER_400_YEARS;\n        } else {\n            return Date.UTC(y, m, d);\n        }\n    }\n\n    function startOf (units) {\n        var time;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year(), 0, 1);\n                break;\n            case 'quarter':\n                time = startOfDate(this.year(), this.month() - this.month() % 3, 1);\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month(), 1);\n                break;\n            case 'week':\n                time = startOfDate(this.year(), this.month(), this.date() - this.weekday());\n                break;\n            case 'isoWeek':\n                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1));\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date());\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time -= mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR);\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_MINUTE);\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time -= mod$1(time, MS_PER_SECOND);\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function endOf (units) {\n        var time;\n        units = normalizeUnits(units);\n        if (units === undefined || units === 'millisecond' || !this.isValid()) {\n            return this;\n        }\n\n        var startOfDate = this._isUTC ? utcStartOfDate : localStartOfDate;\n\n        switch (units) {\n            case 'year':\n                time = startOfDate(this.year() + 1, 0, 1) - 1;\n                break;\n            case 'quarter':\n                time = startOfDate(this.year(), this.month() - this.month() % 3 + 3, 1) - 1;\n                break;\n            case 'month':\n                time = startOfDate(this.year(), this.month() + 1, 1) - 1;\n                break;\n            case 'week':\n                time = startOfDate(this.year(), this.month(), this.date() - this.weekday() + 7) - 1;\n                break;\n            case 'isoWeek':\n                time = startOfDate(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1;\n                break;\n            case 'day':\n            case 'date':\n                time = startOfDate(this.year(), this.month(), this.date() + 1) - 1;\n                break;\n            case 'hour':\n                time = this._d.valueOf();\n                time += MS_PER_HOUR - mod$1(time + (this._isUTC ? 0 : this.utcOffset() * MS_PER_MINUTE), MS_PER_HOUR) - 1;\n                break;\n            case 'minute':\n                time = this._d.valueOf();\n                time += MS_PER_MINUTE - mod$1(time, MS_PER_MINUTE) - 1;\n                break;\n            case 'second':\n                time = this._d.valueOf();\n                time += MS_PER_SECOND - mod$1(time, MS_PER_SECOND) - 1;\n                break;\n        }\n\n        this._d.setTime(time);\n        hooks.updateOffset(this, true);\n        return this;\n    }\n\n    function valueOf () {\n        return this._d.valueOf() - ((this._offset || 0) * 60000);\n    }\n\n    function unix () {\n        return Math.floor(this.valueOf() / 1000);\n    }\n\n    function toDate () {\n        return new Date(this.valueOf());\n    }\n\n    function toArray () {\n        var m = this;\n        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n    }\n\n    function toObject () {\n        var m = this;\n        return {\n            years: m.year(),\n            months: m.month(),\n            date: m.date(),\n            hours: m.hours(),\n            minutes: m.minutes(),\n            seconds: m.seconds(),\n            milliseconds: m.milliseconds()\n        };\n    }\n\n    function toJSON () {\n        // new Date(NaN).toJSON() === null\n        return this.isValid() ? this.toISOString() : null;\n    }\n\n    function isValid$2 () {\n        return isValid(this);\n    }\n\n    function parsingFlags () {\n        return extend({}, getParsingFlags(this));\n    }\n\n    function invalidAt () {\n        return getParsingFlags(this).overflow;\n    }\n\n    function creationData() {\n        return {\n            input: this._i,\n            format: this._f,\n            locale: this._locale,\n            isUTC: this._isUTC,\n            strict: this._strict\n        };\n    }\n\n    // FORMATTING\n\n    addFormatToken(0, ['gg', 2], 0, function () {\n        return this.weekYear() % 100;\n    });\n\n    addFormatToken(0, ['GG', 2], 0, function () {\n        return this.isoWeekYear() % 100;\n    });\n\n    function addWeekYearFormatToken (token, getter) {\n        addFormatToken(0, [token, token.length], 0, getter);\n    }\n\n    addWeekYearFormatToken('gggg',     'weekYear');\n    addWeekYearFormatToken('ggggg',    'weekYear');\n    addWeekYearFormatToken('GGGG',  'isoWeekYear');\n    addWeekYearFormatToken('GGGGG', 'isoWeekYear');\n\n    // ALIASES\n\n    addUnitAlias('weekYear', 'gg');\n    addUnitAlias('isoWeekYear', 'GG');\n\n    // PRIORITY\n\n    addUnitPriority('weekYear', 1);\n    addUnitPriority('isoWeekYear', 1);\n\n\n    // PARSING\n\n    addRegexToken('G',      matchSigned);\n    addRegexToken('g',      matchSigned);\n    addRegexToken('GG',     match1to2, match2);\n    addRegexToken('gg',     match1to2, match2);\n    addRegexToken('GGGG',   match1to4, match4);\n    addRegexToken('gggg',   match1to4, match4);\n    addRegexToken('GGGGG',  match1to6, match6);\n    addRegexToken('ggggg',  match1to6, match6);\n\n    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {\n        week[token.substr(0, 2)] = toInt(input);\n    });\n\n    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {\n        week[token] = hooks.parseTwoDigitYear(input);\n    });\n\n    // MOMENTS\n\n    function getSetWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input,\n                this.week(),\n                this.weekday(),\n                this.localeData()._week.dow,\n                this.localeData()._week.doy);\n    }\n\n    function getSetISOWeekYear (input) {\n        return getSetWeekYearHelper.call(this,\n                input, this.isoWeek(), this.isoWeekday(), 1, 4);\n    }\n\n    function getISOWeeksInYear () {\n        return weeksInYear(this.year(), 1, 4);\n    }\n\n    function getWeeksInYear () {\n        var weekInfo = this.localeData()._week;\n        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n    }\n\n    function getSetWeekYearHelper(input, week, weekday, dow, doy) {\n        var weeksTarget;\n        if (input == null) {\n            return weekOfYear(this, dow, doy).year;\n        } else {\n            weeksTarget = weeksInYear(input, dow, doy);\n            if (week > weeksTarget) {\n                week = weeksTarget;\n            }\n            return setWeekAll.call(this, input, week, weekday, dow, doy);\n        }\n    }\n\n    function setWeekAll(weekYear, week, weekday, dow, doy) {\n        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),\n            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);\n\n        this.year(date.getUTCFullYear());\n        this.month(date.getUTCMonth());\n        this.date(date.getUTCDate());\n        return this;\n    }\n\n    // FORMATTING\n\n    addFormatToken('Q', 0, 'Qo', 'quarter');\n\n    // ALIASES\n\n    addUnitAlias('quarter', 'Q');\n\n    // PRIORITY\n\n    addUnitPriority('quarter', 7);\n\n    // PARSING\n\n    addRegexToken('Q', match1);\n    addParseToken('Q', function (input, array) {\n        array[MONTH] = (toInt(input) - 1) * 3;\n    });\n\n    // MOMENTS\n\n    function getSetQuarter (input) {\n        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n    }\n\n    // FORMATTING\n\n    addFormatToken('D', ['DD', 2], 'Do', 'date');\n\n    // ALIASES\n\n    addUnitAlias('date', 'D');\n\n    // PRIORITY\n    addUnitPriority('date', 9);\n\n    // PARSING\n\n    addRegexToken('D',  match1to2);\n    addRegexToken('DD', match1to2, match2);\n    addRegexToken('Do', function (isStrict, locale) {\n        // TODO: Remove \"ordinalParse\" fallback in next major release.\n        return isStrict ?\n          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :\n          locale._dayOfMonthOrdinalParseLenient;\n    });\n\n    addParseToken(['D', 'DD'], DATE);\n    addParseToken('Do', function (input, array) {\n        array[DATE] = toInt(input.match(match1to2)[0]);\n    });\n\n    // MOMENTS\n\n    var getSetDayOfMonth = makeGetSet('Date', true);\n\n    // FORMATTING\n\n    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');\n\n    // ALIASES\n\n    addUnitAlias('dayOfYear', 'DDD');\n\n    // PRIORITY\n    addUnitPriority('dayOfYear', 4);\n\n    // PARSING\n\n    addRegexToken('DDD',  match1to3);\n    addRegexToken('DDDD', match3);\n    addParseToken(['DDD', 'DDDD'], function (input, array, config) {\n        config._dayOfYear = toInt(input);\n    });\n\n    // HELPERS\n\n    // MOMENTS\n\n    function getSetDayOfYear (input) {\n        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;\n        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n    }\n\n    // FORMATTING\n\n    addFormatToken('m', ['mm', 2], 0, 'minute');\n\n    // ALIASES\n\n    addUnitAlias('minute', 'm');\n\n    // PRIORITY\n\n    addUnitPriority('minute', 14);\n\n    // PARSING\n\n    addRegexToken('m',  match1to2);\n    addRegexToken('mm', match1to2, match2);\n    addParseToken(['m', 'mm'], MINUTE);\n\n    // MOMENTS\n\n    var getSetMinute = makeGetSet('Minutes', false);\n\n    // FORMATTING\n\n    addFormatToken('s', ['ss', 2], 0, 'second');\n\n    // ALIASES\n\n    addUnitAlias('second', 's');\n\n    // PRIORITY\n\n    addUnitPriority('second', 15);\n\n    // PARSING\n\n    addRegexToken('s',  match1to2);\n    addRegexToken('ss', match1to2, match2);\n    addParseToken(['s', 'ss'], SECOND);\n\n    // MOMENTS\n\n    var getSetSecond = makeGetSet('Seconds', false);\n\n    // FORMATTING\n\n    addFormatToken('S', 0, 0, function () {\n        return ~~(this.millisecond() / 100);\n    });\n\n    addFormatToken(0, ['SS', 2], 0, function () {\n        return ~~(this.millisecond() / 10);\n    });\n\n    addFormatToken(0, ['SSS', 3], 0, 'millisecond');\n    addFormatToken(0, ['SSSS', 4], 0, function () {\n        return this.millisecond() * 10;\n    });\n    addFormatToken(0, ['SSSSS', 5], 0, function () {\n        return this.millisecond() * 100;\n    });\n    addFormatToken(0, ['SSSSSS', 6], 0, function () {\n        return this.millisecond() * 1000;\n    });\n    addFormatToken(0, ['SSSSSSS', 7], 0, function () {\n        return this.millisecond() * 10000;\n    });\n    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {\n        return this.millisecond() * 100000;\n    });\n    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {\n        return this.millisecond() * 1000000;\n    });\n\n\n    // ALIASES\n\n    addUnitAlias('millisecond', 'ms');\n\n    // PRIORITY\n\n    addUnitPriority('millisecond', 16);\n\n    // PARSING\n\n    addRegexToken('S',    match1to3, match1);\n    addRegexToken('SS',   match1to3, match2);\n    addRegexToken('SSS',  match1to3, match3);\n\n    var token;\n    for (token = 'SSSS'; token.length <= 9; token += 'S') {\n        addRegexToken(token, matchUnsigned);\n    }\n\n    function parseMs(input, array) {\n        array[MILLISECOND] = toInt(('0.' + input) * 1000);\n    }\n\n    for (token = 'S'; token.length <= 9; token += 'S') {\n        addParseToken(token, parseMs);\n    }\n    // MOMENTS\n\n    var getSetMillisecond = makeGetSet('Milliseconds', false);\n\n    // FORMATTING\n\n    addFormatToken('z',  0, 0, 'zoneAbbr');\n    addFormatToken('zz', 0, 0, 'zoneName');\n\n    // MOMENTS\n\n    function getZoneAbbr () {\n        return this._isUTC ? 'UTC' : '';\n    }\n\n    function getZoneName () {\n        return this._isUTC ? 'Coordinated Universal Time' : '';\n    }\n\n    var proto = Moment.prototype;\n\n    proto.add               = add;\n    proto.calendar          = calendar$1;\n    proto.clone             = clone;\n    proto.diff              = diff;\n    proto.endOf             = endOf;\n    proto.format            = format;\n    proto.from              = from;\n    proto.fromNow           = fromNow;\n    proto.to                = to;\n    proto.toNow             = toNow;\n    proto.get               = stringGet;\n    proto.invalidAt         = invalidAt;\n    proto.isAfter           = isAfter;\n    proto.isBefore          = isBefore;\n    proto.isBetween         = isBetween;\n    proto.isSame            = isSame;\n    proto.isSameOrAfter     = isSameOrAfter;\n    proto.isSameOrBefore    = isSameOrBefore;\n    proto.isValid           = isValid$2;\n    proto.lang              = lang;\n    proto.locale            = locale;\n    proto.localeData        = localeData;\n    proto.max               = prototypeMax;\n    proto.min               = prototypeMin;\n    proto.parsingFlags      = parsingFlags;\n    proto.set               = stringSet;\n    proto.startOf           = startOf;\n    proto.subtract          = subtract;\n    proto.toArray           = toArray;\n    proto.toObject          = toObject;\n    proto.toDate            = toDate;\n    proto.toISOString       = toISOString;\n    proto.inspect           = inspect;\n    proto.toJSON            = toJSON;\n    proto.toString          = toString;\n    proto.unix              = unix;\n    proto.valueOf           = valueOf;\n    proto.creationData      = creationData;\n    proto.year       = getSetYear;\n    proto.isLeapYear = getIsLeapYear;\n    proto.weekYear    = getSetWeekYear;\n    proto.isoWeekYear = getSetISOWeekYear;\n    proto.quarter = proto.quarters = getSetQuarter;\n    proto.month       = getSetMonth;\n    proto.daysInMonth = getDaysInMonth;\n    proto.week           = proto.weeks        = getSetWeek;\n    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;\n    proto.weeksInYear    = getWeeksInYear;\n    proto.isoWeeksInYear = getISOWeeksInYear;\n    proto.date       = getSetDayOfMonth;\n    proto.day        = proto.days             = getSetDayOfWeek;\n    proto.weekday    = getSetLocaleDayOfWeek;\n    proto.isoWeekday = getSetISODayOfWeek;\n    proto.dayOfYear  = getSetDayOfYear;\n    proto.hour = proto.hours = getSetHour;\n    proto.minute = proto.minutes = getSetMinute;\n    proto.second = proto.seconds = getSetSecond;\n    proto.millisecond = proto.milliseconds = getSetMillisecond;\n    proto.utcOffset            = getSetOffset;\n    proto.utc                  = setOffsetToUTC;\n    proto.local                = setOffsetToLocal;\n    proto.parseZone            = setOffsetToParsedOffset;\n    proto.hasAlignedHourOffset = hasAlignedHourOffset;\n    proto.isDST                = isDaylightSavingTime;\n    proto.isLocal              = isLocal;\n    proto.isUtcOffset          = isUtcOffset;\n    proto.isUtc                = isUtc;\n    proto.isUTC                = isUtc;\n    proto.zoneAbbr = getZoneAbbr;\n    proto.zoneName = getZoneName;\n    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);\n    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);\n    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);\n    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);\n    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);\n\n    function createUnix (input) {\n        return createLocal(input * 1000);\n    }\n\n    function createInZone () {\n        return createLocal.apply(null, arguments).parseZone();\n    }\n\n    function preParsePostFormat (string) {\n        return string;\n    }\n\n    var proto$1 = Locale.prototype;\n\n    proto$1.calendar        = calendar;\n    proto$1.longDateFormat  = longDateFormat;\n    proto$1.invalidDate     = invalidDate;\n    proto$1.ordinal         = ordinal;\n    proto$1.preparse        = preParsePostFormat;\n    proto$1.postformat      = preParsePostFormat;\n    proto$1.relativeTime    = relativeTime;\n    proto$1.pastFuture      = pastFuture;\n    proto$1.set             = set;\n\n    proto$1.months            =        localeMonths;\n    proto$1.monthsShort       =        localeMonthsShort;\n    proto$1.monthsParse       =        localeMonthsParse;\n    proto$1.monthsRegex       = monthsRegex;\n    proto$1.monthsShortRegex  = monthsShortRegex;\n    proto$1.week = localeWeek;\n    proto$1.firstDayOfYear = localeFirstDayOfYear;\n    proto$1.firstDayOfWeek = localeFirstDayOfWeek;\n\n    proto$1.weekdays       =        localeWeekdays;\n    proto$1.weekdaysMin    =        localeWeekdaysMin;\n    proto$1.weekdaysShort  =        localeWeekdaysShort;\n    proto$1.weekdaysParse  =        localeWeekdaysParse;\n\n    proto$1.weekdaysRegex       =        weekdaysRegex;\n    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;\n    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;\n\n    proto$1.isPM = localeIsPM;\n    proto$1.meridiem = localeMeridiem;\n\n    function get$1 (format, index, field, setter) {\n        var locale = getLocale();\n        var utc = createUTC().set(setter, index);\n        return locale[field](utc, format);\n    }\n\n    function listMonthsImpl (format, index, field) {\n        if (isNumber(format)) {\n            index = format;\n            format = undefined;\n        }\n\n        format = format || '';\n\n        if (index != null) {\n            return get$1(format, index, field, 'month');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 12; i++) {\n            out[i] = get$1(format, i, field, 'month');\n        }\n        return out;\n    }\n\n    // ()\n    // (5)\n    // (fmt, 5)\n    // (fmt)\n    // (true)\n    // (true, 5)\n    // (true, fmt, 5)\n    // (true, fmt)\n    function listWeekdaysImpl (localeSorted, format, index, field) {\n        if (typeof localeSorted === 'boolean') {\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        } else {\n            format = localeSorted;\n            index = format;\n            localeSorted = false;\n\n            if (isNumber(format)) {\n                index = format;\n                format = undefined;\n            }\n\n            format = format || '';\n        }\n\n        var locale = getLocale(),\n            shift = localeSorted ? locale._week.dow : 0;\n\n        if (index != null) {\n            return get$1(format, (index + shift) % 7, field, 'day');\n        }\n\n        var i;\n        var out = [];\n        for (i = 0; i < 7; i++) {\n            out[i] = get$1(format, (i + shift) % 7, field, 'day');\n        }\n        return out;\n    }\n\n    function listMonths (format, index) {\n        return listMonthsImpl(format, index, 'months');\n    }\n\n    function listMonthsShort (format, index) {\n        return listMonthsImpl(format, index, 'monthsShort');\n    }\n\n    function listWeekdays (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');\n    }\n\n    function listWeekdaysShort (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');\n    }\n\n    function listWeekdaysMin (localeSorted, format, index) {\n        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');\n    }\n\n    getSetGlobalLocale('en', {\n        dayOfMonthOrdinalParse: /\\d{1,2}(th|st|nd|rd)/,\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    // Side effect imports\n\n    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);\n    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);\n\n    var mathAbs = Math.abs;\n\n    function abs () {\n        var data           = this._data;\n\n        this._milliseconds = mathAbs(this._milliseconds);\n        this._days         = mathAbs(this._days);\n        this._months       = mathAbs(this._months);\n\n        data.milliseconds  = mathAbs(data.milliseconds);\n        data.seconds       = mathAbs(data.seconds);\n        data.minutes       = mathAbs(data.minutes);\n        data.hours         = mathAbs(data.hours);\n        data.months        = mathAbs(data.months);\n        data.years         = mathAbs(data.years);\n\n        return this;\n    }\n\n    function addSubtract$1 (duration, input, value, direction) {\n        var other = createDuration(input, value);\n\n        duration._milliseconds += direction * other._milliseconds;\n        duration._days         += direction * other._days;\n        duration._months       += direction * other._months;\n\n        return duration._bubble();\n    }\n\n    // supports only 2.0-style add(1, 's') or add(duration)\n    function add$1 (input, value) {\n        return addSubtract$1(this, input, value, 1);\n    }\n\n    // supports only 2.0-style subtract(1, 's') or subtract(duration)\n    function subtract$1 (input, value) {\n        return addSubtract$1(this, input, value, -1);\n    }\n\n    function absCeil (number) {\n        if (number < 0) {\n            return Math.floor(number);\n        } else {\n            return Math.ceil(number);\n        }\n    }\n\n    function bubble () {\n        var milliseconds = this._milliseconds;\n        var days         = this._days;\n        var months       = this._months;\n        var data         = this._data;\n        var seconds, minutes, hours, years, monthsFromDays;\n\n        // if we have a mix of positive and negative values, bubble down first\n        // check: https://github.com/moment/moment/issues/2166\n        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||\n                (milliseconds <= 0 && days <= 0 && months <= 0))) {\n            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;\n            days = 0;\n            months = 0;\n        }\n\n        // The following code bubbles up values, see the tests for\n        // examples of what that means.\n        data.milliseconds = milliseconds % 1000;\n\n        seconds           = absFloor(milliseconds / 1000);\n        data.seconds      = seconds % 60;\n\n        minutes           = absFloor(seconds / 60);\n        data.minutes      = minutes % 60;\n\n        hours             = absFloor(minutes / 60);\n        data.hours        = hours % 24;\n\n        days += absFloor(hours / 24);\n\n        // convert days to months\n        monthsFromDays = absFloor(daysToMonths(days));\n        months += monthsFromDays;\n        days -= absCeil(monthsToDays(monthsFromDays));\n\n        // 12 months -> 1 year\n        years = absFloor(months / 12);\n        months %= 12;\n\n        data.days   = days;\n        data.months = months;\n        data.years  = years;\n\n        return this;\n    }\n\n    function daysToMonths (days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        // 400 years have 12 months === 4800\n        return days * 4800 / 146097;\n    }\n\n    function monthsToDays (months) {\n        // the reverse of daysToMonths\n        return months * 146097 / 4800;\n    }\n\n    function as (units) {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        var days;\n        var months;\n        var milliseconds = this._milliseconds;\n\n        units = normalizeUnits(units);\n\n        if (units === 'month' || units === 'quarter' || units === 'year') {\n            days = this._days + milliseconds / 864e5;\n            months = this._months + daysToMonths(days);\n            switch (units) {\n                case 'month':   return months;\n                case 'quarter': return months / 3;\n                case 'year':    return months / 12;\n            }\n        } else {\n            // handle milliseconds separately because of floating point math errors (issue #1867)\n            days = this._days + Math.round(monthsToDays(this._months));\n            switch (units) {\n                case 'week'   : return days / 7     + milliseconds / 6048e5;\n                case 'day'    : return days         + milliseconds / 864e5;\n                case 'hour'   : return days * 24    + milliseconds / 36e5;\n                case 'minute' : return days * 1440  + milliseconds / 6e4;\n                case 'second' : return days * 86400 + milliseconds / 1000;\n                // Math.floor prevents floating point math errors here\n                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;\n                default: throw new Error('Unknown unit ' + units);\n            }\n        }\n    }\n\n    // TODO: Use this.as('ms')?\n    function valueOf$1 () {\n        if (!this.isValid()) {\n            return NaN;\n        }\n        return (\n            this._milliseconds +\n            this._days * 864e5 +\n            (this._months % 12) * 2592e6 +\n            toInt(this._months / 12) * 31536e6\n        );\n    }\n\n    function makeAs (alias) {\n        return function () {\n            return this.as(alias);\n        };\n    }\n\n    var asMilliseconds = makeAs('ms');\n    var asSeconds      = makeAs('s');\n    var asMinutes      = makeAs('m');\n    var asHours        = makeAs('h');\n    var asDays         = makeAs('d');\n    var asWeeks        = makeAs('w');\n    var asMonths       = makeAs('M');\n    var asQuarters     = makeAs('Q');\n    var asYears        = makeAs('y');\n\n    function clone$1 () {\n        return createDuration(this);\n    }\n\n    function get$2 (units) {\n        units = normalizeUnits(units);\n        return this.isValid() ? this[units + 's']() : NaN;\n    }\n\n    function makeGetter(name) {\n        return function () {\n            return this.isValid() ? this._data[name] : NaN;\n        };\n    }\n\n    var milliseconds = makeGetter('milliseconds');\n    var seconds      = makeGetter('seconds');\n    var minutes      = makeGetter('minutes');\n    var hours        = makeGetter('hours');\n    var days         = makeGetter('days');\n    var months       = makeGetter('months');\n    var years        = makeGetter('years');\n\n    function weeks () {\n        return absFloor(this.days() / 7);\n    }\n\n    var round = Math.round;\n    var thresholds = {\n        ss: 44,         // a few seconds to seconds\n        s : 45,         // seconds to minute\n        m : 45,         // minutes to hour\n        h : 22,         // hours to day\n        d : 26,         // days to month\n        M : 11          // months to year\n    };\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {\n        var duration = createDuration(posNegDuration).abs();\n        var seconds  = round(duration.as('s'));\n        var minutes  = round(duration.as('m'));\n        var hours    = round(duration.as('h'));\n        var days     = round(duration.as('d'));\n        var months   = round(duration.as('M'));\n        var years    = round(duration.as('y'));\n\n        var a = seconds <= thresholds.ss && ['s', seconds]  ||\n                seconds < thresholds.s   && ['ss', seconds] ||\n                minutes <= 1             && ['m']           ||\n                minutes < thresholds.m   && ['mm', minutes] ||\n                hours   <= 1             && ['h']           ||\n                hours   < thresholds.h   && ['hh', hours]   ||\n                days    <= 1             && ['d']           ||\n                days    < thresholds.d   && ['dd', days]    ||\n                months  <= 1             && ['M']           ||\n                months  < thresholds.M   && ['MM', months]  ||\n                years   <= 1             && ['y']           || ['yy', years];\n\n        a[2] = withoutSuffix;\n        a[3] = +posNegDuration > 0;\n        a[4] = locale;\n        return substituteTimeAgo.apply(null, a);\n    }\n\n    // This function allows you to set the rounding function for relative time strings\n    function getSetRelativeTimeRounding (roundingFunction) {\n        if (roundingFunction === undefined) {\n            return round;\n        }\n        if (typeof(roundingFunction) === 'function') {\n            round = roundingFunction;\n            return true;\n        }\n        return false;\n    }\n\n    // This function allows you to set a threshold for relative time strings\n    function getSetRelativeTimeThreshold (threshold, limit) {\n        if (thresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return thresholds[threshold];\n        }\n        thresholds[threshold] = limit;\n        if (threshold === 's') {\n            thresholds.ss = limit - 1;\n        }\n        return true;\n    }\n\n    function humanize (withSuffix) {\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var locale = this.localeData();\n        var output = relativeTime$1(this, !withSuffix, locale);\n\n        if (withSuffix) {\n            output = locale.pastFuture(+this, output);\n        }\n\n        return locale.postformat(output);\n    }\n\n    var abs$1 = Math.abs;\n\n    function sign(x) {\n        return ((x > 0) - (x < 0)) || +x;\n    }\n\n    function toISOString$1() {\n        // for ISO strings we do not use the normal bubbling rules:\n        //  * milliseconds bubble up until they become hours\n        //  * days do not bubble at all\n        //  * months bubble up until they become years\n        // This is because there is no context-free conversion between hours and days\n        // (think of clock changes)\n        // and also not between days and months (28-31 days per month)\n        if (!this.isValid()) {\n            return this.localeData().invalidDate();\n        }\n\n        var seconds = abs$1(this._milliseconds) / 1000;\n        var days         = abs$1(this._days);\n        var months       = abs$1(this._months);\n        var minutes, hours, years;\n\n        // 3600 seconds -> 60 minutes -> 1 hour\n        minutes           = absFloor(seconds / 60);\n        hours             = absFloor(minutes / 60);\n        seconds %= 60;\n        minutes %= 60;\n\n        // 12 months -> 1 year\n        years  = absFloor(months / 12);\n        months %= 12;\n\n\n        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n        var Y = years;\n        var M = months;\n        var D = days;\n        var h = hours;\n        var m = minutes;\n        var s = seconds ? seconds.toFixed(3).replace(/\\.?0+$/, '') : '';\n        var total = this.asSeconds();\n\n        if (!total) {\n            // this is the same as C#'s (Noda) and python (isodate)...\n            // but not other JS (goog.date)\n            return 'P0D';\n        }\n\n        var totalSign = total < 0 ? '-' : '';\n        var ymSign = sign(this._months) !== sign(total) ? '-' : '';\n        var daysSign = sign(this._days) !== sign(total) ? '-' : '';\n        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';\n\n        return totalSign + 'P' +\n            (Y ? ymSign + Y + 'Y' : '') +\n            (M ? ymSign + M + 'M' : '') +\n            (D ? daysSign + D + 'D' : '') +\n            ((h || m || s) ? 'T' : '') +\n            (h ? hmsSign + h + 'H' : '') +\n            (m ? hmsSign + m + 'M' : '') +\n            (s ? hmsSign + s + 'S' : '');\n    }\n\n    var proto$2 = Duration.prototype;\n\n    proto$2.isValid        = isValid$1;\n    proto$2.abs            = abs;\n    proto$2.add            = add$1;\n    proto$2.subtract       = subtract$1;\n    proto$2.as             = as;\n    proto$2.asMilliseconds = asMilliseconds;\n    proto$2.asSeconds      = asSeconds;\n    proto$2.asMinutes      = asMinutes;\n    proto$2.asHours        = asHours;\n    proto$2.asDays         = asDays;\n    proto$2.asWeeks        = asWeeks;\n    proto$2.asMonths       = asMonths;\n    proto$2.asQuarters     = asQuarters;\n    proto$2.asYears        = asYears;\n    proto$2.valueOf        = valueOf$1;\n    proto$2._bubble        = bubble;\n    proto$2.clone          = clone$1;\n    proto$2.get            = get$2;\n    proto$2.milliseconds   = milliseconds;\n    proto$2.seconds        = seconds;\n    proto$2.minutes        = minutes;\n    proto$2.hours          = hours;\n    proto$2.days           = days;\n    proto$2.weeks          = weeks;\n    proto$2.months         = months;\n    proto$2.years          = years;\n    proto$2.humanize       = humanize;\n    proto$2.toISOString    = toISOString$1;\n    proto$2.toString       = toISOString$1;\n    proto$2.toJSON         = toISOString$1;\n    proto$2.locale         = locale;\n    proto$2.localeData     = localeData;\n\n    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);\n    proto$2.lang = lang;\n\n    // Side effect imports\n\n    // FORMATTING\n\n    addFormatToken('X', 0, 0, 'unix');\n    addFormatToken('x', 0, 0, 'valueOf');\n\n    // PARSING\n\n    addRegexToken('x', matchSigned);\n    addRegexToken('X', matchTimestamp);\n    addParseToken('X', function (input, array, config) {\n        config._d = new Date(parseFloat(input, 10) * 1000);\n    });\n    addParseToken('x', function (input, array, config) {\n        config._d = new Date(toInt(input));\n    });\n\n    // Side effect imports\n\n\n    hooks.version = '2.24.0';\n\n    setHookCallback(createLocal);\n\n    hooks.fn                    = proto;\n    hooks.min                   = min;\n    hooks.max                   = max;\n    hooks.now                   = now;\n    hooks.utc                   = createUTC;\n    hooks.unix                  = createUnix;\n    hooks.months                = listMonths;\n    hooks.isDate                = isDate;\n    hooks.locale                = getSetGlobalLocale;\n    hooks.invalid               = createInvalid;\n    hooks.duration              = createDuration;\n    hooks.isMoment              = isMoment;\n    hooks.weekdays              = listWeekdays;\n    hooks.parseZone             = createInZone;\n    hooks.localeData            = getLocale;\n    hooks.isDuration            = isDuration;\n    hooks.monthsShort           = listMonthsShort;\n    hooks.weekdaysMin           = listWeekdaysMin;\n    hooks.defineLocale          = defineLocale;\n    hooks.updateLocale          = updateLocale;\n    hooks.locales               = listLocales;\n    hooks.weekdaysShort         = listWeekdaysShort;\n    hooks.normalizeUnits        = normalizeUnits;\n    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;\n    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;\n    hooks.calendarFormat        = getCalendarFormat;\n    hooks.prototype             = proto;\n\n    // currently HTML5 input type only supports 24-hour formats\n    hooks.HTML5_FMT = {\n        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type=\"datetime-local\" />\n        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type=\"datetime-local\" step=\"1\" />\n        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type=\"datetime-local\" step=\"0.001\" />\n        DATE: 'YYYY-MM-DD',                             // <input type=\"date\" />\n        TIME: 'HH:mm',                                  // <input type=\"time\" />\n        TIME_SECONDS: 'HH:mm:ss',                       // <input type=\"time\" step=\"1\" />\n        TIME_MS: 'HH:mm:ss.SSS',                        // <input type=\"time\" step=\"0.001\" />\n        WEEK: 'GGGG-[W]WW',                             // <input type=\"week\" />\n        MONTH: 'YYYY-MM'                                // <input type=\"month\" />\n    };\n\n    return hooks;\n\n})));\n","import { TimeZone } from '../types/time';\n/* tslint:disable:import-blacklist ban ban-types */\nimport moment, { MomentInput, DurationInputArg1 } from 'moment';\n\nexport interface DateTimeBuiltinFormat {\n  __momentBuiltinFormatBrand: any;\n}\nexport const ISO_8601: DateTimeBuiltinFormat = moment.ISO_8601;\nexport type DateTimeInput = Date | string | number | Array<string | number> | DateTime; // null | undefined\nexport type FormatInput = string | DateTimeBuiltinFormat | undefined;\nexport type DurationInput = string | number | DateTimeDuration;\nexport type DurationUnit =\n  | 'year'\n  | 'years'\n  | 'y'\n  | 'month'\n  | 'months'\n  | 'M'\n  | 'week'\n  | 'weeks'\n  | 'w'\n  | 'day'\n  | 'days'\n  | 'd'\n  | 'hour'\n  | 'hours'\n  | 'h'\n  | 'minute'\n  | 'minutes'\n  | 'm'\n  | 'second'\n  | 'seconds'\n  | 's'\n  | 'millisecond'\n  | 'milliseconds'\n  | 'ms'\n  | 'quarter'\n  | 'quarters'\n  | 'Q';\n\nexport interface DateTimeLocale {\n  firstDayOfWeek: () => number;\n}\n\nexport interface DateTimeDuration {\n  asHours: () => number;\n  hours: () => number;\n  minutes: () => number;\n  seconds: () => number;\n  asSeconds: () => number;\n}\n\nexport interface DateTime extends Object {\n  add: (amount?: DateTimeInput, unit?: DurationUnit) => DateTime;\n  set: (unit: DurationUnit, amount: DateTimeInput) => void;\n  diff: (amount: DateTimeInput, unit?: DurationUnit, truncate?: boolean) => number;\n  endOf: (unitOfTime: DurationUnit) => DateTime;\n  format: (formatInput?: FormatInput) => string;\n  fromNow: (withoutSuffix?: boolean) => string;\n  from: (formaInput: DateTimeInput) => string;\n  isSame: (input?: DateTimeInput, granularity?: DurationUnit) => boolean;\n  isValid: () => boolean;\n  local: () => DateTime;\n  locale: (locale: string) => DateTime;\n  startOf: (unitOfTime: DurationUnit) => DateTime;\n  subtract: (amount?: DateTimeInput, unit?: DurationUnit) => DateTime;\n  toDate: () => Date;\n  toISOString: () => string;\n  isoWeekday: (day?: number | string) => number | string;\n  valueOf: () => number;\n  unix: () => number;\n  utc: () => DateTime;\n  utcOffset: () => number;\n  hour?: () => number;\n}\n\nexport const setLocale = (language: string) => {\n  moment.locale(language);\n};\n\nexport const getLocaleData = (): DateTimeLocale => {\n  return moment.localeData();\n};\n\nexport const isDateTime = (value: any): value is DateTime => {\n  return moment.isMoment(value);\n};\n\nexport const toUtc = (input?: DateTimeInput, formatInput?: FormatInput): DateTime => {\n  return moment.utc(input as MomentInput, formatInput) as DateTime;\n};\n\nexport const toDuration = (input?: DurationInput, unit?: DurationUnit): DateTimeDuration => {\n  return moment.duration(input as DurationInputArg1, unit) as DateTimeDuration;\n};\n\nexport const dateTime = (input?: DateTimeInput, formatInput?: FormatInput): DateTime => {\n  return moment(input as MomentInput, formatInput) as DateTime;\n};\n\nexport const dateTimeForTimeZone = (\n  timezone?: TimeZone,\n  input?: DateTimeInput,\n  formatInput?: FormatInput\n): DateTime => {\n  if (timezone === 'utc') {\n    return toUtc(input, formatInput);\n  }\n\n  return dateTime(input, formatInput);\n};\n","import { Vector } from '../types/dataFrame';\n\nexport function vectorToArray<T>(v: Vector<T>): T[] {\n  const arr: T[] = [];\n  for (let i = 0; i < v.length; i++) {\n    arr[i] = v.get(i);\n  }\n  return arr;\n}\n\nexport class ArrayVector<T = any> implements Vector<T> {\n  buffer: T[];\n\n  constructor(buffer?: T[]) {\n    this.buffer = buffer ? buffer : [];\n  }\n\n  get length() {\n    return this.buffer.length;\n  }\n\n  get(index: number): T {\n    return this.buffer[index];\n  }\n\n  toArray(): T[] {\n    return this.buffer;\n  }\n\n  toJSON(): T[] {\n    return this.buffer;\n  }\n}\n\nexport class ConstantVector<T = any> implements Vector<T> {\n  constructor(private value: T, private len: number) {}\n\n  get length() {\n    return this.len;\n  }\n\n  get(index: number): T {\n    return this.value;\n  }\n\n  toArray(): T[] {\n    const arr: T[] = [];\n    for (let i = 0; i < this.length; i++) {\n      arr[i] = this.value;\n    }\n    return arr;\n  }\n\n  toJSON(): T[] {\n    return this.toArray();\n  }\n}\n\nexport class ScaledVector implements Vector<number> {\n  constructor(private source: Vector<number>, private scale: number) {}\n\n  get length(): number {\n    return this.source.length;\n  }\n\n  get(index: number): number {\n    return this.source.get(index) * this.scale;\n  }\n\n  toArray(): number[] {\n    return vectorToArray(this);\n  }\n\n  toJSON(): number[] {\n    return vectorToArray(this);\n  }\n}\n\nexport class CircularVector<T = any> implements Vector<T> {\n  buffer: T[];\n  index: number;\n  length: number;\n\n  constructor(buffer: T[]) {\n    this.length = buffer.length;\n    this.buffer = buffer;\n    this.index = 0;\n  }\n\n  append(value: T) {\n    let idx = this.index - 1;\n    if (idx < 0) {\n      idx = this.length - 1;\n    }\n    this.buffer[idx] = value;\n    this.index = idx;\n  }\n\n  get(index: number): T {\n    return this.buffer[(index + this.index) % this.length];\n  }\n\n  toArray(): T[] {\n    return vectorToArray(this);\n  }\n\n  toJSON(): T[] {\n    return vectorToArray(this);\n  }\n}\n\n/**\n * Values are returned in the order defined by the input parameter\n */\nexport class SortedVector<T = any> implements Vector<T> {\n  constructor(private source: Vector<T>, private order: number[]) {}\n\n  get length(): number {\n    return this.source.length;\n  }\n\n  get(index: number): T {\n    return this.source.get(this.order[index]);\n  }\n\n  toArray(): T[] {\n    return vectorToArray(this);\n  }\n\n  toJSON(): T[] {\n    return vectorToArray(this);\n  }\n}\n","import { Field, FieldType, DataFrame, Vector, FieldDTO, DataFrameDTO } from '../types/dataFrame';\nimport { Labels, QueryResultMeta } from '../types/data';\nimport { guessFieldTypeForField, guessFieldTypeFromValue } from './processDataFrame';\nimport { ArrayVector } from './vector';\nimport isArray from 'lodash/isArray';\n\nexport class DataFrameHelper implements DataFrame {\n  refId?: string;\n  meta?: QueryResultMeta;\n  name?: string;\n  fields: Field[];\n  labels?: Labels;\n  length = 0; // updated so it is the length of all fields\n\n  private fieldByName: { [key: string]: Field } = {};\n  private fieldByType: { [key: string]: Field[] } = {};\n\n  constructor(data?: DataFrame | DataFrameDTO) {\n    if (!data) {\n      data = { fields: [] }; //\n    }\n    this.refId = data.refId;\n    this.meta = data.meta;\n    this.name = data.name;\n    this.labels = data.labels;\n    this.fields = [];\n    for (let i = 0; i < data.fields.length; i++) {\n      this.addField(data.fields[i]);\n    }\n  }\n\n  addFieldFor(value: any, name?: string): Field {\n    if (!name) {\n      name = `Field ${this.fields.length + 1}`;\n    }\n    return this.addField({\n      name,\n      type: guessFieldTypeFromValue(value),\n    });\n  }\n\n  /**\n   * Reverse the direction of all fields\n   */\n  reverse() {\n    for (const f of this.fields) {\n      if (isArray(f.values)) {\n        const arr = f.values as any[];\n        arr.reverse();\n      }\n    }\n  }\n\n  private updateTypeIndex(field: Field) {\n    // Make sure it has a type\n    if (field.type === FieldType.other) {\n      const t = guessFieldTypeForField(field);\n      if (t) {\n        field.type = t;\n      }\n    }\n    if (!this.fieldByType[field.type]) {\n      this.fieldByType[field.type] = [];\n    }\n    this.fieldByType[field.type].push(field);\n  }\n\n  addField(f: Field | FieldDTO): Field {\n    const type = f.type || FieldType.other;\n    const values =\n      !f.values || isArray(f.values)\n        ? new ArrayVector(f.values as any[] | undefined) // array or empty\n        : (f.values as Vector);\n\n    // And a name\n    let name = f.name;\n    if (!name) {\n      if (type === FieldType.time) {\n        name = `Time ${this.fields.length + 1}`;\n      } else {\n        name = `Column ${this.fields.length + 1}`;\n      }\n    }\n    const field: Field = {\n      name,\n      type,\n      config: f.config || {},\n      values,\n    };\n    this.updateTypeIndex(field);\n\n    if (this.fieldByName[field.name]) {\n      console.warn('Duplicate field names in DataFrame: ', field.name);\n    } else {\n      this.fieldByName[field.name] = field;\n    }\n\n    // Make sure the lengths all match\n    if (field.values.length !== this.length) {\n      if (field.values.length > this.length) {\n        // Add `null` to all other values\n        const newlen = field.values.length;\n        for (const fx of this.fields) {\n          const arr = fx.values as ArrayVector;\n          while (fx.values.length !== newlen) {\n            arr.buffer.push(null);\n          }\n        }\n        this.length = field.values.length;\n      } else {\n        const arr = field.values as ArrayVector;\n        while (field.values.length !== this.length) {\n          arr.buffer.push(null);\n        }\n      }\n    }\n\n    this.fields.push(field);\n    return field;\n  }\n\n  /**\n   * This will add each value to the corresponding column\n   */\n  appendRow(row: any[]) {\n    for (let i = this.fields.length; i < row.length; i++) {\n      this.addFieldFor(row[i]);\n    }\n\n    // The first line may change the field types\n    if (this.length < 1) {\n      this.fieldByType = {};\n      for (let i = 0; i < this.fields.length; i++) {\n        const f = this.fields[i];\n        if (!f.type || f.type === FieldType.other) {\n          f.type = guessFieldTypeFromValue(row[i]);\n        }\n        this.updateTypeIndex(f);\n      }\n    }\n\n    for (let i = 0; i < this.fields.length; i++) {\n      const f = this.fields[i];\n      let v = row[i];\n      if (!f.parse) {\n        f.parse = makeFieldParser(v, f);\n      }\n      v = f.parse(v);\n\n      const arr = f.values as ArrayVector;\n      arr.buffer.push(v); // may be undefined\n    }\n    this.length++;\n  }\n\n  /**\n   * Add any values that match the field names\n   */\n  appendRowFrom(obj: { [key: string]: any }) {\n    for (const f of this.fields) {\n      const v = obj[f.name];\n      if (!f.parse) {\n        f.parse = makeFieldParser(v, f);\n      }\n\n      const arr = f.values as ArrayVector;\n      arr.buffer.push(f.parse(v)); // may be undefined\n    }\n    this.length++;\n  }\n\n  getFields(type?: FieldType): Field[] {\n    if (!type) {\n      return [...this.fields]; // All fields\n    }\n    const fields = this.fieldByType[type];\n    if (fields) {\n      return [...fields];\n    }\n    return [];\n  }\n\n  hasFieldOfType(type: FieldType): boolean {\n    const types = this.fieldByType[type];\n    return types && types.length > 0;\n  }\n\n  getFirstFieldOfType(type: FieldType): Field | undefined {\n    const arr = this.fieldByType[type];\n    if (arr && arr.length > 0) {\n      return arr[0];\n    }\n    return undefined;\n  }\n\n  hasFieldNamed(name: string): boolean {\n    return !!this.fieldByName[name];\n  }\n\n  /**\n   * Returns the first field with the given name.\n   */\n  getFieldByName(name: string): Field | undefined {\n    return this.fieldByName[name];\n  }\n}\n\nfunction makeFieldParser(value: string, field: Field): (value: string) => any {\n  if (!field.type) {\n    if (field.name === 'time' || field.name === 'Time') {\n      field.type = FieldType.time;\n    } else {\n      field.type = guessFieldTypeFromValue(value);\n    }\n  }\n\n  if (field.type === FieldType.number) {\n    return (value: string) => {\n      return parseFloat(value);\n    };\n  }\n\n  // Will convert anything that starts with \"T\" to true\n  if (field.type === FieldType.boolean) {\n    return (value: string) => {\n      return !(value[0] === 'F' || value[0] === 'f' || value[0] === '0');\n    };\n  }\n\n  // Just pass the string back\n  return (value: string) => value;\n}\n","import { KeyValue } from '../types';\n\n// Avoid writing the warning message more than once every 10s\nconst history: KeyValue<number> = {};\n\nexport const deprecationWarning = (file: string, oldName: string, newName?: string) => {\n  let message = `[Deprecation warning] ${file}: ${oldName} is deprecated`;\n  if (newName) {\n    message += `.  Use ${newName} instead`;\n  }\n  const now = Date.now();\n  const last = history[message];\n  if (!last || now - last > 10000) {\n    console.warn(message);\n    history[message] = now;\n  }\n};\n","// Libraries\nimport isNumber from 'lodash/isNumber';\nimport isString from 'lodash/isString';\nimport isBoolean from 'lodash/isBoolean';\n\n// Types\nimport {\n  DataFrame,\n  Field,\n  FieldConfig,\n  TimeSeries,\n  FieldType,\n  TableData,\n  Column,\n  GraphSeriesXY,\n  TimeSeriesValue,\n  FieldDTO,\n  DataFrameDTO,\n} from '../types/index';\nimport { isDateTime } from './moment_wrapper';\nimport { ArrayVector, SortedVector } from './vector';\nimport { DataFrameHelper } from './dataFrameHelper';\nimport { deprecationWarning } from './deprecationWarning';\n\nfunction convertTableToDataFrame(table: TableData): DataFrame {\n  const fields = table.columns.map(c => {\n    const { text, ...disp } = c;\n    return {\n      name: text, // rename 'text' to the 'name' field\n      config: (disp || {}) as FieldConfig,\n      values: new ArrayVector(),\n      type: FieldType.other,\n    };\n  });\n  // Fill in the field values\n  for (const row of table.rows) {\n    for (let i = 0; i < fields.length; i++) {\n      fields[i].values.buffer.push(row[i]);\n    }\n  }\n  for (const f of fields) {\n    const t = guessFieldTypeForField(f);\n    if (t) {\n      f.type = t;\n    }\n  }\n\n  return {\n    fields,\n    refId: table.refId,\n    meta: table.meta,\n    name: table.name,\n    length: fields[0].values.length,\n  };\n}\n\nfunction convertTimeSeriesToDataFrame(timeSeries: TimeSeries): DataFrame {\n  const fields = [\n    {\n      name: timeSeries.target || 'Value',\n      type: FieldType.number,\n      config: {\n        unit: timeSeries.unit,\n      },\n      values: new ArrayVector<TimeSeriesValue>(),\n    },\n    {\n      name: 'Time',\n      type: FieldType.time,\n      config: {\n        unit: 'dateTimeAsIso',\n      },\n      values: new ArrayVector<number>(),\n    },\n  ];\n\n  for (const point of timeSeries.datapoints) {\n    fields[0].values.buffer.push(point[0]);\n    fields[1].values.buffer.push(point[1]);\n  }\n\n  return {\n    name: timeSeries.target,\n    labels: timeSeries.tags,\n    refId: timeSeries.refId,\n    meta: timeSeries.meta,\n    fields,\n    length: timeSeries.datapoints.length,\n  };\n}\n\n/**\n * This is added temporarily while we convert the LogsModel\n * to DataFrame.  See: https://github.com/grafana/grafana/issues/18528\n */\nfunction convertGraphSeriesToDataFrame(graphSeries: GraphSeriesXY): DataFrame {\n  const x = new ArrayVector();\n  const y = new ArrayVector();\n  for (let i = 0; i < graphSeries.data.length; i++) {\n    const row = graphSeries.data[i];\n    x.buffer.push(row[0]);\n    y.buffer.push(row[1]);\n  }\n\n  return {\n    name: graphSeries.label,\n    fields: [\n      {\n        name: graphSeries.label || 'Value',\n        type: FieldType.number,\n        config: {},\n        values: x,\n      },\n      {\n        name: 'Time',\n        type: FieldType.time,\n        config: {\n          unit: 'dateTimeAsIso',\n        },\n        values: y,\n      },\n    ],\n    length: x.buffer.length,\n  };\n}\n\n// PapaParse Dynamic Typing regex:\n// https://github.com/mholt/PapaParse/blob/master/papaparse.js#L998\nconst NUMBER = /^\\s*-?(\\d*\\.?\\d+|\\d+\\.?\\d*)(e[-+]?\\d+)?\\s*$/i;\n\n/**\n * Given a value this will guess the best column type\n *\n * TODO: better Date/Time support!  Look for standard date strings?\n */\nexport function guessFieldTypeFromValue(v: any): FieldType {\n  if (isNumber(v)) {\n    return FieldType.number;\n  }\n\n  if (isString(v)) {\n    if (NUMBER.test(v)) {\n      return FieldType.number;\n    }\n\n    if (v === 'true' || v === 'TRUE' || v === 'True' || v === 'false' || v === 'FALSE' || v === 'False') {\n      return FieldType.boolean;\n    }\n\n    return FieldType.string;\n  }\n\n  if (isBoolean(v)) {\n    return FieldType.boolean;\n  }\n\n  if (v instanceof Date || isDateTime(v)) {\n    return FieldType.time;\n  }\n\n  return FieldType.other;\n}\n\n/**\n * Looks at the data to guess the column type.  This ignores any existing setting\n */\nexport function guessFieldTypeForField(field: Field): FieldType | undefined {\n  // 1. Use the column name to guess\n  if (field.name) {\n    const name = field.name.toLowerCase();\n    if (name === 'date' || name === 'time') {\n      return FieldType.time;\n    }\n  }\n\n  // 2. Check the first non-null value\n  for (let i = 0; i < field.values.length; i++) {\n    const v = field.values.get(i);\n    if (v !== null) {\n      return guessFieldTypeFromValue(v);\n    }\n  }\n\n  // Could not find anything\n  return undefined;\n}\n\n/**\n * @returns a copy of the series with the best guess for each field type\n * If the series already has field types defined, they will be used\n */\nexport const guessFieldTypes = (series: DataFrame): DataFrame => {\n  for (let i = 0; i < series.fields.length; i++) {\n    if (!series.fields[i].type) {\n      // Somethign is missing a type return a modified copy\n      return {\n        ...series,\n        fields: series.fields.map(field => {\n          if (field.type && field.type !== FieldType.other) {\n            return field;\n          }\n          // Calculate a reasonable schema value\n          return {\n            ...field,\n            type: guessFieldTypeForField(field) || FieldType.other,\n          };\n        }),\n      };\n    }\n  }\n  // No changes necessary\n  return series;\n};\n\nexport const isTableData = (data: any): data is DataFrame => data && data.hasOwnProperty('columns');\n\nexport const isDataFrame = (data: any): data is DataFrame => data && data.hasOwnProperty('fields');\n\nexport const toDataFrame = (data: any): DataFrame => {\n  if (data.hasOwnProperty('fields')) {\n    // @deprecated -- remove in 6.5\n    if (data.hasOwnProperty('rows')) {\n      const v = new DataFrameHelper(data as DataFrameDTO);\n      const rows = data.rows as any[][];\n      for (let i = 0; i < rows.length; i++) {\n        v.appendRow(rows[i]);\n      }\n      deprecationWarning('DataFrame', '.rows', 'columnar format');\n      return v;\n    }\n\n    // DataFrameDTO does not have length\n    if (data.hasOwnProperty('length')) {\n      return data as DataFrame;\n    }\n    return new DataFrameHelper(data as DataFrameDTO);\n  }\n  if (data.hasOwnProperty('datapoints')) {\n    return convertTimeSeriesToDataFrame(data);\n  }\n  if (data.hasOwnProperty('data')) {\n    return convertGraphSeriesToDataFrame(data);\n  }\n  if (data.hasOwnProperty('columns')) {\n    return convertTableToDataFrame(data);\n  }\n  // TODO, try to convert JSON/Array to table?\n  console.warn('Can not convert', data);\n  throw new Error('Unsupported data format');\n};\n\nexport const toLegacyResponseData = (frame: DataFrame): TimeSeries | TableData => {\n  const { fields } = frame;\n\n  const length = fields[0].values.length;\n  const rows: any[][] = [];\n  for (let i = 0; i < length; i++) {\n    const row: any[] = [];\n    for (let j = 0; j < fields.length; j++) {\n      row.push(fields[j].values.get(i));\n    }\n    rows.push(row);\n  }\n\n  if (fields.length === 2) {\n    let type = fields[1].type;\n    if (!type) {\n      type = guessFieldTypeForField(fields[1]) || FieldType.other;\n    }\n    if (type === FieldType.time) {\n      return {\n        alias: fields[0].name || frame.name,\n        target: fields[0].name || frame.name,\n        datapoints: rows,\n        unit: fields[0].config ? fields[0].config.unit : undefined,\n        refId: frame.refId,\n        meta: frame.meta,\n      } as TimeSeries;\n    }\n  }\n\n  return {\n    columns: fields.map(f => {\n      const { name, config } = f;\n      if (config) {\n        // keep unit etc\n        const { ...column } = config;\n        (column as Column).text = name;\n        return column as Column;\n      }\n      return { text: name };\n    }),\n    refId: frame.refId,\n    meta: frame.meta,\n    rows,\n  };\n};\n\nexport function sortDataFrame(data: DataFrame, sortIndex?: number, reverse = false): DataFrame {\n  const field = data.fields[sortIndex!];\n  if (!field) {\n    return data;\n  }\n\n  // Natural order\n  const index: number[] = [];\n  for (let i = 0; i < data.length; i++) {\n    index.push(i);\n  }\n  const values = field.values;\n\n  // Numeric Comparison\n  let compare = (a: number, b: number) => {\n    const vA = values.get(a);\n    const vB = values.get(b);\n    return vA - vB; // works for numbers!\n  };\n\n  // String Comparison\n  if (field.type === FieldType.string) {\n    compare = (a: number, b: number) => {\n      const vA: string = values.get(a);\n      const vB: string = values.get(b);\n      return vA.localeCompare(vB);\n    };\n  }\n\n  // Run the sort function\n  index.sort(compare);\n  if (reverse) {\n    index.reverse();\n  }\n\n  // Return a copy that maps sorted values\n  return {\n    ...data,\n    fields: data.fields.map(f => {\n      return {\n        ...f,\n        values: new SortedVector(f.values, index),\n      };\n    }),\n  };\n}\n\n/**\n * Wrapper to get an array from each field value\n */\nexport function getDataFrameRow(data: DataFrame, row: number): any[] {\n  const values: any[] = [];\n  for (const field of data.fields) {\n    values.push(field.values.get(row));\n  }\n  return values;\n}\n\n/**\n * Returns a copy that does not include functions\n */\nexport function toDataFrameDTO(data: DataFrame): DataFrameDTO {\n  const fields: FieldDTO[] = data.fields.map(f => {\n    return {\n      name: f.name,\n      type: f.type,\n      config: f.config,\n      values: f.values.toJSON(),\n    };\n  });\n\n  return {\n    fields,\n    refId: data.refId,\n    meta: data.meta,\n    name: data.name,\n    labels: data.labels,\n  };\n}\n","/* @license\nPapa Parse\nv4.6.3\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n\n// Polyfills\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray#Polyfill\nif (!Array.isArray)\n{\n\tArray.isArray = function(arg) {\n\t\treturn Object.prototype.toString.call(arg) === '[object Array]';\n\t};\n}\n\n(function(root, factory)\n{\n\t/* globals define */\n\tif (typeof define === 'function' && define.amd)\n\t{\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t}\n\telse if (typeof module === 'object' && typeof exports !== 'undefined')\n\t{\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t}\n\telse\n\t{\n\t\t// Browser globals (root is window)\n\t\troot.Papa = factory();\n\t}\n}(this, function()\n{\n\t'use strict';\n\n\tvar global = (function() {\n\t\t// alternative method, similar to `Function('return this')()`\n\t\t// but without using `eval` (which is disabled when\n\t\t// using Content Security Policy).\n\n\t\tif (typeof self !== 'undefined') { return self; }\n\t\tif (typeof window !== 'undefined') { return window; }\n\t\tif (typeof global !== 'undefined') { return global; }\n\n\t\t// When running tests none of the above have been defined\n\t\treturn {};\n\t})();\n\n\tvar IS_WORKER = !global.document && !!global.postMessage,\n\t\tIS_PAPA_WORKER = IS_WORKER && /(\\?|&)papaworker(=|&|$)/.test(global.location.search),\n\t\tLOADED_SYNC = false, AUTO_SCRIPT_PATH;\n\tvar workers = {}, workerIdCounter = 0;\n\n\tvar Papa = {};\n\n\tPapa.parse = CsvToJson;\n\tPapa.unparse = JsonToCsv;\n\n\tPapa.RECORD_SEP = String.fromCharCode(30);\n\tPapa.UNIT_SEP = String.fromCharCode(31);\n\tPapa.BYTE_ORDER_MARK = '\\ufeff';\n\tPapa.BAD_DELIMITERS = ['\\r', '\\n', '\"', Papa.BYTE_ORDER_MARK];\n\tPapa.WORKERS_SUPPORTED = !IS_WORKER && !!global.Worker;\n\tPapa.SCRIPT_PATH = null;\t// Must be set by your code if you use workers and this lib is loaded asynchronously\n\tPapa.NODE_STREAM_INPUT = 1;\n\n\t// Configurable chunk sizes for local and remote files, respectively\n\tPapa.LocalChunkSize = 1024 * 1024 * 10;\t// 10 MB\n\tPapa.RemoteChunkSize = 1024 * 1024 * 5;\t// 5 MB\n\tPapa.DefaultDelimiter = ',';\t\t\t// Used if not specified and detection fails\n\n\t// Exposed for testing and development only\n\tPapa.Parser = Parser;\n\tPapa.ParserHandle = ParserHandle;\n\tPapa.NetworkStreamer = NetworkStreamer;\n\tPapa.FileStreamer = FileStreamer;\n\tPapa.StringStreamer = StringStreamer;\n\tPapa.ReadableStreamStreamer = ReadableStreamStreamer;\n\tif (typeof PAPA_BROWSER_CONTEXT === 'undefined') {\n\t\tPapa.DuplexStreamStreamer = DuplexStreamStreamer;\n\t}\n\n\tif (global.jQuery)\n\t{\n\t\tvar $ = global.jQuery;\n\t\t$.fn.parse = function(options)\n\t\t{\n\t\t\tvar config = options.config || {};\n\t\t\tvar queue = [];\n\n\t\t\tthis.each(function(idx)\n\t\t\t{\n\t\t\t\tvar supported = $(this).prop('tagName').toUpperCase() === 'INPUT'\n\t\t\t\t\t\t\t\t&& $(this).attr('type').toLowerCase() === 'file'\n\t\t\t\t\t\t\t\t&& global.FileReader;\n\n\t\t\t\tif (!supported || !this.files || this.files.length === 0)\n\t\t\t\t\treturn true;\t// continue to next input element\n\n\t\t\t\tfor (var i = 0; i < this.files.length; i++)\n\t\t\t\t{\n\t\t\t\t\tqueue.push({\n\t\t\t\t\t\tfile: this.files[i],\n\t\t\t\t\t\tinputElem: this,\n\t\t\t\t\t\tinstanceConfig: $.extend({}, config)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tparseNextFile();\t// begin parsing\n\t\t\treturn this;\t\t// maintains chainability\n\n\n\t\t\tfunction parseNextFile()\n\t\t\t{\n\t\t\t\tif (queue.length === 0)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(options.complete))\n\t\t\t\t\t\toptions.complete();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar f = queue[0];\n\n\t\t\t\tif (isFunction(options.before))\n\t\t\t\t{\n\t\t\t\t\tvar returned = options.before(f.file, f.inputElem);\n\n\t\t\t\t\tif (typeof returned === 'object')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (returned.action === 'abort')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\terror('AbortError', f.file, f.inputElem, returned.reason);\n\t\t\t\t\t\t\treturn;\t// Aborts all queued files immediately\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (returned.action === 'skip')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (typeof returned.config === 'object')\n\t\t\t\t\t\t\tf.instanceConfig = $.extend(f.instanceConfig, returned.config);\n\t\t\t\t\t}\n\t\t\t\t\telse if (returned === 'skip')\n\t\t\t\t\t{\n\t\t\t\t\t\tfileComplete();\t// parse the next file in the queue, if any\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Wrap up the user's complete callback, if any, so that ours also gets executed\n\t\t\t\tvar userCompleteFunc = f.instanceConfig.complete;\n\t\t\t\tf.instanceConfig.complete = function(results)\n\t\t\t\t{\n\t\t\t\t\tif (isFunction(userCompleteFunc))\n\t\t\t\t\t\tuserCompleteFunc(results, f.file, f.inputElem);\n\t\t\t\t\tfileComplete();\n\t\t\t\t};\n\n\t\t\t\tPapa.parse(f.file, f.instanceConfig);\n\t\t\t}\n\n\t\t\tfunction error(name, file, elem, reason)\n\t\t\t{\n\t\t\t\tif (isFunction(options.error))\n\t\t\t\t\toptions.error({name: name}, file, elem, reason);\n\t\t\t}\n\n\t\t\tfunction fileComplete()\n\t\t\t{\n\t\t\t\tqueue.splice(0, 1);\n\t\t\t\tparseNextFile();\n\t\t\t}\n\t\t};\n\t}\n\n\n\tif (IS_PAPA_WORKER)\n\t{\n\t\tglobal.onmessage = workerThreadReceivedMessage;\n\t}\n\telse if (Papa.WORKERS_SUPPORTED)\n\t{\n\t\tAUTO_SCRIPT_PATH = getScriptPath();\n\n\t\t// Check if the script was loaded synchronously\n\t\tif (!document.body)\n\t\t{\n\t\t\t// Body doesn't exist yet, must be synchronous\n\t\t\tLOADED_SYNC = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t\t\tLOADED_SYNC = true;\n\t\t\t}, true);\n\t\t}\n\t}\n\n\n\n\n\tfunction CsvToJson(_input, _config)\n\t{\n\t\t_config = _config || {};\n\t\tvar dynamicTyping = _config.dynamicTyping || false;\n\t\tif (isFunction(dynamicTyping)) {\n\t\t\t_config.dynamicTypingFunction = dynamicTyping;\n\t\t\t// Will be filled on first row call\n\t\t\tdynamicTyping = {};\n\t\t}\n\t\t_config.dynamicTyping = dynamicTyping;\n\n\t\t_config.transform = isFunction(_config.transform) ? _config.transform : false;\n\n\t\tif (_config.worker && Papa.WORKERS_SUPPORTED)\n\t\t{\n\t\t\tvar w = newWorker();\n\n\t\t\tw.userStep = _config.step;\n\t\t\tw.userChunk = _config.chunk;\n\t\t\tw.userComplete = _config.complete;\n\t\t\tw.userError = _config.error;\n\n\t\t\t_config.step = isFunction(_config.step);\n\t\t\t_config.chunk = isFunction(_config.chunk);\n\t\t\t_config.complete = isFunction(_config.complete);\n\t\t\t_config.error = isFunction(_config.error);\n\t\t\tdelete _config.worker;\t// prevent infinite loop\n\n\t\t\tw.postMessage({\n\t\t\t\tinput: _input,\n\t\t\t\tconfig: _config,\n\t\t\t\tworkerId: w.id\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar streamer = null;\n\t\tif (_input === Papa.NODE_STREAM_INPUT && typeof PAPA_BROWSER_CONTEXT === 'undefined')\n\t\t{\n\t\t\t// create a node Duplex stream for use\n\t\t\t// with .pipe\n\t\t\tstreamer = new DuplexStreamStreamer(_config);\n\t\t\treturn streamer.getStream();\n\t\t}\n\t\telse if (typeof _input === 'string')\n\t\t{\n\t\t\tif (_config.download)\n\t\t\t\tstreamer = new NetworkStreamer(_config);\n\t\t\telse\n\t\t\t\tstreamer = new StringStreamer(_config);\n\t\t}\n\t\telse if (_input.readable === true && isFunction(_input.read) && isFunction(_input.on))\n\t\t{\n\t\t\tstreamer = new ReadableStreamStreamer(_config);\n\t\t}\n\t\telse if ((global.File && _input instanceof File) || _input instanceof Object)\t// ...Safari. (see issue #106)\n\t\t\tstreamer = new FileStreamer(_config);\n\n\t\treturn streamer.stream(_input);\n\t}\n\n\n\n\n\n\n\tfunction JsonToCsv(_input, _config)\n\t{\n\t\t// Default configuration\n\n\t\t/** whether to surround every datum with quotes */\n\t\tvar _quotes = false;\n\n\t\t/** whether to write headers */\n\t\tvar _writeHeader = true;\n\n\t\t/** delimiting character(s) */\n\t\tvar _delimiter = ',';\n\n\t\t/** newline character(s) */\n\t\tvar _newline = '\\r\\n';\n\n\t\t/** quote character */\n\t\tvar _quoteChar = '\"';\n\n\t\t/** whether to skip empty lines */\n\t\tvar _skipEmptyLines = false;\n\n\t\tunpackConfig();\n\n\t\tvar quoteCharRegex = new RegExp(escapeRegExp(_quoteChar), 'g');\n\n\t\tif (typeof _input === 'string')\n\t\t\t_input = JSON.parse(_input);\n\n\t\tif (Array.isArray(_input))\n\t\t{\n\t\t\tif (!_input.length || Array.isArray(_input[0]))\n\t\t\t\treturn serialize(null, _input, _skipEmptyLines);\n\t\t\telse if (typeof _input[0] === 'object')\n\t\t\t\treturn serialize(objectKeys(_input[0]), _input, _skipEmptyLines);\n\t\t}\n\t\telse if (typeof _input === 'object')\n\t\t{\n\t\t\tif (typeof _input.data === 'string')\n\t\t\t\t_input.data = JSON.parse(_input.data);\n\n\t\t\tif (Array.isArray(_input.data))\n\t\t\t{\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  _input.meta && _input.meta.fields;\n\n\t\t\t\tif (!_input.fields)\n\t\t\t\t\t_input.fields =  Array.isArray(_input.data[0])\n\t\t\t\t\t\t? _input.fields\n\t\t\t\t\t\t: objectKeys(_input.data[0]);\n\n\t\t\t\tif (!(Array.isArray(_input.data[0])) && typeof _input.data[0] !== 'object')\n\t\t\t\t\t_input.data = [_input.data];\t// handles input like [1,2,3] or ['asdf']\n\t\t\t}\n\n\t\t\treturn serialize(_input.fields || [], _input.data || [], _skipEmptyLines);\n\t\t}\n\n\t\t// Default (any valid paths should return before this)\n\t\tthrow 'exception: Unable to serialize unrecognized input';\n\n\n\t\tfunction unpackConfig()\n\t\t{\n\t\t\tif (typeof _config !== 'object')\n\t\t\t\treturn;\n\n\t\t\tif (typeof _config.delimiter === 'string'\n                && !Papa.BAD_DELIMITERS.filter(function(value) { return _config.delimiter.indexOf(value) !== -1; }).length)\n\t\t\t{\n\t\t\t\t_delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tif (typeof _config.quotes === 'boolean'\n\t\t\t\t|| Array.isArray(_config.quotes))\n\t\t\t\t_quotes = _config.quotes;\n\n\t\t\tif (typeof _config.skipEmptyLines === 'boolean'\n\t\t\t\t|| typeof _config.skipEmptyLines === 'string')\n\t\t\t\t_skipEmptyLines = _config.skipEmptyLines;\n\n\t\t\tif (typeof _config.newline === 'string')\n\t\t\t\t_newline = _config.newline;\n\n\t\t\tif (typeof _config.quoteChar === 'string')\n\t\t\t\t_quoteChar = _config.quoteChar;\n\n\t\t\tif (typeof _config.header === 'boolean')\n\t\t\t\t_writeHeader = _config.header;\n\t\t}\n\n\n\t\t/** Turns an object's keys into an array */\n\t\tfunction objectKeys(obj)\n\t\t{\n\t\t\tif (typeof obj !== 'object')\n\t\t\t\treturn [];\n\t\t\tvar keys = [];\n\t\t\tfor (var key in obj)\n\t\t\t\tkeys.push(key);\n\t\t\treturn keys;\n\t\t}\n\n\t\t/** The double for loop that iterates the data and writes out a CSV string including header row */\n\t\tfunction serialize(fields, data, skipEmptyLines)\n\t\t{\n\t\t\tvar csv = '';\n\n\t\t\tif (typeof fields === 'string')\n\t\t\t\tfields = JSON.parse(fields);\n\t\t\tif (typeof data === 'string')\n\t\t\t\tdata = JSON.parse(data);\n\n\t\t\tvar hasHeader = Array.isArray(fields) && fields.length > 0;\n\t\t\tvar dataKeyedByField = !(Array.isArray(data[0]));\n\n\t\t\t// If there a header row, write it first\n\t\t\tif (hasHeader && _writeHeader)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < fields.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (i > 0)\n\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\tcsv += safe(fields[i], i);\n\t\t\t\t}\n\t\t\t\tif (data.length > 0)\n\t\t\t\t\tcsv += _newline;\n\t\t\t}\n\n\t\t\t// Then write out the data\n\t\t\tfor (var row = 0; row < data.length; row++)\n\t\t\t{\n\t\t\t\tvar maxCol = hasHeader ? fields.length : data[row].length;\n\n\t\t\t\tvar emptyLine = false;\n\t\t\t\tvar nullLine = hasHeader ? Object.keys(data[row]).length === 0 : data[row].length === 0;\n\t\t\t\tif (skipEmptyLines && !hasHeader)\n\t\t\t\t{\n\t\t\t\t\temptyLine = skipEmptyLines === 'greedy' ? data[row].join('').trim() === '' : data[row].length === 1 && data[row][0].length === 0;\n\t\t\t\t}\n\t\t\t\tif (skipEmptyLines === 'greedy' && hasHeader) {\n\t\t\t\t\tvar line = [];\n\t\t\t\t\tfor (var c = 0; c < maxCol; c++) {\n\t\t\t\t\t\tvar cx = dataKeyedByField ? fields[c] : c;\n\t\t\t\t\t\tline.push(data[row][cx]);\n\t\t\t\t\t}\n\t\t\t\t\temptyLine = line.join('').trim() === '';\n\t\t\t\t}\n\t\t\t\tif (!emptyLine)\n\t\t\t\t{\n\t\t\t\t\tfor (var col = 0; col < maxCol; col++)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (col > 0 && !nullLine)\n\t\t\t\t\t\t\tcsv += _delimiter;\n\t\t\t\t\t\tvar colIdx = hasHeader && dataKeyedByField ? fields[col] : col;\n\t\t\t\t\t\tcsv += safe(data[row][colIdx], col);\n\t\t\t\t\t}\n\t\t\t\t\tif (row < data.length - 1 && (!skipEmptyLines || (maxCol > 0 && !nullLine)))\n\t\t\t\t\t{\n\t\t\t\t\t\tcsv += _newline;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn csv;\n\t\t}\n\n\t\t/** Encloses a value around quotes if needed (makes a value safe for CSV insertion) */\n\t\tfunction safe(str, col)\n\t\t{\n\t\t\tif (typeof str === 'undefined' || str === null)\n\t\t\t\treturn '';\n\n\t\t\tif (str.constructor === Date)\n\t\t\t\treturn JSON.stringify(str).slice(1, 25);\n\n\t\t\tstr = str.toString().replace(quoteCharRegex, _quoteChar + _quoteChar);\n\n\t\t\tvar needsQuotes = (typeof _quotes === 'boolean' && _quotes)\n\t\t\t\t\t\t\t|| (Array.isArray(_quotes) && _quotes[col])\n\t\t\t\t\t\t\t|| hasAny(str, Papa.BAD_DELIMITERS)\n\t\t\t\t\t\t\t|| str.indexOf(_delimiter) > -1\n\t\t\t\t\t\t\t|| str.charAt(0) === ' '\n\t\t\t\t\t\t\t|| str.charAt(str.length - 1) === ' ';\n\n\t\t\treturn needsQuotes ? _quoteChar + str + _quoteChar : str;\n\t\t}\n\n\t\tfunction hasAny(str, substrings)\n\t\t{\n\t\t\tfor (var i = 0; i < substrings.length; i++)\n\t\t\t\tif (str.indexOf(substrings[i]) > -1)\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/** ChunkStreamer is the base prototype for various streamer implementations. */\n\tfunction ChunkStreamer(config)\n\t{\n\t\tthis._handle = null;\n\t\tthis._finished = false;\n\t\tthis._completed = false;\n\t\tthis._input = null;\n\t\tthis._baseIndex = 0;\n\t\tthis._partialLine = '';\n\t\tthis._rowCount = 0;\n\t\tthis._start = 0;\n\t\tthis._nextChunk = null;\n\t\tthis.isFirstChunk = true;\n\t\tthis._completeResults = {\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\t\treplaceConfig.call(this, config);\n\n\t\tthis.parseChunk = function(chunk, isFakeChunk)\n\t\t{\n\t\t\t// First chunk pre-processing\n\t\t\tif (this.isFirstChunk && isFunction(this._config.beforeFirstChunk))\n\t\t\t{\n\t\t\t\tvar modifiedChunk = this._config.beforeFirstChunk(chunk);\n\t\t\t\tif (modifiedChunk !== undefined)\n\t\t\t\t\tchunk = modifiedChunk;\n\t\t\t}\n\t\t\tthis.isFirstChunk = false;\n\n\t\t\t// Rejoin the line we likely just split in two by chunking the file\n\t\t\tvar aggregate = this._partialLine + chunk;\n\t\t\tthis._partialLine = '';\n\n\t\t\tvar results = this._handle.parse(aggregate, this._baseIndex, !this._finished);\n\n\t\t\tif (this._handle.paused() || this._handle.aborted())\n\t\t\t\treturn;\n\n\t\t\tvar lastIndex = results.meta.cursor;\n\n\t\t\tif (!this._finished)\n\t\t\t{\n\t\t\t\tthis._partialLine = aggregate.substring(lastIndex - this._baseIndex);\n\t\t\t\tthis._baseIndex = lastIndex;\n\t\t\t}\n\n\t\t\tif (results && results.data)\n\t\t\t\tthis._rowCount += results.data.length;\n\n\t\t\tvar finishedIncludingPreview = this._finished || (this._config.preview && this._rowCount >= this._config.preview);\n\n\t\t\tif (IS_PAPA_WORKER)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tresults: results,\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tfinished: finishedIncludingPreview\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (isFunction(this._config.chunk) && !isFakeChunk)\n\t\t\t{\n\t\t\t\tthis._config.chunk(results, this._handle);\n\t\t\t\tif (this._handle.paused() || this._handle.aborted())\n\t\t\t\t\treturn;\n\t\t\t\tresults = undefined;\n\t\t\t\tthis._completeResults = undefined;\n\t\t\t}\n\n\t\t\tif (!this._config.step && !this._config.chunk) {\n\t\t\t\tthis._completeResults.data = this._completeResults.data.concat(results.data);\n\t\t\t\tthis._completeResults.errors = this._completeResults.errors.concat(results.errors);\n\t\t\t\tthis._completeResults.meta = results.meta;\n\t\t\t}\n\n\t\t\tif (!this._completed && finishedIncludingPreview && isFunction(this._config.complete) && (!results || !results.meta.aborted)) {\n\t\t\t\tthis._config.complete(this._completeResults, this._input);\n\t\t\t\tthis._completed = true;\n\t\t\t}\n\n\t\t\tif (!finishedIncludingPreview && (!results || !results.meta.paused))\n\t\t\t\tthis._nextChunk();\n\n\t\t\treturn results;\n\t\t};\n\n\t\tthis._sendError = function(error)\n\t\t{\n\t\t\tif (isFunction(this._config.error))\n\t\t\t\tthis._config.error(error);\n\t\t\telse if (IS_PAPA_WORKER && this._config.error)\n\t\t\t{\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\terror: error,\n\t\t\t\t\tfinished: false\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tfunction replaceConfig(config)\n\t\t{\n\t\t\t// Deep-copy the config so we can edit it\n\t\t\tvar configCopy = copy(config);\n\t\t\tconfigCopy.chunkSize = parseInt(configCopy.chunkSize);\t// parseInt VERY important so we don't concatenate strings!\n\t\t\tif (!config.step && !config.chunk)\n\t\t\t\tconfigCopy.chunkSize = null;  // disable Range header if not streaming; bad values break IIS - see issue #196\n\t\t\tthis._handle = new ParserHandle(configCopy);\n\t\t\tthis._handle.streamer = this;\n\t\t\tthis._config = configCopy;\t// persist the copy to the caller\n\t\t}\n\t}\n\n\n\tfunction NetworkStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.RemoteChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar xhr;\n\n\t\tif (IS_WORKER)\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t\tthis._chunkLoaded();\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._nextChunk = function()\n\t\t\t{\n\t\t\t\tthis._readChunk();\n\t\t\t};\n\t\t}\n\n\t\tthis.stream = function(url)\n\t\t{\n\t\t\tthis._input = url;\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tif (this._finished)\n\t\t\t{\n\t\t\t\tthis._chunkLoaded();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\txhr = new XMLHttpRequest();\n\n\t\t\tif (this._config.withCredentials)\n\t\t\t{\n\t\t\t\txhr.withCredentials = this._config.withCredentials;\n\t\t\t}\n\n\t\t\tif (!IS_WORKER)\n\t\t\t{\n\t\t\t\txhr.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\txhr.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\n\t\t\txhr.open('GET', this._input, !IS_WORKER);\n\t\t\t// Headers can only be set when once the request state is OPENED\n\t\t\tif (this._config.downloadRequestHeaders)\n\t\t\t{\n\t\t\t\tvar headers = this._config.downloadRequestHeaders;\n\n\t\t\t\tfor (var headerName in headers)\n\t\t\t\t{\n\t\t\t\t\txhr.setRequestHeader(headerName, headers[headerName]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = this._start + this._config.chunkSize - 1;\t// minus one because byte range is inclusive\n\t\t\t\txhr.setRequestHeader('Range', 'bytes=' + this._start + '-' + end);\n\t\t\t\txhr.setRequestHeader('If-None-Match', 'webkit-no-cache'); // https://bugs.webkit.org/show_bug.cgi?id=82672\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\txhr.send();\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\tthis._chunkError(err.message);\n\t\t\t}\n\n\t\t\tif (IS_WORKER && xhr.status === 0)\n\t\t\t\tthis._chunkError();\n\t\t\telse\n\t\t\t\tthis._start += this._config.chunkSize;\n\t\t};\n\n\t\tthis._chunkLoaded = function()\n\t\t{\n\t\t\tif (xhr.readyState !== 4)\n\t\t\t\treturn;\n\n\t\t\tif (xhr.status < 200 || xhr.status >= 400)\n\t\t\t{\n\t\t\t\tthis._chunkError();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis._finished = !this._config.chunkSize || this._start > getFileSize(xhr);\n\t\t\tthis.parseChunk(xhr.responseText);\n\t\t};\n\n\t\tthis._chunkError = function(errorMessage)\n\t\t{\n\t\t\tvar errorText = xhr.statusText || errorMessage;\n\t\t\tthis._sendError(new Error(errorText));\n\t\t};\n\n\t\tfunction getFileSize(xhr)\n\t\t{\n\t\t\tvar contentRange = xhr.getResponseHeader('Content-Range');\n\t\t\tif (contentRange === null) { // no content range, then finish!\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\treturn parseInt(contentRange.substr(contentRange.lastIndexOf('/') + 1));\n\t\t}\n\t}\n\tNetworkStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tNetworkStreamer.prototype.constructor = NetworkStreamer;\n\n\n\tfunction FileStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tif (!config.chunkSize)\n\t\t\tconfig.chunkSize = Papa.LocalChunkSize;\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar reader, slice;\n\n\t\t// FileReader is better than FileReaderSync (even in worker) - see http://stackoverflow.com/q/24708649/1048862\n\t\t// But Firefox is a pill, too - see issue #76: https://github.com/mholt/PapaParse/issues/76\n\t\tvar usingAsyncReader = typeof FileReader !== 'undefined';\t// Safari doesn't consider it a function - see issue #105\n\n\t\tthis.stream = function(file)\n\t\t{\n\t\t\tthis._input = file;\n\t\t\tslice = file.slice || file.webkitSlice || file.mozSlice;\n\n\t\t\tif (usingAsyncReader)\n\t\t\t{\n\t\t\t\treader = new FileReader();\t\t// Preferred method of reading files, even in workers\n\t\t\t\treader.onload = bindFunction(this._chunkLoaded, this);\n\t\t\t\treader.onerror = bindFunction(this._chunkError, this);\n\t\t\t}\n\t\t\telse\n\t\t\t\treader = new FileReaderSync();\t// Hack for running in a web worker in Firefox\n\n\t\t\tthis._nextChunk();\t// Starts streaming\n\t\t};\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (!this._finished && (!this._config.preview || this._rowCount < this._config.preview))\n\t\t\t\tthis._readChunk();\n\t\t};\n\n\t\tthis._readChunk = function()\n\t\t{\n\t\t\tvar input = this._input;\n\t\t\tif (this._config.chunkSize)\n\t\t\t{\n\t\t\t\tvar end = Math.min(this._start + this._config.chunkSize, this._input.size);\n\t\t\t\tinput = slice.call(input, this._start, end);\n\t\t\t}\n\t\t\tvar txt = reader.readAsText(input, this._config.encoding);\n\t\t\tif (!usingAsyncReader)\n\t\t\t\tthis._chunkLoaded({ target: { result: txt } });\t// mimic the async signature\n\t\t};\n\n\t\tthis._chunkLoaded = function(event)\n\t\t{\n\t\t\t// Very important to increment start each time before handling results\n\t\t\tthis._start += this._config.chunkSize;\n\t\t\tthis._finished = !this._config.chunkSize || this._start >= this._input.size;\n\t\t\tthis.parseChunk(event.target.result);\n\t\t};\n\n\t\tthis._chunkError = function()\n\t\t{\n\t\t\tthis._sendError(reader.error);\n\t\t};\n\n\t}\n\tFileStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tFileStreamer.prototype.constructor = FileStreamer;\n\n\n\tfunction StringStreamer(config)\n\t{\n\t\tconfig = config || {};\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar remaining;\n\t\tthis.stream = function(s)\n\t\t{\n\t\t\tremaining = s;\n\t\t\treturn this._nextChunk();\n\t\t};\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (this._finished) return;\n\t\t\tvar size = this._config.chunkSize;\n\t\t\tvar chunk = size ? remaining.substr(0, size) : remaining;\n\t\t\tremaining = size ? remaining.substr(size) : '';\n\t\t\tthis._finished = !remaining;\n\t\t\treturn this.parseChunk(chunk);\n\t\t};\n\t}\n\tStringStreamer.prototype = Object.create(StringStreamer.prototype);\n\tStringStreamer.prototype.constructor = StringStreamer;\n\n\n\tfunction ReadableStreamStreamer(config)\n\t{\n\t\tconfig = config || {};\n\n\t\tChunkStreamer.call(this, config);\n\n\t\tvar queue = [];\n\t\tvar parseOnData = true;\n\t\tvar streamHasEnded = false;\n\n\t\tthis.pause = function()\n\t\t{\n\t\t\tChunkStreamer.prototype.pause.apply(this, arguments);\n\t\t\tthis._input.pause();\n\t\t};\n\n\t\tthis.resume = function()\n\t\t{\n\t\t\tChunkStreamer.prototype.resume.apply(this, arguments);\n\t\t\tthis._input.resume();\n\t\t};\n\n\t\tthis.stream = function(stream)\n\t\t{\n\t\t\tthis._input = stream;\n\n\t\t\tthis._input.on('data', this._streamData);\n\t\t\tthis._input.on('end', this._streamEnd);\n\t\t\tthis._input.on('error', this._streamError);\n\t\t};\n\n\t\tthis._checkIsFinished = function()\n\t\t{\n\t\t\tif (streamHasEnded && queue.length === 1) {\n\t\t\t\tthis._finished = true;\n\t\t\t}\n\t\t};\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tthis._checkIsFinished();\n\t\t\tif (queue.length)\n\t\t\t{\n\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tparseOnData = true;\n\t\t\t}\n\t\t};\n\n\t\tthis._streamData = bindFunction(function(chunk)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tqueue.push(typeof chunk === 'string' ? chunk : chunk.toString(this._config.encoding));\n\n\t\t\t\tif (parseOnData)\n\t\t\t\t{\n\t\t\t\t\tparseOnData = false;\n\t\t\t\t\tthis._checkIsFinished();\n\t\t\t\t\tthis.parseChunk(queue.shift());\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t\tthis._streamError(error);\n\t\t\t}\n\t\t}, this);\n\n\t\tthis._streamError = bindFunction(function(error)\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tthis._sendError(error);\n\t\t}, this);\n\n\t\tthis._streamEnd = bindFunction(function()\n\t\t{\n\t\t\tthis._streamCleanUp();\n\t\t\tstreamHasEnded = true;\n\t\t\tthis._streamData('');\n\t\t}, this);\n\n\t\tthis._streamCleanUp = bindFunction(function()\n\t\t{\n\t\t\tthis._input.removeListener('data', this._streamData);\n\t\t\tthis._input.removeListener('end', this._streamEnd);\n\t\t\tthis._input.removeListener('error', this._streamError);\n\t\t}, this);\n\t}\n\tReadableStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\tReadableStreamStreamer.prototype.constructor = ReadableStreamStreamer;\n\n\n\tfunction DuplexStreamStreamer(_config) {\n\t\tvar Duplex = require('stream').Duplex;\n\t\tvar config = copy(_config);\n\t\tvar parseOnWrite = true;\n\t\tvar writeStreamHasFinished = false;\n\t\tvar parseCallbackQueue = [];\n\t\tvar stream = null;\n\n\t\tthis._onCsvData = function(results)\n\t\t{\n\t\t\tvar data = results.data;\n\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\tif (!stream.push(data[i]) && !this._handle.paused()) {\n\t\t\t\t\t// the writeable consumer buffer has filled up\n\t\t\t\t\t// so we need to pause until more items\n\t\t\t\t\t// can be processed\n\t\t\t\t\tthis._handle.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis._onCsvComplete = function()\n\t\t{\n\t\t\t// node will finish the read stream when\n\t\t\t// null is pushed\n\t\t\tstream.push(null);\n\t\t};\n\n\t\tconfig.step = bindFunction(this._onCsvData, this);\n\t\tconfig.complete = bindFunction(this._onCsvComplete, this);\n\t\tChunkStreamer.call(this, config);\n\n\t\tthis._nextChunk = function()\n\t\t{\n\t\t\tif (writeStreamHasFinished && parseCallbackQueue.length === 1) {\n\t\t\t\tthis._finished = true;\n\t\t\t}\n\t\t\tif (parseCallbackQueue.length) {\n\t\t\t\tparseCallbackQueue.shift()();\n\t\t\t} else {\n\t\t\t\tparseOnWrite = true;\n\t\t\t}\n\t\t};\n\n\t\tthis._addToParseQueue = function(chunk, callback)\n\t\t{\n\t\t\t// add to queue so that we can indicate\n\t\t\t// completion via callback\n\t\t\t// node will automatically pause the incoming stream\n\t\t\t// when too many items have been added without their\n\t\t\t// callback being invoked\n\t\t\tparseCallbackQueue.push(bindFunction(function() {\n\t\t\t\tthis.parseChunk(typeof chunk === 'string' ? chunk : chunk.toString(config.encoding));\n\t\t\t\tif (isFunction(callback)) {\n\t\t\t\t\treturn callback();\n\t\t\t\t}\n\t\t\t}, this));\n\t\t\tif (parseOnWrite) {\n\t\t\t\tparseOnWrite = false;\n\t\t\t\tthis._nextChunk();\n\t\t\t}\n\t\t};\n\n\t\tthis._onRead = function()\n\t\t{\n\t\t\tif (this._handle.paused()) {\n\t\t\t\t// the writeable consumer can handle more data\n\t\t\t\t// so resume the chunk parsing\n\t\t\t\tthis._handle.resume();\n\t\t\t}\n\t\t};\n\n\t\tthis._onWrite = function(chunk, encoding, callback)\n\t\t{\n\t\t\tthis._addToParseQueue(chunk, callback);\n\t\t};\n\n\t\tthis._onWriteComplete = function()\n\t\t{\n\t\t\twriteStreamHasFinished = true;\n\t\t\t// have to write empty string\n\t\t\t// so parser knows its done\n\t\t\tthis._addToParseQueue('');\n\t\t};\n\n\t\tthis.getStream = function()\n\t\t{\n\t\t\treturn stream;\n\t\t};\n\t\tstream = new Duplex({\n\t\t\treadableObjectMode: true,\n\t\t\tdecodeStrings: false,\n\t\t\tread: bindFunction(this._onRead, this),\n\t\t\twrite: bindFunction(this._onWrite, this)\n\t\t});\n\t\tstream.once('finish', bindFunction(this._onWriteComplete, this));\n\t}\n\tif (typeof PAPA_BROWSER_CONTEXT === 'undefined') {\n\t\tDuplexStreamStreamer.prototype = Object.create(ChunkStreamer.prototype);\n\t\tDuplexStreamStreamer.prototype.constructor = DuplexStreamStreamer;\n\t}\n\n\n\t// Use one ParserHandle per entire CSV file or string\n\tfunction ParserHandle(_config)\n\t{\n\t\t// One goal is to minimize the use of regular expressions...\n\t\tvar FLOAT = /^\\s*-?(\\d*\\.?\\d+|\\d+\\.?\\d*)(e[-+]?\\d+)?\\s*$/i;\n\t\tvar ISO_DATE = /(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))/;\n\n\t\tvar self = this;\n\t\tvar _stepCounter = 0;\t// Number of times step was called (number of rows parsed)\n\t\tvar _rowCounter = 0;\t// Number of rows that have been parsed so far\n\t\tvar _input;\t\t\t\t// The input being parsed\n\t\tvar _parser;\t\t\t// The core parser being used\n\t\tvar _paused = false;\t// Whether we are paused or not\n\t\tvar _aborted = false;\t// Whether the parser has aborted or not\n\t\tvar _delimiterError;\t// Temporary state between delimiter detection and processing results\n\t\tvar _fields = [];\t\t// Fields are from the header row of the input, if there is one\n\t\tvar _results = {\t\t// The last results returned from the parser\n\t\t\tdata: [],\n\t\t\terrors: [],\n\t\t\tmeta: {}\n\t\t};\n\n\t\tif (isFunction(_config.step))\n\t\t{\n\t\t\tvar userStep = _config.step;\n\t\t\t_config.step = function(results)\n\t\t\t{\n\t\t\t\t_results = results;\n\n\t\t\t\tif (needsHeaderRow())\n\t\t\t\t\tprocessResults();\n\t\t\t\telse\t// only call user's step function after header row\n\t\t\t\t{\n\t\t\t\t\tprocessResults();\n\n\t\t\t\t\t// It's possbile that this line was empty and there's no row here after all\n\t\t\t\t\tif (_results.data.length === 0)\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t_stepCounter += results.data.length;\n\t\t\t\t\tif (_config.preview && _stepCounter > _config.preview)\n\t\t\t\t\t\t_parser.abort();\n\t\t\t\t\telse\n\t\t\t\t\t\tuserStep(_results, self);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Parses input. Most users won't need, and shouldn't mess with, the baseIndex\n\t\t * and ignoreLastRow parameters. They are used by streamers (wrapper functions)\n\t\t * when an input comes in multiple chunks, like from a file.\n\t\t */\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\tvar quoteChar = _config.quoteChar || '\"';\n\t\t\tif (!_config.newline)\n\t\t\t\t_config.newline = guessLineEndings(input, quoteChar);\n\n\t\t\t_delimiterError = false;\n\t\t\tif (!_config.delimiter)\n\t\t\t{\n\t\t\t\tvar delimGuess = guessDelimiter(input, _config.newline, _config.skipEmptyLines, _config.comments);\n\t\t\t\tif (delimGuess.successful)\n\t\t\t\t\t_config.delimiter = delimGuess.bestDelimiter;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t_delimiterError = true;\t// add error after parsing (otherwise it would be overwritten)\n\t\t\t\t\t_config.delimiter = Papa.DefaultDelimiter;\n\t\t\t\t}\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\t\t\telse if(isFunction(_config.delimiter))\n\t\t\t{\n\t\t\t\t_config.delimiter = _config.delimiter(input);\n\t\t\t\t_results.meta.delimiter = _config.delimiter;\n\t\t\t}\n\n\t\t\tvar parserConfig = copy(_config);\n\t\t\tif (_config.preview && _config.header)\n\t\t\t\tparserConfig.preview++;\t// to compensate for header row\n\n\t\t\t_input = input;\n\t\t\t_parser = new Parser(parserConfig);\n\t\t\t_results = _parser.parse(_input, baseIndex, ignoreLastRow);\n\t\t\tprocessResults();\n\t\t\treturn _paused ? { meta: { paused: true } } : (_results || { meta: { paused: false } });\n\t\t};\n\n\t\tthis.paused = function()\n\t\t{\n\t\t\treturn _paused;\n\t\t};\n\n\t\tthis.pause = function()\n\t\t{\n\t\t\t_paused = true;\n\t\t\t_parser.abort();\n\t\t\t_input = _input.substr(_parser.getCharIndex());\n\t\t};\n\n\t\tthis.resume = function()\n\t\t{\n\t\t\t_paused = false;\n\t\t\tself.streamer.parseChunk(_input, true);\n\t\t};\n\n\t\tthis.aborted = function()\n\t\t{\n\t\t\treturn _aborted;\n\t\t};\n\n\t\tthis.abort = function()\n\t\t{\n\t\t\t_aborted = true;\n\t\t\t_parser.abort();\n\t\t\t_results.meta.aborted = true;\n\t\t\tif (isFunction(_config.complete))\n\t\t\t\t_config.complete(_results);\n\t\t\t_input = '';\n\t\t};\n\n\t\tfunction testEmptyLine(s) {\n\t\t\treturn _config.skipEmptyLines === 'greedy' ? s.join('').trim() === '' : s.length === 1 && s[0].length === 0;\n\t\t}\n\n\t\tfunction processResults()\n\t\t{\n\t\t\tif (_results && _delimiterError)\n\t\t\t{\n\t\t\t\taddError('Delimiter', 'UndetectableDelimiter', 'Unable to auto-detect delimiting character; defaulted to \\'' + Papa.DefaultDelimiter + '\\'');\n\t\t\t\t_delimiterError = false;\n\t\t\t}\n\n\t\t\tif (_config.skipEmptyLines)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t\t\tif (testEmptyLine(_results.data[i]))\n\t\t\t\t\t\t_results.data.splice(i--, 1);\n\t\t\t}\n\n\t\t\tif (needsHeaderRow())\n\t\t\t\tfillHeaderFields();\n\n\t\t\treturn applyHeaderAndDynamicTypingAndTransformation();\n\t\t}\n\n\t\tfunction needsHeaderRow()\n\t\t{\n\t\t\treturn _config.header && _fields.length === 0;\n\t\t}\n\n\t\tfunction fillHeaderFields()\n\t\t{\n\t\t\tif (!_results)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0; needsHeaderRow() && i < _results.data.length; i++)\n\t\t\t\tfor (var j = 0; j < _results.data[i].length; j++)\n\t\t\t\t{\n\t\t\t\t\tvar header = _results.data[i][j];\n\n\t\t\t\t\tif (_config.trimHeaders) {\n\t\t\t\t\t\theader = header.trim();\n\t\t\t\t\t}\n\n\t\t\t\t\t_fields.push(header);\n\t\t\t\t}\n\t\t\t_results.data.splice(0, 1);\n\t\t}\n\n\t\tfunction shouldApplyDynamicTyping(field) {\n\t\t\t// Cache function values to avoid calling it for each row\n\t\t\tif (_config.dynamicTypingFunction && _config.dynamicTyping[field] === undefined) {\n\t\t\t\t_config.dynamicTyping[field] = _config.dynamicTypingFunction(field);\n\t\t\t}\n\t\t\treturn (_config.dynamicTyping[field] || _config.dynamicTyping) === true;\n\t\t}\n\n\t\tfunction parseDynamic(field, value)\n\t\t{\n\t\t\tif (shouldApplyDynamicTyping(field))\n\t\t\t{\n\t\t\t\tif (value === 'true' || value === 'TRUE')\n\t\t\t\t\treturn true;\n\t\t\t\telse if (value === 'false' || value === 'FALSE')\n\t\t\t\t\treturn false;\n\t\t\t\telse if (FLOAT.test(value))\n\t\t\t\t\treturn parseFloat(value);\n\t\t\t\telse if (ISO_DATE.test(value))\n\t\t\t\t\treturn new Date(value);\n\t\t\t\telse\n\t\t\t\t\treturn (value === '' ? null : value);\n\t\t\t}\n\t\t\treturn value;\n\t\t}\n\n\t\tfunction applyHeaderAndDynamicTypingAndTransformation()\n\t\t{\n\t\t\tif (!_results || (!_config.header && !_config.dynamicTyping && !_config.transform))\n\t\t\t\treturn _results;\n\n\t\t\tfor (var i = 0; i < _results.data.length; i++)\n\t\t\t{\n\t\t\t\tvar row = _config.header ? {} : [];\n\n\t\t\t\tvar j;\n\t\t\t\tfor (j = 0; j < _results.data[i].length; j++)\n\t\t\t\t{\n\t\t\t\t\tvar field = j;\n\t\t\t\t\tvar value = _results.data[i][j];\n\n\t\t\t\t\tif (_config.header)\n\t\t\t\t\t\tfield = j >= _fields.length ? '__parsed_extra' : _fields[j];\n\n\t\t\t\t\tif (_config.transform)\n\t\t\t\t\t\tvalue = _config.transform(value,field);\n\n\t\t\t\t\tvalue = parseDynamic(field, value);\n\n\t\t\t\t\tif (field === '__parsed_extra')\n\t\t\t\t\t{\n\t\t\t\t\t\trow[field] = row[field] || [];\n\t\t\t\t\t\trow[field].push(value);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\trow[field] = value;\n\t\t\t\t}\n\n\t\t\t\t_results.data[i] = row;\n\n\t\t\t\tif (_config.header)\n\t\t\t\t{\n\t\t\t\t\tif (j > _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooManyFields', 'Too many fields: expected ' + _fields.length + ' fields but parsed ' + j, _rowCounter + i);\n\t\t\t\t\telse if (j < _fields.length)\n\t\t\t\t\t\taddError('FieldMismatch', 'TooFewFields', 'Too few fields: expected ' + _fields.length + ' fields but parsed ' + j, _rowCounter + i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (_config.header && _results.meta)\n\t\t\t\t_results.meta.fields = _fields;\n\n\t\t\t_rowCounter += _results.data.length;\n\t\t\treturn _results;\n\t\t}\n\n\t\tfunction guessDelimiter(input, newline, skipEmptyLines, comments)\n\t\t{\n\t\t\tvar delimChoices = [',', '\\t', '|', ';', Papa.RECORD_SEP, Papa.UNIT_SEP];\n\t\t\tvar bestDelim, bestDelta, fieldCountPrevRow;\n\n\t\t\tfor (var i = 0; i < delimChoices.length; i++)\n\t\t\t{\n\t\t\t\tvar delim = delimChoices[i];\n\t\t\t\tvar delta = 0, avgFieldCount = 0, emptyLinesCount = 0;\n\t\t\t\tfieldCountPrevRow = undefined;\n\n\t\t\t\tvar preview = new Parser({\n\t\t\t\t\tcomments: comments,\n\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\tnewline: newline,\n\t\t\t\t\tpreview: 10\n\t\t\t\t}).parse(input);\n\n\t\t\t\tfor (var j = 0; j < preview.data.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (skipEmptyLines && testEmptyLine(preview.data[j]))\n\t\t\t\t\t{\n\t\t\t\t\t\temptyLinesCount++;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvar fieldCount = preview.data[j].length;\n\t\t\t\t\tavgFieldCount += fieldCount;\n\n\t\t\t\t\tif (typeof fieldCountPrevRow === 'undefined')\n\t\t\t\t\t{\n\t\t\t\t\t\tfieldCountPrevRow = 0;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\telse if (fieldCount > 1)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelta += Math.abs(fieldCount - fieldCountPrevRow);\n\t\t\t\t\t\tfieldCountPrevRow = fieldCount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (preview.data.length > 0)\n\t\t\t\t\tavgFieldCount /= (preview.data.length - emptyLinesCount);\n\n\t\t\t\tif ((typeof bestDelta === 'undefined' || delta > bestDelta)\n\t\t\t\t\t&& avgFieldCount > 1.99)\n\t\t\t\t{\n\t\t\t\t\tbestDelta = delta;\n\t\t\t\t\tbestDelim = delim;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_config.delimiter = bestDelim;\n\n\t\t\treturn {\n\t\t\t\tsuccessful: !!bestDelim,\n\t\t\t\tbestDelimiter: bestDelim\n\t\t\t};\n\t\t}\n\n\t\tfunction guessLineEndings(input, quoteChar)\n\t\t{\n\t\t\tinput = input.substr(0, 1024 * 1024);\t// max length 1 MB\n\t\t\t// Replace all the text inside quotes\n\t\t\tvar re = new RegExp(escapeRegExp(quoteChar) + '([^]*?)' + escapeRegExp(quoteChar), 'gm');\n\t\t\tinput = input.replace(re, '');\n\n\t\t\tvar r = input.split('\\r');\n\n\t\t\tvar n = input.split('\\n');\n\n\t\t\tvar nAppearsFirst = (n.length > 1 && n[0].length < r[0].length);\n\n\t\t\tif (r.length === 1 || nAppearsFirst)\n\t\t\t\treturn '\\n';\n\n\t\t\tvar numWithN = 0;\n\t\t\tfor (var i = 0; i < r.length; i++)\n\t\t\t{\n\t\t\t\tif (r[i][0] === '\\n')\n\t\t\t\t\tnumWithN++;\n\t\t\t}\n\n\t\t\treturn numWithN >= r.length / 2 ? '\\r\\n' : '\\r';\n\t\t}\n\n\t\tfunction addError(type, code, msg, row)\n\t\t{\n\t\t\t_results.errors.push({\n\t\t\t\ttype: type,\n\t\t\t\tcode: code,\n\t\t\t\tmessage: msg,\n\t\t\t\trow: row\n\t\t\t});\n\t\t}\n\t}\n\n\t/** https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions */\n\tfunction escapeRegExp(string)\n\t{\n\t\treturn string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\n\t}\n\n\t/** The core parser implements speedy and correct CSV parsing */\n\tfunction Parser(config)\n\t{\n\t\t// Unpack the config object\n\t\tconfig = config || {};\n\t\tvar delim = config.delimiter;\n\t\tvar newline = config.newline;\n\t\tvar comments = config.comments;\n\t\tvar step = config.step;\n\t\tvar preview = config.preview;\n\t\tvar fastMode = config.fastMode;\n\t\tvar quoteChar;\n\t\t/** Allows for no quoteChar by setting quoteChar to undefined in config */\n\t\tif (config.quoteChar === undefined) {\n\t\t\tquoteChar = '\"';\n\t\t} else {\n\t\t\tquoteChar = config.quoteChar;\n\t\t}\n\t\tvar escapeChar = quoteChar;\n\t\tif (config.escapeChar !== undefined) {\n\t\t\tescapeChar = config.escapeChar;\n\t\t}\n\n\t\t// Delimiter must be valid\n\t\tif (typeof delim !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(delim) > -1)\n\t\t\tdelim = ',';\n\n\t\t// Comment character must be valid\n\t\tif (comments === delim)\n\t\t\tthrow 'Comment character same as delimiter';\n\t\telse if (comments === true)\n\t\t\tcomments = '#';\n\t\telse if (typeof comments !== 'string'\n\t\t\t|| Papa.BAD_DELIMITERS.indexOf(comments) > -1)\n\t\t\tcomments = false;\n\n\t\t// Newline must be valid: \\r, \\n, or \\r\\n\n\t\tif (newline !== '\\n' && newline !== '\\r' && newline !== '\\r\\n')\n\t\t\tnewline = '\\n';\n\n\t\t// We're gonna need these at the Parser scope\n\t\tvar cursor = 0;\n\t\tvar aborted = false;\n\n\t\tthis.parse = function(input, baseIndex, ignoreLastRow)\n\t\t{\n\t\t\t// For some reason, in Chrome, this speeds things up (!?)\n\t\t\tif (typeof input !== 'string')\n\t\t\t\tthrow 'Input must be a string';\n\n\t\t\t// We don't need to compute some of these every time parse() is called,\n\t\t\t// but having them in a more local scope seems to perform better\n\t\t\tvar inputLen = input.length,\n\t\t\t\tdelimLen = delim.length,\n\t\t\t\tnewlineLen = newline.length,\n\t\t\t\tcommentsLen = comments.length;\n\t\t\tvar stepIsFunction = isFunction(step);\n\n\t\t\t// Establish starting state\n\t\t\tcursor = 0;\n\t\t\tvar data = [], errors = [], row = [], lastCursor = 0;\n\n\t\t\tif (!input)\n\t\t\t\treturn returnable();\n\n\t\t\tif (fastMode || (fastMode !== false && input.indexOf(quoteChar) === -1))\n\t\t\t{\n\t\t\t\tvar rows = input.split(newline);\n\t\t\t\tfor (var i = 0; i < rows.length; i++)\n\t\t\t\t{\n\t\t\t\t\trow = rows[i];\n\t\t\t\t\tcursor += row.length;\n\t\t\t\t\tif (i !== rows.length - 1)\n\t\t\t\t\t\tcursor += newline.length;\n\t\t\t\t\telse if (ignoreLastRow)\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tif (comments && row.substr(0, commentsLen) === comments)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = [];\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tpushRow(row.split(delim));\n\t\t\t\t\tif (preview && i >= preview)\n\t\t\t\t\t{\n\t\t\t\t\t\tdata = data.slice(0, preview);\n\t\t\t\t\t\treturn returnable(true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\tvar nextDelim = input.indexOf(delim, cursor);\n\t\t\tvar nextNewline = input.indexOf(newline, cursor);\n\t\t\tvar quoteCharRegex = new RegExp(escapeRegExp(escapeChar) + escapeRegExp(quoteChar), 'g');\n\t\t\tvar quoteSearch;\n\n\t\t\t// Parser loop\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\t// Field has opening quote\n\t\t\t\tif (input[cursor] === quoteChar)\n\t\t\t\t{\n\t\t\t\t\t// Start our search for the closing quote where the cursor is\n\t\t\t\t\tquoteSearch = cursor;\n\n\t\t\t\t\t// Skip the opening quote\n\t\t\t\t\tcursor++;\n\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\t// Find closing quote\n\t\t\t\t\t\tquoteSearch = input.indexOf(quoteChar, quoteSearch + 1);\n\n\t\t\t\t\t\t//No other quotes are found - no other delimiters\n\t\t\t\t\t\tif (quoteSearch === -1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!ignoreLastRow) {\n\t\t\t\t\t\t\t\t// No closing quote... what a pity\n\t\t\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\t\t\tcode: 'MissingQuotes',\n\t\t\t\t\t\t\t\t\tmessage: 'Quoted field unterminated',\n\t\t\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn finish();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Closing quote at EOF\n\t\t\t\t\t\tif (quoteSearch === inputLen - 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar value = input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar);\n\t\t\t\t\t\t\treturn finish(value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If this quote is escaped, it's part of the data; skip it\n\t\t\t\t\t\t// If the quote character is the escape character, then check if the next character is the escape character\n\t\t\t\t\t\tif (quoteChar === escapeChar &&  input[quoteSearch + 1] === escapeChar)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If the quote character is not the escape character, then check if the previous character was the escape character\n\t\t\t\t\t\tif (quoteChar !== escapeChar && quoteSearch !== 0 && input[quoteSearch - 1] === escapeChar)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Check up to nextDelim or nextNewline, whichever is closest\n\t\t\t\t\t\tvar checkUpTo = nextNewline === -1 ? nextDelim : Math.min(nextDelim, nextNewline);\n\t\t\t\t\t\tvar spacesBetweenQuoteAndDelimiter = extraSpaces(checkUpTo);\n\n\t\t\t\t\t\t// Closing quote followed by delimiter or 'unnecessary spaces + delimiter'\n\t\t\t\t\t\tif (input[quoteSearch + 1 + spacesBetweenQuoteAndDelimiter] === delim)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tcursor = quoteSearch + 1 + spacesBetweenQuoteAndDelimiter + delimLen;\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar spacesBetweenQuoteAndNewLine = extraSpaces(nextNewline);\n\n\t\t\t\t\t\t// Closing quote followed by newline or 'unnecessary spaces + newLine'\n\t\t\t\t\t\tif (input.substr(quoteSearch + 1 + spacesBetweenQuoteAndNewLine, newlineLen) === newline)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trow.push(input.substring(cursor, quoteSearch).replace(quoteCharRegex, quoteChar));\n\t\t\t\t\t\t\tsaveRow(quoteSearch + 1 + spacesBetweenQuoteAndNewLine + newlineLen);\n\t\t\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\t// because we may have skipped the nextDelim in the quoted field\n\n\t\t\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\t// Checks for valid closing quotes are complete (escaped quotes or quote followed by EOF/delimiter/newline) -- assume these quotes are part of an invalid text string\n\t\t\t\t\t\terrors.push({\n\t\t\t\t\t\t\ttype: 'Quotes',\n\t\t\t\t\t\t\tcode: 'InvalidQuotes',\n\t\t\t\t\t\t\tmessage: 'Trailing quote on quoted field is malformed',\n\t\t\t\t\t\t\trow: data.length,\t// row has yet to be inserted\n\t\t\t\t\t\t\tindex: cursor\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tquoteSearch++;\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Comment found at start of new line\n\t\t\t\tif (comments && row.length === 0 && input.substr(cursor, commentsLen) === comments)\n\t\t\t\t{\n\t\t\t\t\tif (nextNewline === -1)\t// Comment ends at EOF\n\t\t\t\t\t\treturn returnable();\n\t\t\t\t\tcursor = nextNewline + newlineLen;\n\t\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Next delimiter comes before next newline, so we've reached end of field\n\t\t\t\tif (nextDelim !== -1 && (nextDelim < nextNewline || nextNewline === -1))\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextDelim));\n\t\t\t\t\tcursor = nextDelim + delimLen;\n\t\t\t\t\tnextDelim = input.indexOf(delim, cursor);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// End of row\n\t\t\t\tif (nextNewline !== -1)\n\t\t\t\t{\n\t\t\t\t\trow.push(input.substring(cursor, nextNewline));\n\t\t\t\t\tsaveRow(nextNewline + newlineLen);\n\n\t\t\t\t\tif (stepIsFunction)\n\t\t\t\t\t{\n\t\t\t\t\t\tdoStep();\n\t\t\t\t\t\tif (aborted)\n\t\t\t\t\t\t\treturn returnable();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (preview && data.length >= preview)\n\t\t\t\t\t\treturn returnable(true);\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\n\t\t\treturn finish();\n\n\n\t\t\tfunction pushRow(row)\n\t\t\t{\n\t\t\t\tdata.push(row);\n\t\t\t\tlastCursor = cursor;\n\t\t\t}\n\n\t\t\t/**\n             * checks if there are extra spaces after closing quote and given index without any text\n             * if Yes, returns the number of spaces\n             */\n\t\t\tfunction extraSpaces(index) {\n\t\t\t\tvar spaceLength = 0;\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\tvar textBetweenClosingQuoteAndIndex = input.substring(quoteSearch + 1, index);\n\t\t\t\t\tif (textBetweenClosingQuoteAndIndex && textBetweenClosingQuoteAndIndex.trim() === '') {\n\t\t\t\t\t\tspaceLength = textBetweenClosingQuoteAndIndex.length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn spaceLength;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the remaining input from cursor to the end into\n\t\t\t * row, saves the row, calls step, and returns the results.\n\t\t\t */\n\t\t\tfunction finish(value)\n\t\t\t{\n\t\t\t\tif (ignoreLastRow)\n\t\t\t\t\treturn returnable();\n\t\t\t\tif (typeof value === 'undefined')\n\t\t\t\t\tvalue = input.substr(cursor);\n\t\t\t\trow.push(value);\n\t\t\t\tcursor = inputLen;\t// important in case parsing is paused\n\t\t\t\tpushRow(row);\n\t\t\t\tif (stepIsFunction)\n\t\t\t\t\tdoStep();\n\t\t\t\treturn returnable();\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Appends the current row to the results. It sets the cursor\n\t\t\t * to newCursor and finds the nextNewline. The caller should\n\t\t\t * take care to execute user's step function and check for\n\t\t\t * preview and end parsing if necessary.\n\t\t\t */\n\t\t\tfunction saveRow(newCursor)\n\t\t\t{\n\t\t\t\tcursor = newCursor;\n\t\t\t\tpushRow(row);\n\t\t\t\trow = [];\n\t\t\t\tnextNewline = input.indexOf(newline, cursor);\n\t\t\t}\n\n\t\t\t/** Returns an object with the results, errors, and meta. */\n\t\t\tfunction returnable(stopped)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\tdata: data,\n\t\t\t\t\terrors: errors,\n\t\t\t\t\tmeta: {\n\t\t\t\t\t\tdelimiter: delim,\n\t\t\t\t\t\tlinebreak: newline,\n\t\t\t\t\t\taborted: aborted,\n\t\t\t\t\t\ttruncated: !!stopped,\n\t\t\t\t\t\tcursor: lastCursor + (baseIndex || 0)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t/** Executes the user's step function and resets data & errors. */\n\t\t\tfunction doStep()\n\t\t\t{\n\t\t\t\tstep(returnable());\n\t\t\t\tdata = [];\n\t\t\t\terrors = [];\n\t\t\t}\n\t\t};\n\n\t\t/** Sets the abort flag */\n\t\tthis.abort = function()\n\t\t{\n\t\t\taborted = true;\n\t\t};\n\n\t\t/** Gets the cursor position */\n\t\tthis.getCharIndex = function()\n\t\t{\n\t\t\treturn cursor;\n\t\t};\n\t}\n\n\n\t// If you need to load Papa Parse asynchronously and you also need worker threads, hard-code\n\t// the script path here. See: https://github.com/mholt/PapaParse/issues/87#issuecomment-57885358\n\tfunction getScriptPath()\n\t{\n\t\tvar scripts = document.getElementsByTagName('script');\n\t\treturn scripts.length ? scripts[scripts.length - 1].src : '';\n\t}\n\n\tfunction newWorker()\n\t{\n\t\tif (!Papa.WORKERS_SUPPORTED)\n\t\t\treturn false;\n\t\tif (!LOADED_SYNC && Papa.SCRIPT_PATH === null)\n\t\t\tthrow new Error(\n\t\t\t\t'Script path cannot be determined automatically when Papa Parse is loaded asynchronously. ' +\n\t\t\t\t'You need to set Papa.SCRIPT_PATH manually.'\n\t\t\t);\n\t\tvar workerUrl = Papa.SCRIPT_PATH || AUTO_SCRIPT_PATH;\n\t\t// Append 'papaworker' to the search string to tell papaparse that this is our worker.\n\t\tworkerUrl += (workerUrl.indexOf('?') !== -1 ? '&' : '?') + 'papaworker';\n\t\tvar w = new global.Worker(workerUrl);\n\t\tw.onmessage = mainThreadReceivedMessage;\n\t\tw.id = workerIdCounter++;\n\t\tworkers[w.id] = w;\n\t\treturn w;\n\t}\n\n\t/** Callback when main thread receives a message */\n\tfunction mainThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\t\tvar worker = workers[msg.workerId];\n\t\tvar aborted = false;\n\n\t\tif (msg.error)\n\t\t\tworker.userError(msg.error, msg.file);\n\t\telse if (msg.results && msg.results.data)\n\t\t{\n\t\t\tvar abort = function() {\n\t\t\t\taborted = true;\n\t\t\t\tcompleteWorker(msg.workerId, { data: [], errors: [], meta: { aborted: true } });\n\t\t\t};\n\n\t\t\tvar handle = {\n\t\t\t\tabort: abort,\n\t\t\t\tpause: notImplemented,\n\t\t\t\tresume: notImplemented\n\t\t\t};\n\n\t\t\tif (isFunction(worker.userStep))\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < msg.results.data.length; i++)\n\t\t\t\t{\n\t\t\t\t\tworker.userStep({\n\t\t\t\t\t\tdata: [msg.results.data[i]],\n\t\t\t\t\t\terrors: msg.results.errors,\n\t\t\t\t\t\tmeta: msg.results.meta\n\t\t\t\t\t}, handle);\n\t\t\t\t\tif (aborted)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tdelete msg.results;\t// free memory ASAP\n\t\t\t}\n\t\t\telse if (isFunction(worker.userChunk))\n\t\t\t{\n\t\t\t\tworker.userChunk(msg.results, handle, msg.file);\n\t\t\t\tdelete msg.results;\n\t\t\t}\n\t\t}\n\n\t\tif (msg.finished && !aborted)\n\t\t\tcompleteWorker(msg.workerId, msg.results);\n\t}\n\n\tfunction completeWorker(workerId, results) {\n\t\tvar worker = workers[workerId];\n\t\tif (isFunction(worker.userComplete))\n\t\t\tworker.userComplete(results);\n\t\tworker.terminate();\n\t\tdelete workers[workerId];\n\t}\n\n\tfunction notImplemented() {\n\t\tthrow 'Not implemented.';\n\t}\n\n\t/** Callback when worker thread receives a message */\n\tfunction workerThreadReceivedMessage(e)\n\t{\n\t\tvar msg = e.data;\n\n\t\tif (typeof Papa.WORKER_ID === 'undefined' && msg)\n\t\t\tPapa.WORKER_ID = msg.workerId;\n\n\t\tif (typeof msg.input === 'string')\n\t\t{\n\t\t\tglobal.postMessage({\n\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\tresults: Papa.parse(msg.input, msg.config),\n\t\t\t\tfinished: true\n\t\t\t});\n\t\t}\n\t\telse if ((global.File && msg.input instanceof File) || msg.input instanceof Object)\t// thank you, Safari (see issue #106)\n\t\t{\n\t\t\tvar results = Papa.parse(msg.input, msg.config);\n\t\t\tif (results)\n\t\t\t\tglobal.postMessage({\n\t\t\t\t\tworkerId: Papa.WORKER_ID,\n\t\t\t\t\tresults: results,\n\t\t\t\t\tfinished: true\n\t\t\t\t});\n\t\t}\n\t}\n\n\t/** Makes a deep copy of an array or object (mostly) */\n\tfunction copy(obj)\n\t{\n\t\tif (typeof obj !== 'object' || obj === null)\n\t\t\treturn obj;\n\t\tvar cpy = Array.isArray(obj) ? [] : {};\n\t\tfor (var key in obj)\n\t\t\tcpy[key] = copy(obj[key]);\n\t\treturn cpy;\n\t}\n\n\tfunction bindFunction(f, self)\n\t{\n\t\treturn function() { f.apply(self, arguments); };\n\t}\n\n\tfunction isFunction(func)\n\t{\n\t\treturn typeof func === 'function';\n\t}\n\n\treturn Papa;\n}));\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","// Libraries\nimport Papa, { ParseResult, ParseConfig, Parser } from 'papaparse';\nimport defaults from 'lodash/defaults';\nimport isNumber from 'lodash/isNumber';\n\n// Types\nimport { DataFrame, Field, FieldType, FieldConfig } from '../types';\nimport { guessFieldTypeFromValue } from './processDataFrame';\nimport { DataFrameHelper } from './dataFrameHelper';\n\nexport enum CSVHeaderStyle {\n  full,\n  name,\n  none,\n}\n\n// Subset of all parse options\nexport interface CSVConfig {\n  delimiter?: string; // default: \",\"\n  newline?: string; // default: \"\\r\\n\"\n  quoteChar?: string; // default: '\"'\n  encoding?: string; // default: \"\",\n  headerStyle?: CSVHeaderStyle;\n}\n\nexport interface CSVParseCallbacks {\n  /**\n   * Get a callback before any rows are processed\n   * This can return a modified table to force any\n   * Column configurations\n   */\n  onHeader: (fields: Field[]) => void;\n\n  // Called after each row is read\n  onRow: (row: any[]) => void;\n}\n\nexport interface CSVOptions {\n  config?: CSVConfig;\n  callback?: CSVParseCallbacks;\n}\n\nexport function readCSV(csv: string, options?: CSVOptions): DataFrame[] {\n  return new CSVReader(options).readCSV(csv);\n}\n\nenum ParseState {\n  Starting,\n  InHeader,\n  ReadingRows,\n}\n\nexport class CSVReader {\n  config: CSVConfig;\n  callback?: CSVParseCallbacks;\n\n  state: ParseState;\n  data: DataFrameHelper[];\n  current: DataFrameHelper;\n\n  constructor(options?: CSVOptions) {\n    if (!options) {\n      options = {};\n    }\n    this.config = options.config || {};\n    this.callback = options.callback;\n\n    this.current = new DataFrameHelper({ fields: [] });\n    this.state = ParseState.Starting;\n    this.data = [];\n  }\n\n  // PapaParse callback on each line\n  private step = (results: ParseResult, parser: Parser): void => {\n    for (let i = 0; i < results.data.length; i++) {\n      const line: string[] = results.data[i];\n      if (line.length < 1) {\n        continue;\n      }\n      const first = line[0]; // null or value, papaparse does not return ''\n      if (first) {\n        // Comment or header queue\n        if (first.startsWith('#')) {\n          // Look for special header column\n          // #{columkey}#a,b,c\n          const idx = first.indexOf('#', 2);\n          if (idx > 0) {\n            const k = first.substr(1, idx - 1);\n            const isName = 'name' === k;\n\n            // Simple object used to check if headers match\n            const headerKeys: FieldConfig = {\n              unit: '#',\n            };\n\n            // Check if it is a known/supported column\n            if (isName || headerKeys.hasOwnProperty(k)) {\n              // Starting a new table after reading rows\n              if (this.state === ParseState.ReadingRows) {\n                this.current = new DataFrameHelper({ fields: [] });\n                this.data.push(this.current);\n              }\n\n              const v = first.substr(idx + 1);\n              if (isName) {\n                this.current.addFieldFor(undefined, v);\n                for (let j = 1; j < line.length; j++) {\n                  this.current.addFieldFor(undefined, line[j]);\n                }\n              } else {\n                const { fields } = this.current;\n                for (let j = 0; j < fields.length; j++) {\n                  if (!fields[j].config) {\n                    fields[j].config = {};\n                  }\n                  const disp = fields[j].config as any; // any lets name lookup\n                  disp[k] = j === 0 ? v : line[j];\n                }\n              }\n\n              this.state = ParseState.InHeader;\n              continue;\n            }\n          } else if (this.state === ParseState.Starting) {\n            this.state = ParseState.InHeader;\n            continue;\n          }\n          // Ignore comment lines\n          continue;\n        }\n\n        if (this.state === ParseState.Starting) {\n          const type = guessFieldTypeFromValue(first);\n          if (type === FieldType.string) {\n            for (const s of line) {\n              this.current.addFieldFor(undefined, s);\n            }\n            this.state = ParseState.InHeader;\n            continue;\n          }\n          this.state = ParseState.InHeader; // fall through to read rows\n        }\n      }\n\n      // Add the current results to the data\n      if (this.state !== ParseState.ReadingRows) {\n        // anything???\n      }\n\n      this.state = ParseState.ReadingRows;\n\n      // Make sure colum structure is valid\n      if (line.length > this.current.fields.length) {\n        const { fields } = this.current;\n        for (let f = fields.length; f < line.length; f++) {\n          this.current.addFieldFor(line[f]);\n        }\n        if (this.callback) {\n          this.callback.onHeader(this.current.fields);\n        }\n      }\n\n      this.current.appendRow(line);\n      if (this.callback) {\n        // // Send the header after we guess the type\n        // if (this.series.rows.length === 0) {\n        //   this.callback.onHeader(this.series);\n        // }\n        this.callback.onRow(line);\n      }\n    }\n  };\n\n  readCSV(text: string): DataFrameHelper[] {\n    this.current = new DataFrameHelper({ fields: [] });\n    this.data = [this.current];\n\n    const papacfg = {\n      ...this.config,\n      dynamicTyping: false,\n      skipEmptyLines: true,\n      comments: false, // Keep comment lines\n      step: this.step,\n    } as ParseConfig;\n\n    Papa.parse(text, papacfg);\n\n    return this.data;\n  }\n}\n\ntype FieldWriter = (value: any) => string;\n\nfunction writeValue(value: any, config: CSVConfig): string {\n  const str = value.toString();\n  if (str.includes('\"')) {\n    // Escape the double quote characters\n    return config.quoteChar + str.replace(/\"/gi, '\"\"') + config.quoteChar;\n  }\n  if (str.includes('\\n') || str.includes(config.delimiter)) {\n    return config.quoteChar + str + config.quoteChar;\n  }\n  return str;\n}\n\nfunction makeFieldWriter(field: Field, config: CSVConfig): FieldWriter {\n  if (field.type) {\n    if (field.type === FieldType.boolean) {\n      return (value: any) => {\n        return value ? 'true' : 'false';\n      };\n    }\n\n    if (field.type === FieldType.number) {\n      return (value: any) => {\n        if (isNumber(value)) {\n          return value.toString();\n        }\n        return writeValue(value, config);\n      };\n    }\n  }\n\n  return (value: any) => writeValue(value, config);\n}\n\nfunction getHeaderLine(key: string, fields: Field[], config: CSVConfig): string {\n  const isName = 'name' === key;\n  const isType = 'type' === key;\n\n  for (const f of fields) {\n    const display = f.config;\n    if (isName || isType || (display && display.hasOwnProperty(key))) {\n      let line = '#' + key + '#';\n      for (let i = 0; i < fields.length; i++) {\n        if (i > 0) {\n          line = line + config.delimiter;\n        }\n\n        let v: any = fields[i].name;\n        if (isType) {\n          v = fields[i].type;\n        } else if (isName) {\n          // already name\n        } else {\n          v = (fields[i].config as any)[key];\n        }\n        if (v) {\n          line = line + writeValue(v, config);\n        }\n      }\n      return line + config.newline;\n    }\n  }\n  return '';\n}\n\nexport function toCSV(data: DataFrame[], config?: CSVConfig): string {\n  if (!data) {\n    return '';\n  }\n\n  let csv = '';\n  config = defaults(config, {\n    delimiter: ',',\n    newline: '\\r\\n',\n    quoteChar: '\"',\n    encoding: '',\n    headerStyle: CSVHeaderStyle.name,\n  });\n\n  for (const series of data) {\n    const { fields } = series;\n    if (config.headerStyle === CSVHeaderStyle.full) {\n      csv =\n        csv +\n        getHeaderLine('name', fields, config) +\n        getHeaderLine('type', fields, config) +\n        getHeaderLine('unit', fields, config) +\n        getHeaderLine('dateFormat', fields, config);\n    } else if (config.headerStyle === CSVHeaderStyle.name) {\n      for (let i = 0; i < fields.length; i++) {\n        if (i > 0) {\n          csv += config.delimiter;\n        }\n        csv += fields[i].name;\n      }\n      csv += config.newline;\n    }\n    const length = fields[0].values.length;\n    if (length > 0) {\n      const writers = fields.map(field => makeFieldWriter(field, config!));\n      for (let i = 0; i < length; i++) {\n        for (let j = 0; j < fields.length; j++) {\n          if (j > 0) {\n            csv = csv + config.delimiter;\n          }\n\n          const v = fields[j].values.get(i);\n          if (v !== null) {\n            csv = csv + writers[j](v);\n          }\n        }\n        csv = csv + config.newline;\n      }\n    }\n    csv = csv + config.newline;\n  }\n\n  return csv;\n}\n","var baseRest = require('./_baseRest'),\n    eq = require('./eq'),\n    isIterateeCall = require('./_isIterateeCall'),\n    keysIn = require('./keysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(object, sources) {\n  object = Object(object);\n\n  var index = -1;\n  var length = sources.length;\n  var guard = length > 2 ? sources[2] : undefined;\n\n  if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n    length = 1;\n  }\n\n  while (++index < length) {\n    var source = sources[index];\n    var props = keysIn(source);\n    var propsIndex = -1;\n    var propsLength = props.length;\n\n    while (++propsIndex < propsLength) {\n      var key = props[propsIndex];\n      var value = object[key];\n\n      if (value === undefined ||\n          (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        object[key] = source[key];\n      }\n    }\n  }\n\n  return object;\n});\n\nmodule.exports = defaults;\n","// Libraries\nimport isNumber from 'lodash/isNumber';\n\nimport { NullValueMode, Field } from '../types';\nimport { Registry, RegistryItem } from './registry';\n\nexport enum ReducerID {\n  sum = 'sum',\n  max = 'max',\n  min = 'min',\n  logmin = 'logmin',\n  mean = 'mean',\n  last = 'last',\n  first = 'first',\n  count = 'count',\n  range = 'range',\n  diff = 'diff',\n  delta = 'delta',\n  step = 'step',\n\n  firstNotNull = 'firstNotNull',\n  lastNotNull = 'lastNotNull',\n\n  changeCount = 'changeCount',\n  distinctCount = 'distinctCount',\n\n  allIsZero = 'allIsZero',\n  allIsNull = 'allIsNull',\n}\n\nexport interface FieldCalcs {\n  [key: string]: any;\n}\n\n// Internal function\ntype FieldReducer = (field: Field, ignoreNulls: boolean, nullAsZero: boolean) => FieldCalcs;\n\nexport interface FieldReducerInfo extends RegistryItem {\n  // Internal details\n  emptyInputResult?: any; // typically null, but some things like 'count' & 'sum' should be zero\n  standard: boolean; // The most common stats can all be calculated in a single pass\n  reduce?: FieldReducer;\n}\n\ninterface ReduceFieldOptions {\n  field: Field;\n  reducers: string[]; // The stats to calculate\n}\n\n/**\n * @returns an object with a key for each selected stat\n */\nexport function reduceField(options: ReduceFieldOptions): FieldCalcs {\n  const { field, reducers } = options;\n\n  if (!field || !reducers || reducers.length < 1) {\n    return {};\n  }\n\n  if (field.calcs) {\n    // Find the values we need to calculate\n    const missing: string[] = [];\n    for (const s of reducers) {\n      if (!field.calcs.hasOwnProperty(s)) {\n        missing.push(s);\n      }\n    }\n    if (missing.length < 1) {\n      return {\n        ...field.calcs,\n      };\n    }\n  }\n\n  const queue = fieldReducers.list(reducers);\n\n  // Return early for empty series\n  // This lets the concrete implementations assume at least one row\n  const data = field.values;\n  if (data.length < 1) {\n    const calcs = { ...field.calcs } as FieldCalcs;\n    for (const reducer of queue) {\n      calcs[reducer.id] = reducer.emptyInputResult !== null ? reducer.emptyInputResult : null;\n    }\n    return (field.calcs = calcs);\n  }\n\n  const { nullValueMode } = field.config;\n  const ignoreNulls = nullValueMode === NullValueMode.Ignore;\n  const nullAsZero = nullValueMode === NullValueMode.AsZero;\n\n  // Avoid calculating all the standard stats if possible\n  if (queue.length === 1 && queue[0].reduce) {\n    const values = queue[0].reduce(field, ignoreNulls, nullAsZero);\n    field.calcs = {\n      ...field.calcs,\n      ...values,\n    };\n    return values;\n  }\n\n  // For now everything can use the standard stats\n  let values = doStandardCalcs(field, ignoreNulls, nullAsZero);\n  for (const reducer of queue) {\n    if (!values.hasOwnProperty(reducer.id) && reducer.reduce) {\n      values = {\n        ...values,\n        ...reducer.reduce(field, ignoreNulls, nullAsZero),\n      };\n    }\n  }\n  field.calcs = {\n    ...field.calcs,\n    ...values,\n  };\n  return values;\n}\n\n// ------------------------------------------------------------------------------\n//\n//  No Exported symbols below here.\n//\n// ------------------------------------------------------------------------------\n\nexport const fieldReducers = new Registry<FieldReducerInfo>(() => [\n  {\n    id: ReducerID.lastNotNull,\n    name: 'Last (not null)',\n    description: 'Last non-null value',\n    standard: true,\n    aliasIds: ['current'],\n    reduce: calculateLastNotNull,\n  },\n  {\n    id: ReducerID.last,\n    name: 'Last',\n    description: 'Last Value',\n    standard: true,\n    reduce: calculateLast,\n  },\n  { id: ReducerID.first, name: 'First', description: 'First Value', standard: true, reduce: calculateFirst },\n  {\n    id: ReducerID.firstNotNull,\n    name: 'First (not null)',\n    description: 'First non-null value',\n    standard: true,\n    reduce: calculateFirstNotNull,\n  },\n  { id: ReducerID.min, name: 'Min', description: 'Minimum Value', standard: true },\n  { id: ReducerID.max, name: 'Max', description: 'Maximum Value', standard: true },\n  { id: ReducerID.mean, name: 'Mean', description: 'Average Value', standard: true, aliasIds: ['avg'] },\n  {\n    id: ReducerID.sum,\n    name: 'Total',\n    description: 'The sum of all values',\n    emptyInputResult: 0,\n    standard: true,\n    aliasIds: ['total'],\n  },\n  {\n    id: ReducerID.count,\n    name: 'Count',\n    description: 'Number of values in response',\n    emptyInputResult: 0,\n    standard: true,\n  },\n  {\n    id: ReducerID.range,\n    name: 'Range',\n    description: 'Difference between minimum and maximum values',\n    standard: true,\n  },\n  {\n    id: ReducerID.delta,\n    name: 'Delta',\n    description: 'Cumulative change in value',\n    standard: true,\n  },\n  {\n    id: ReducerID.step,\n    name: 'Step',\n    description: 'Minimum interval between values',\n    standard: true,\n  },\n  {\n    id: ReducerID.diff,\n    name: 'Difference',\n    description: 'Difference between first and last values',\n    standard: true,\n  },\n  {\n    id: ReducerID.logmin,\n    name: 'Min (above zero)',\n    description: 'Used for log min scale',\n    standard: true,\n  },\n  {\n    id: ReducerID.allIsZero,\n    name: 'All Zeros',\n    description: 'All values are zero',\n    emptyInputResult: false,\n    standard: true,\n  },\n  {\n    id: ReducerID.allIsNull,\n    name: 'All Nulls',\n    description: 'All values are null',\n    emptyInputResult: true,\n    standard: true,\n  },\n  {\n    id: ReducerID.changeCount,\n    name: 'Change Count',\n    description: 'Number of times the value changes',\n    standard: false,\n    reduce: calculateChangeCount,\n  },\n  {\n    id: ReducerID.distinctCount,\n    name: 'Distinct Count',\n    description: 'Number of distinct values',\n    standard: false,\n    reduce: calculateDistinctCount,\n  },\n]);\n\nfunction doStandardCalcs(field: Field, ignoreNulls: boolean, nullAsZero: boolean): FieldCalcs {\n  const calcs = {\n    sum: 0,\n    max: -Number.MAX_VALUE,\n    min: Number.MAX_VALUE,\n    logmin: Number.MAX_VALUE,\n    mean: null,\n    last: null,\n    first: null,\n    lastNotNull: undefined,\n    firstNotNull: undefined,\n    count: 0,\n    nonNullCount: 0,\n    allIsNull: true,\n    allIsZero: true,\n    range: null,\n    diff: null,\n    delta: 0,\n    step: Number.MAX_VALUE,\n\n    // Just used for calcutations -- not exposed as a stat\n    previousDeltaUp: true,\n  } as FieldCalcs;\n  const data = field.values;\n\n  for (let i = 0; i < data.length; i++) {\n    let currentValue = data.get(i);\n    if (i === 0) {\n      calcs.first = currentValue;\n    }\n    calcs.last = currentValue;\n\n    if (currentValue === null) {\n      if (ignoreNulls) {\n        continue;\n      }\n      if (nullAsZero) {\n        currentValue = 0;\n      }\n    }\n\n    if (currentValue !== null) {\n      const isFirst = calcs.firstNotNull === undefined;\n      if (isFirst) {\n        calcs.firstNotNull = currentValue;\n      }\n\n      if (isNumber(currentValue)) {\n        calcs.sum += currentValue;\n        calcs.allIsNull = false;\n        calcs.nonNullCount++;\n\n        if (!isFirst) {\n          const step = currentValue - calcs.lastNotNull!;\n          if (calcs.step > step) {\n            calcs.step = step; // the minimum interval\n          }\n\n          if (calcs.lastNotNull! > currentValue) {\n            // counter reset\n            calcs.previousDeltaUp = false;\n            if (i === data.length - 1) {\n              // reset on last\n              calcs.delta += currentValue;\n            }\n          } else {\n            if (calcs.previousDeltaUp) {\n              calcs.delta += step; // normal increment\n            } else {\n              calcs.delta += currentValue; // account for counter reset\n            }\n            calcs.previousDeltaUp = true;\n          }\n        }\n\n        if (currentValue > calcs.max) {\n          calcs.max = currentValue;\n        }\n\n        if (currentValue < calcs.min) {\n          calcs.min = currentValue;\n        }\n\n        if (currentValue < calcs.logmin && currentValue > 0) {\n          calcs.logmin = currentValue;\n        }\n      }\n\n      if (currentValue !== 0) {\n        calcs.allIsZero = false;\n      }\n\n      calcs.lastNotNull = currentValue;\n    }\n  }\n\n  if (calcs.max === -Number.MAX_VALUE) {\n    calcs.max = null;\n  }\n\n  if (calcs.min === Number.MAX_VALUE) {\n    calcs.min = null;\n  }\n\n  if (calcs.step === Number.MAX_VALUE) {\n    calcs.step = null;\n  }\n\n  if (calcs.nonNullCount > 0) {\n    calcs.mean = calcs.sum! / calcs.nonNullCount;\n  }\n\n  if (calcs.allIsNull) {\n    calcs.allIsZero = false;\n  }\n\n  if (calcs.max !== null && calcs.min !== null) {\n    calcs.range = calcs.max - calcs.min;\n  }\n\n  if (isNumber(calcs.firstNotNull) && isNumber(calcs.lastNotNull)) {\n    calcs.diff = calcs.lastNotNull - calcs.firstNotNull;\n  }\n\n  return calcs;\n}\n\nfunction calculateFirst(field: Field, ignoreNulls: boolean, nullAsZero: boolean): FieldCalcs {\n  return { first: field.values.get(0) };\n}\n\nfunction calculateFirstNotNull(field: Field, ignoreNulls: boolean, nullAsZero: boolean): FieldCalcs {\n  const data = field.values;\n  for (let idx = 0; idx < data.length; idx++) {\n    const v = data.get(idx);\n    if (v != null) {\n      return { firstNotNull: v };\n    }\n  }\n  return { firstNotNull: undefined };\n}\n\nfunction calculateLast(field: Field, ignoreNulls: boolean, nullAsZero: boolean): FieldCalcs {\n  const data = field.values;\n  return { last: data.get(data.length - 1) };\n}\n\nfunction calculateLastNotNull(field: Field, ignoreNulls: boolean, nullAsZero: boolean): FieldCalcs {\n  const data = field.values;\n  let idx = data.length - 1;\n  while (idx >= 0) {\n    const v = data.get(idx--);\n    if (v != null) {\n      return { lastNotNull: v };\n    }\n  }\n  return { lastNotNull: undefined };\n}\n\nfunction calculateChangeCount(field: Field, ignoreNulls: boolean, nullAsZero: boolean): FieldCalcs {\n  const data = field.values;\n  let count = 0;\n  let first = true;\n  let last: any = null;\n  for (let i = 0; i < data.length; i++) {\n    let currentValue = data.get(i);\n    if (currentValue === null) {\n      if (ignoreNulls) {\n        continue;\n      }\n      if (nullAsZero) {\n        currentValue = 0;\n      }\n    }\n    if (!first && last !== currentValue) {\n      count++;\n    }\n    first = false;\n    last = currentValue;\n  }\n\n  return { changeCount: count };\n}\n\nfunction calculateDistinctCount(field: Field, ignoreNulls: boolean, nullAsZero: boolean): FieldCalcs {\n  const data = field.values;\n  const distinct = new Set<any>();\n  for (let i = 0; i < data.length; i++) {\n    let currentValue = data.get(i);\n    if (currentValue === null) {\n      if (ignoreNulls) {\n        continue;\n      }\n      if (nullAsZero) {\n        currentValue = 0;\n      }\n    }\n    distinct.add(currentValue);\n  }\n  return { distinctCount: distinct.size };\n}\n","import { LogLevel } from '../types/logs';\nimport { DataFrame, FieldType } from '../types/index';\nimport { ArrayVector } from './vector';\n\n/**\n * Returns the log level of a log line.\n * Parse the line for level words. If no level is found, it returns `LogLevel.unknown`.\n *\n * Example: `getLogLevel('WARN 1999-12-31 this is great') // LogLevel.warn`\n */\nexport function getLogLevel(line: string): LogLevel {\n  if (!line) {\n    return LogLevel.unknown;\n  }\n  for (const key of Object.keys(LogLevel)) {\n    const regexp = new RegExp(`\\\\b${key}\\\\b`, 'i');\n    if (regexp.test(line)) {\n      const level = (LogLevel as any)[key];\n      if (level) {\n        return level;\n      }\n    }\n  }\n  return LogLevel.unknown;\n}\n\nexport function getLogLevelFromKey(key: string): LogLevel {\n  const level = (LogLevel as any)[key];\n  if (level) {\n    return level;\n  }\n\n  return LogLevel.unknown;\n}\n\nexport function addLogLevelToSeries(series: DataFrame, lineIndex: number): DataFrame {\n  const levels = new ArrayVector<LogLevel>();\n  const lines = series.fields[lineIndex];\n  for (let i = 0; i < lines.values.length; i++) {\n    const line = lines.values.get(lineIndex);\n    levels.buffer.push(getLogLevel(line));\n  }\n\n  return {\n    ...series, // Keeps Tags, RefID etc\n    fields: [\n      ...series.fields,\n      {\n        name: 'LogLevel',\n        type: FieldType.string,\n        values: levels,\n        config: {},\n      },\n    ],\n  };\n}\n","import { Labels } from '../types/data';\n\n/**\n * Regexp to extract Prometheus-style labels\n */\nconst labelRegexp = /\\b(\\w+)(!?=~?)\"([^\"\\n]*?)\"/g;\n\n/**\n * Returns a map of label keys to value from an input selector string.\n *\n * Example: `parseLabels('{job=\"foo\", instance=\"bar\"}) // {job: \"foo\", instance: \"bar\"}`\n */\nexport function parseLabels(labels: string): Labels {\n  const labelsByKey: Labels = {};\n  labels.replace(labelRegexp, (_, key, operator, value) => {\n    labelsByKey[key] = value;\n    return '';\n  });\n  return labelsByKey;\n}\n\n/**\n * Returns a map labels that are common to the given label sets.\n */\nexport function findCommonLabels(labelsSets: Labels[]): Labels {\n  return labelsSets.reduce(\n    (acc, labels) => {\n      if (!labels) {\n        throw new Error('Need parsed labels to find common labels.');\n      }\n      if (!acc) {\n        // Initial set\n        acc = { ...labels };\n      } else {\n        // Remove incoming labels that are missing or not matching in value\n        Object.keys(labels).forEach(key => {\n          if (acc[key] === undefined || acc[key] !== labels[key]) {\n            delete acc[key];\n          }\n        });\n        // Remove common labels that are missing from incoming label set\n        Object.keys(acc).forEach(key => {\n          if (labels[key] === undefined) {\n            delete acc[key];\n          }\n        });\n      }\n      return acc;\n    },\n    (undefined as unknown) as Labels\n  );\n}\n\n/**\n * Returns a map of labels that are in `labels`, but not in `commonLabels`.\n */\nexport function findUniqueLabels(labels: Labels, commonLabels: Labels): Labels {\n  const uncommonLabels: Labels = { ...labels };\n  Object.keys(commonLabels).forEach(key => {\n    delete uncommonLabels[key];\n  });\n  return uncommonLabels;\n}\n\n/**\n * Serializes the given labels to a string.\n */\nexport function formatLabels(labels: Labels, defaultValue = ''): string {\n  if (!labels || Object.keys(labels).length === 0) {\n    return defaultValue;\n  }\n  const labelKeys = Object.keys(labels).sort();\n  const cleanSelector = labelKeys.map(key => `${key}=\"${labels[key]}\"`).join(', ');\n  return ['{', cleanSelector, '}'].join('');\n}\n","﻿export const objRemoveUndefined = (obj: any) => {\n  return Object.keys(obj).reduce((acc: any, key) => {\n    if (obj[key] !== undefined) {\n      acc[key] = obj[key];\n    }\n    return acc;\n  }, {});\n};\n","import { Threshold } from '../types';\n\nexport function getActiveThreshold(value: number, thresholds: Threshold[]): Threshold {\n  let active = thresholds[0];\n  for (const threshold of thresholds) {\n    if (value >= threshold.value) {\n      active = threshold;\n    } else {\n      break;\n    }\n  }\n  return active;\n}\n\n/**\n * Sorts the thresholds\n */\nexport function sortThresholds(thresholds: Threshold[]) {\n  return thresholds.sort((t1, t2) => {\n    return t1.value - t2.value;\n  });\n}\n","import { DataFrame, Vector } from '../types/index';\n\n/**\n * This abstraction will present the contents of a DataFrame as if\n * it were a well typed javascript object Vector.\n *\n * NOTE: The contents of the object returned from `view.get(index)`\n * are optimized for use in a loop.  All calls return the same object\n * but the index has changed.\n *\n * For example, the three objects:\n *   const first = view.get(0);\n *   const second = view.get(1);\n *   const third = view.get(2);\n * will point to the contents at index 2\n *\n * If you need three different objects, consider something like:\n *   const first = { ... view.get(0) };\n *   const second = { ... view.get(1) };\n *   const third = { ... view.get(2) };\n */\nexport class DataFrameView<T = any> implements Vector<T> {\n  private index = 0;\n  private obj: T;\n\n  constructor(private data: DataFrame) {\n    const obj = ({} as unknown) as T;\n    for (let i = 0; i < data.fields.length; i++) {\n      const field = data.fields[i];\n      const getter = () => {\n        return field.values.get(this.index);\n      };\n      if (!(obj as any).hasOwnProperty(field.name)) {\n        Object.defineProperty(obj, field.name, {\n          enumerable: true, // Shows up as enumerable property\n          get: getter,\n        });\n      }\n      Object.defineProperty(obj, i, {\n        enumerable: false, // Don't enumerate array index\n        get: getter,\n      });\n    }\n    this.obj = obj;\n  }\n\n  get length() {\n    return this.data.length;\n  }\n\n  get(idx: number) {\n    this.index = idx;\n    return this.obj;\n  }\n\n  toArray(): T[] {\n    const arr: T[] = [];\n    for (let i = 0; i < this.data.length; i++) {\n      arr.push({ ...this.get(i) });\n    }\n    return arr;\n  }\n\n  toJSON(): T[] {\n    return this.toArray();\n  }\n}\n","import { ValueMapping, MappingType, ValueMap, RangeMap } from '../types';\n\ntype TimeSeriesValue = string | number | null;\n\nconst addValueToTextMappingText = (\n  allValueMappings: ValueMapping[],\n  valueToTextMapping: ValueMap,\n  value: TimeSeriesValue\n) => {\n  if (valueToTextMapping.value === undefined) {\n    return allValueMappings;\n  }\n\n  if (value === null && valueToTextMapping.value && valueToTextMapping.value.toLowerCase() === 'null') {\n    return allValueMappings.concat(valueToTextMapping);\n  }\n\n  const valueAsNumber = parseFloat(value as string);\n  const valueToTextMappingAsNumber = parseFloat(valueToTextMapping.value as string);\n\n  if (isNaN(valueAsNumber) || isNaN(valueToTextMappingAsNumber)) {\n    return allValueMappings;\n  }\n\n  if (valueAsNumber !== valueToTextMappingAsNumber) {\n    return allValueMappings;\n  }\n\n  return allValueMappings.concat(valueToTextMapping);\n};\n\nconst addRangeToTextMappingText = (\n  allValueMappings: ValueMapping[],\n  rangeToTextMapping: RangeMap,\n  value: TimeSeriesValue\n) => {\n  if (rangeToTextMapping.from === undefined || rangeToTextMapping.to === undefined || value === undefined) {\n    return allValueMappings;\n  }\n\n  if (\n    value === null &&\n    rangeToTextMapping.from &&\n    rangeToTextMapping.to &&\n    rangeToTextMapping.from.toLowerCase() === 'null' &&\n    rangeToTextMapping.to.toLowerCase() === 'null'\n  ) {\n    return allValueMappings.concat(rangeToTextMapping);\n  }\n\n  const valueAsNumber = parseFloat(value as string);\n  const fromAsNumber = parseFloat(rangeToTextMapping.from as string);\n  const toAsNumber = parseFloat(rangeToTextMapping.to as string);\n\n  if (isNaN(valueAsNumber) || isNaN(fromAsNumber) || isNaN(toAsNumber)) {\n    return allValueMappings;\n  }\n\n  if (valueAsNumber >= fromAsNumber && valueAsNumber <= toAsNumber) {\n    return allValueMappings.concat(rangeToTextMapping);\n  }\n\n  return allValueMappings;\n};\n\nconst getAllFormattedValueMappings = (valueMappings: ValueMapping[], value: TimeSeriesValue) => {\n  const allFormattedValueMappings = valueMappings.reduce(\n    (allValueMappings, valueMapping) => {\n      if (valueMapping.type === MappingType.ValueToText) {\n        allValueMappings = addValueToTextMappingText(allValueMappings, valueMapping as ValueMap, value);\n      } else if (valueMapping.type === MappingType.RangeToText) {\n        allValueMappings = addRangeToTextMappingText(allValueMappings, valueMapping as RangeMap, value);\n      }\n\n      return allValueMappings;\n    },\n    [] as ValueMapping[]\n  );\n\n  allFormattedValueMappings.sort((t1, t2) => {\n    return t1.id - t2.id;\n  });\n\n  return allFormattedValueMappings;\n};\n\nexport const getMappedValue = (valueMappings: ValueMapping[], value: TimeSeriesValue): ValueMapping => {\n  return getAllFormattedValueMappings(valueMappings, value)[0];\n};\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","var baseIndexOf = require('./_baseIndexOf'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    toInteger = require('./toInteger'),\n    values = require('./values');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Checks if `value` is in `collection`. If `collection` is a string, it's\n * checked for a substring of `value`, otherwise\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * is used for equality comparisons. If `fromIndex` is negative, it's used as\n * the offset from the end of `collection`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {boolean} Returns `true` if `value` is found, else `false`.\n * @example\n *\n * _.includes([1, 2, 3], 1);\n * // => true\n *\n * _.includes([1, 2, 3], 1, 2);\n * // => false\n *\n * _.includes({ 'a': 1, 'b': 2 }, 1);\n * // => true\n *\n * _.includes('abcd', 'bc');\n * // => true\n */\nfunction includes(collection, value, fromIndex, guard) {\n  collection = isArrayLike(collection) ? collection : values(collection);\n  fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n  var length = collection.length;\n  if (fromIndex < 0) {\n    fromIndex = nativeMax(length + fromIndex, 0);\n  }\n  return isString(collection)\n    ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n    : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n}\n\nmodule.exports = includes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar dateTag = '[object Date]';\n\n/**\n * The base implementation of `_.isDate` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n */\nfunction baseIsDate(value) {\n  return isObjectLike(value) && baseGetTag(value) == dateTag;\n}\n\nmodule.exports = baseIsDate;\n","var baseIsDate = require('./_baseIsDate'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsDate = nodeUtil && nodeUtil.isDate;\n\n/**\n * Checks if `value` is classified as a `Date` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n * @example\n *\n * _.isDate(new Date);\n * // => true\n *\n * _.isDate('Mon April 23 2012');\n * // => false\n */\nvar isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\nmodule.exports = isDate;\n","import includes from 'lodash/includes';\nimport isDate from 'lodash/isDate';\nimport { DateTime, dateTime, dateTimeForTimeZone, ISO_8601, isDateTime, DurationUnit } from './moment_wrapper';\nimport { TimeZone } from '../types';\n\nconst units: DurationUnit[] = ['y', 'M', 'w', 'd', 'h', 'm', 's'];\n\nexport function isMathString(text: string | DateTime | Date): boolean {\n  if (!text) {\n    return false;\n  }\n\n  if (typeof text === 'string' && (text.substring(0, 3) === 'now' || text.includes('||'))) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Parses different types input to a moment instance. There is a specific formatting language that can be used\n * if text arg is string. See unit tests for examples.\n * @param text\n * @param roundUp See parseDateMath function.\n * @param timezone Only string 'utc' is acceptable here, for anything else, local timezone is used.\n */\nexport function parse(text: string | DateTime | Date, roundUp?: boolean, timezone?: TimeZone): DateTime | undefined {\n  if (!text) {\n    return undefined;\n  }\n\n  if (typeof text !== 'string') {\n    if (isDateTime(text)) {\n      return text;\n    }\n    if (isDate(text)) {\n      return dateTime(text);\n    }\n    // We got some non string which is not a moment nor Date. TS should be able to check for that but not always.\n    return undefined;\n  } else {\n    let time;\n    let mathString = '';\n    let index;\n    let parseString;\n\n    if (text.substring(0, 3) === 'now') {\n      time = dateTimeForTimeZone(timezone);\n      mathString = text.substring('now'.length);\n    } else {\n      index = text.indexOf('||');\n      if (index === -1) {\n        parseString = text;\n        mathString = ''; // nothing else\n      } else {\n        parseString = text.substring(0, index);\n        mathString = text.substring(index + 2);\n      }\n      // We're going to just require ISO8601 timestamps, k?\n      time = dateTime(parseString, ISO_8601);\n    }\n\n    if (!mathString.length) {\n      return time;\n    }\n\n    return parseDateMath(mathString, time, roundUp);\n  }\n}\n\n/**\n * Checks if text is a valid date which in this context means that it is either a Moment instance or it can be parsed\n * by parse function. See parse function to see what is considered acceptable.\n * @param text\n */\nexport function isValid(text: string | DateTime): boolean {\n  const date = parse(text);\n  if (!date) {\n    return false;\n  }\n\n  if (isDateTime(date)) {\n    return date.isValid();\n  }\n\n  return false;\n}\n\n/**\n * Parses math part of the time string and shifts supplied time according to that math. See unit tests for examples.\n * @param mathString\n * @param time\n * @param roundUp If true it will round the time to endOf time unit, otherwise to startOf time unit.\n */\n// TODO: Had to revert Andrejs `time: moment.Moment` to `time: any`\nexport function parseDateMath(mathString: string, time: any, roundUp?: boolean): DateTime | undefined {\n  const strippedMathString = mathString.replace(/\\s/g, '');\n  const dateTime = time;\n  let i = 0;\n  const len = strippedMathString.length;\n\n  while (i < len) {\n    const c = strippedMathString.charAt(i++);\n    let type;\n    let num;\n    let unit;\n\n    if (c === '/') {\n      type = 0;\n    } else if (c === '+') {\n      type = 1;\n    } else if (c === '-') {\n      type = 2;\n    } else {\n      return undefined;\n    }\n\n    if (isNaN(parseInt(strippedMathString.charAt(i), 10))) {\n      num = 1;\n    } else if (strippedMathString.length === 2) {\n      num = strippedMathString.charAt(i);\n    } else {\n      const numFrom = i;\n      while (!isNaN(parseInt(strippedMathString.charAt(i), 10))) {\n        i++;\n        if (i > 10) {\n          return undefined;\n        }\n      }\n      num = parseInt(strippedMathString.substring(numFrom, i), 10);\n    }\n\n    if (type === 0) {\n      // rounding is only allowed on whole, single, units (eg M or 1M, not 0.5M or 2M)\n      if (num !== 1) {\n        return undefined;\n      }\n    }\n    unit = strippedMathString.charAt(i++);\n\n    if (!includes(units, unit)) {\n      return undefined;\n    } else {\n      if (type === 0) {\n        if (roundUp) {\n          dateTime.endOf(unit);\n        } else {\n          dateTime.startOf(unit);\n        }\n      } else if (type === 1) {\n        dateTime.add(num, unit);\n      } else if (type === 2) {\n        dateTime.subtract(num, unit);\n      }\n    }\n  }\n  return dateTime;\n}\n","// @ts-ignore\nimport _ from 'lodash';\n\nimport { RawTimeRange } from '../types/time';\n\nimport * as dateMath from './datemath';\nimport { isDateTime, DateTime } from '../utils/moment_wrapper';\n\nconst spans: { [key: string]: { display: string; section?: number } } = {\n  s: { display: 'second' },\n  m: { display: 'minute' },\n  h: { display: 'hour' },\n  d: { display: 'day' },\n  w: { display: 'week' },\n  M: { display: 'month' },\n  y: { display: 'year' },\n};\n\nconst rangeOptions = [\n  { from: 'now/d', to: 'now/d', display: 'Today', section: 2 },\n  { from: 'now/d', to: 'now', display: 'Today so far', section: 2 },\n  { from: 'now/w', to: 'now/w', display: 'This week', section: 2 },\n  { from: 'now/w', to: 'now', display: 'This week so far', section: 2 },\n  { from: 'now/M', to: 'now/M', display: 'This month', section: 2 },\n  { from: 'now/M', to: 'now', display: 'This month so far', section: 2 },\n  { from: 'now/y', to: 'now/y', display: 'This year', section: 2 },\n  { from: 'now/y', to: 'now', display: 'This year so far', section: 2 },\n\n  { from: 'now-1d/d', to: 'now-1d/d', display: 'Yesterday', section: 1 },\n  {\n    from: 'now-2d/d',\n    to: 'now-2d/d',\n    display: 'Day before yesterday',\n    section: 1,\n  },\n  {\n    from: 'now-7d/d',\n    to: 'now-7d/d',\n    display: 'This day last week',\n    section: 1,\n  },\n  { from: 'now-1w/w', to: 'now-1w/w', display: 'Previous week', section: 1 },\n  { from: 'now-1M/M', to: 'now-1M/M', display: 'Previous month', section: 1 },\n  { from: 'now-1y/y', to: 'now-1y/y', display: 'Previous year', section: 1 },\n\n  { from: 'now-5m', to: 'now', display: 'Last 5 minutes', section: 3 },\n  { from: 'now-15m', to: 'now', display: 'Last 15 minutes', section: 3 },\n  { from: 'now-30m', to: 'now', display: 'Last 30 minutes', section: 3 },\n  { from: 'now-1h', to: 'now', display: 'Last 1 hour', section: 3 },\n  { from: 'now-3h', to: 'now', display: 'Last 3 hours', section: 3 },\n  { from: 'now-6h', to: 'now', display: 'Last 6 hours', section: 3 },\n  { from: 'now-12h', to: 'now', display: 'Last 12 hours', section: 3 },\n  { from: 'now-24h', to: 'now', display: 'Last 24 hours', section: 3 },\n  { from: 'now-2d', to: 'now', display: 'Last 2 days', section: 0 },\n  { from: 'now-7d', to: 'now', display: 'Last 7 days', section: 0 },\n  { from: 'now-30d', to: 'now', display: 'Last 30 days', section: 0 },\n  { from: 'now-90d', to: 'now', display: 'Last 90 days', section: 0 },\n  { from: 'now-6M', to: 'now', display: 'Last 6 months', section: 0 },\n  { from: 'now-1y', to: 'now', display: 'Last 1 year', section: 0 },\n  { from: 'now-2y', to: 'now', display: 'Last 2 years', section: 0 },\n  { from: 'now-5y', to: 'now', display: 'Last 5 years', section: 0 },\n];\n\nconst absoluteFormat = 'YYYY-MM-DD HH:mm:ss';\n\nconst rangeIndex: any = {};\n_.each(rangeOptions, (frame: any) => {\n  rangeIndex[frame.from + ' to ' + frame.to] = frame;\n});\n\nexport function getRelativeTimesList(timepickerSettings: any, currentDisplay: any) {\n  const groups = _.groupBy(rangeOptions, (option: any) => {\n    option.active = option.display === currentDisplay;\n    return option.section;\n  });\n\n  // _.each(timepickerSettings.time_options, (duration: string) => {\n  //   let info = describeTextRange(duration);\n  //   if (info.section) {\n  //     groups[info.section].push(info);\n  //   }\n  // });\n\n  return groups;\n}\n\nfunction formatDate(date: DateTime) {\n  return date.format(absoluteFormat);\n}\n\n// handles expressions like\n// 5m\n// 5m to now/d\n// now/d to now\n// now/d\n// if no to <expr> then to now is assumed\nexport function describeTextRange(expr: any) {\n  const isLast = expr.indexOf('+') !== 0;\n  if (expr.indexOf('now') === -1) {\n    expr = (isLast ? 'now-' : 'now') + expr;\n  }\n\n  let opt = rangeIndex[expr + ' to now'];\n  if (opt) {\n    return opt;\n  }\n\n  if (isLast) {\n    opt = { from: expr, to: 'now' };\n  } else {\n    opt = { from: 'now', to: expr };\n  }\n\n  const parts = /^now([-+])(\\d+)(\\w)/.exec(expr);\n  if (parts) {\n    const unit = parts[3];\n    const amount = parseInt(parts[2], 10);\n    const span = spans[unit];\n    if (span) {\n      opt.display = isLast ? 'Last ' : 'Next ';\n      opt.display += amount + ' ' + span.display;\n      opt.section = span.section;\n      if (amount > 1) {\n        opt.display += 's';\n      }\n    }\n  } else {\n    opt.display = opt.from + ' to ' + opt.to;\n    opt.invalid = true;\n  }\n\n  return opt;\n}\n\nexport function describeTimeRange(range: RawTimeRange): string {\n  const option = rangeIndex[range.from.toString() + ' to ' + range.to.toString()];\n  if (option) {\n    return option.display;\n  }\n\n  if (isDateTime(range.from) && isDateTime(range.to)) {\n    return formatDate(range.from) + ' to ' + formatDate(range.to);\n  }\n\n  if (isDateTime(range.from)) {\n    const toMoment = dateMath.parse(range.to, true);\n    return toMoment ? formatDate(range.from) + ' to ' + toMoment.fromNow() : '';\n  }\n\n  if (isDateTime(range.to)) {\n    const from = dateMath.parse(range.from, false);\n    return from ? from.fromNow() + ' to ' + formatDate(range.to) : '';\n  }\n\n  if (range.to.toString() === 'now') {\n    const res = describeTextRange(range.from);\n    return res.display;\n  }\n\n  return range.from.toString() + ' to ' + range.to.toString();\n}\n\nexport const isValidTimeSpan = (value: string) => {\n  if (value.indexOf('$') === 0 || value.indexOf('+$') === 0) {\n    return true;\n  }\n\n  const info = describeTextRange(value);\n  return info.invalid !== true;\n};\n"],"names":["stringToJsRegex","str","RegExp","match","Error","stringToMs","nr","parseInt","unit","substr","String","length","s","m","h","isNaN","toNumberString","value","Number","isFinite","toString","toIntegerOrUndefined","v","undefined","toFloatOrUndefined","parseFloat","__assign","Object","assign","t","i","n","arguments","p","prototype","hasOwnProperty","call","apply","this","__rest","e","indexOf","getOwnPropertySymbols","__values","o","Symbol","iterator","next","done","__read","r","ar","push","error","__spread","concat","init","Map","Registry","id","initalized","_b","tslib_1.__values","ext","register","sort","byId","get","getIfExists","current","filter","select","options","currentIds","current_1","_c","ordered","excludeFromPicker","option","label","name","description","ids","found","ids_1","has","set","aliasIds","alias","root","block","newline","code","fences","noop","hr","heading","nptable","blockquote","list","html","def","table","lheading","paragraph","text","Lexer","tokens","links","create","marked","defaults","rules","normal","pedantic","gfm","tables","_label","_title","edit","replace","getRegex","bullet","item","source","_tag","_comment","merge","lex","src","token","top","loose","cap","bull","b","listStart","listItems","space","tag","l","isordered","istask","ischecked","exec","substring","type","rtrim","lang","trim","depth","header","splitCells","align","split","cells","test","start","smartLists","slice","join","charAt","task","checked","sanitize","pre","sanitizer","toLowerCase","href","title","charCodeAt","inline","escape","autolink","url","link","reflink","nolink","strong","em","br","del","InlineLexer","renderer","Renderer","breaks","TextRenderer","Parser","slugger","Slugger","seen","encode","escapeTest","escapeReplace","ch","replacements","escapeTestNoEncode","escapeReplaceNoEncode","unescape","_","fromCharCode","regex","opt","val","cleanUrl","base","prot","decodeURIComponent","originIndependentUrl","baseUrls","resolveUrl","encodeURI","_punctuation","_escapes","_scheme","_email","_attribute","_href","_extended_email","_backpedal","output","prevCapZero","out","inLink","inRawBlock","lastParenIndex","findClosingBracket","linkLen","outputLink","escapes","codespan","mangle","smartypants","image","Math","random","infostring","escaped","highlight","langPrefix","quote","level","raw","headerIds","headerPrefix","slug","xhtml","body","listitem","checkbox","tablerow","content","tablecell","flags","baseUrl","parse","inlineText","reverse","tok","pop","peek","parseText","row","cell","j","errMsg","silent","console","log","originalSlug","&","<",">","\"","'","obj","target","key","tableRow","count","offset","curr","splice","c","invert","suffLen","currChar","callback","pending","err","message","setOptions","getDefaults","parser","lexer","inlineLexer","module","window","defaultMarkedOptions","setMarkdownOptions","optionsOverride","renderMarkdown","freeGlobal","global","freeSelf","self","Function","objectProto","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","unmasked","result","objectToString","nullTag","undefinedTag","baseGetTag","isObjectLike","numberTag","isNumber","isArray","Array","stringTag","isString","boolTag","isBoolean","LoadingState","NullValueMode","FieldType","LogLevel","LogsMetaKind","LogsDedupStrategy","DefaultTimeZone","TIME_FORMAT","MappingType","hookCallback","some","hooks","input","isObject","isUndefined","isDate","Date","map","arr","fn","res","hasOwnProp","a","extend","valueOf","createUTC","format","locale","strict","createLocalOrUTC","utc","getParsingFlags","_pf","empty","unusedTokens","unusedInput","overflow","charsLeftOver","nullInput","invalidMonth","invalidFormat","userInvalidated","iso","parsedDateParts","meridiem","rfc2822","weekdayMismatch","isValid","_isValid","parsedParts","isNowValid","_d","getTime","invalidWeekday","_strict","bigHour","isFrozen","createInvalid","NaN","fun","len","momentProperties","copyConfig","to","from","prop","_isAMomentObject","_i","_f","_l","_tzm","_isUTC","_offset","_locale","updateInProgress","Moment","config","updateOffset","isMoment","absFloor","number","ceil","floor","toInt","argumentForCoercion","coercedNumber","compareArrays","array1","array2","dontConvert","min","lengthDiff","abs","diffs","warn","msg","suppressDeprecationWarnings","deprecate","firstTime","deprecationHandler","arg","args","stack","keys","deprecations","deprecateSimple","isFunction","mergeConfigs","parentConfig","childConfig","Locale","aliases","addUnitAlias","shorthand","lowerCase","normalizeUnits","units","normalizeObjectUnits","inputObject","normalizedProp","normalizedInput","priorities","addUnitPriority","priority","zeroFill","targetLength","forceSign","absNumber","zerosToFill","sign","pow","max","formattingTokens","localFormattingTokens","formatFunctions","formatTokenFunctions","addFormatToken","padded","ordinal","func","localeData","formatMoment","expandFormat","array","mom","makeFormatFunction","invalidDate","replaceLongDateFormatTokens","longDateFormat","lastIndex","match1","match2","match3","match4","match6","match1to2","match3to4","match5to6","match1to3","match1to4","match1to6","matchUnsigned","matchSigned","matchOffset","matchShortOffset","matchWord","regexes","addRegexToken","strictRegex","isStrict","getParseRegexForToken","regexEscape","matched","p1","p2","p3","p4","addParseToken","addWeekParseToken","_w","addTimeToArrayFromToken","_a","YEAR","MONTH","DATE","HOUR","MINUTE","SECOND","MILLISECOND","WEEK","WEEKDAY","daysInYear","year","isLeapYear","y","parseTwoDigitYear","getSetYear","makeGetSet","keepTime","set$1","month","date","daysInMonth","x","modMonth","monthsShort","months","monthsShortRegex","monthsRegex","monthsParse","MONTHS_IN_FORMAT","defaultLocaleMonths","defaultLocaleMonthsShort","setMonth","dayOfMonth","getSetMonth","defaultMonthsShortRegex","defaultMonthsRegex","computeMonthsParse","cmpLenRev","shortPieces","longPieces","mixedPieces","_monthsRegex","_monthsShortRegex","_monthsStrictRegex","_monthsShortStrictRegex","createUTCDate","UTC","getUTCFullYear","setUTCFullYear","firstWeekOffset","dow","doy","fwd","fwdlw","getUTCDay","dayOfYearFromWeeks","week","weekday","resYear","resDayOfYear","localWeekday","weekOffset","dayOfYear","weekOfYear","resWeek","weeksInYear","weekOffsetNext","shiftWeekdays","ws","weekdaysMin","weekdaysShort","weekdays","weekdaysMinRegex","weekdaysShortRegex","weekdaysRegex","weekdaysParse","d","defaultLocaleWeekdays","defaultLocaleWeekdaysShort","defaultLocaleWeekdaysMin","defaultWeekdaysRegex","defaultWeekdaysShortRegex","defaultWeekdaysMinRegex","computeWeekdaysParse","minp","shortp","longp","minPieces","day","_weekdaysRegex","_weekdaysShortRegex","_weekdaysMinRegex","_weekdaysStrictRegex","_weekdaysShortStrictRegex","_weekdaysMinStrictRegex","hFormat","hours","lowercase","minutes","matchMeridiem","_meridiemParse","seconds","kInput","_isPm","isPM","_meridiem","pos","pos1","pos2","globalLocale","getSetHour","baseConfig","calendar","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","LTS","LT","L","LL","LLL","LLLL","dayOfMonthOrdinalParse","relativeTime","future","past","ss","mm","hh","dd","M","MM","yy","meridiemParse","locales","localeFamilies","normalizeLocale","loadLocale","oldLocale","exports","_abbr","aliasedRequire","require","getSetGlobalLocale","values","data","getLocale","defineLocale","abbr","_config","parentLocale","forEach","names","chooseLocale","checkOverflow","_overflowDayOfYear","_overflowWeeks","_overflowWeekday","configFromArray","currentDate","expectedWeekday","yearToUse","nowValue","now","_useUTC","getUTCMonth","getUTCDate","getFullYear","getMonth","getDate","currentDateArray","w","weekYear","temp","weekdayOverflow","GG","W","E","createLocal","_week","curWeek","gg","_dayOfYear","dayOfYearFromWeekInfo","_nextDay","ms","setFullYear","getDay","setUTCMinutes","getUTCMinutes","extendedIsoRegex","basicIsoRegex","tzRegex","isoDates","isoTimes","aspNetJsonRegex","configFromISO","allowTime","dateFormat","timeFormat","tzFormat","string","configFromStringAndFormat","untruncateYear","yearStr","obsOffsets","UT","GMT","EDT","EST","CDT","CST","MDT","MST","PDT","PST","configFromRFC2822","monthStr","dayStr","hourStr","minuteStr","secondStr","parsedArray","weekdayStr","parsedInput","weekdayProvided","weekdayActual","checkWeekday","obsOffset","militaryOffset","numOffset","hm","calculateOffset","ISO_8601","RFC_2822","skipped","stringLength","totalParsedInputLength","hour","meridiemHour","isPm","prepareConfig","preparse","tempConfig","bestMoment","scoreToBeat","currentScore","score","configFromStringAndArray","createFromInputFallback","configFromString","minute","second","millisecond","configFromObject","configFromInput","isUTC","getOwnPropertyNames","k","isObjectEmpty","add","prototypeMin","other","prototypeMax","pickBy","moments","ordering","Duration","duration","years","quarters","quarter","weeks","isoWeek","days","milliseconds","unitHasDecimal","isDurationValid","_milliseconds","_days","_months","_data","_bubble","isDuration","absRound","round","separator","utcOffset","offsetFromString","chunkOffset","matcher","matches","chunk","parts","cloneWithOffset","model","diff","clone","setTime","local","getDateOffset","getTimezoneOffset","isUtc","aspNetRegex","isoRegex","createDuration","ret","diffRes","parseIso","isBefore","positiveMomentsDifference","inp","isAfter","createAdder","direction","period","tmp","addSubtract","isAdding","invalid","subtract","monthDiff","anchor2","adjust","wholeMonthDiff","anchor","newLocaleData","defaultFormat","defaultFormatUtc","MS_PER_SECOND","MS_PER_MINUTE","MS_PER_HOUR","MS_PER_400_YEARS","mod$1","dividend","divisor","localStartOfDate","utcStartOfDate","addWeekYearFormatToken","getter","getSetWeekYearHelper","weeksTarget","dayOfYearData","isoWeekYear","_dayOfMonthOrdinalParse","_ordinalParse","_dayOfMonthOrdinalParseLenient","getSetDayOfMonth","getSetMinute","getSetSecond","parseMs","getSetMillisecond","proto","preParsePostFormat","time","formats","sod","startOf","calendarFormat","asFloat","that","zoneDelta","endOf","startOfDate","isoWeekday","inputString","postformat","withoutSuffix","humanize","fromNow","toNow","invalidAt","localInput","isBetween","inclusivity","localFrom","localTo","isSame","inputMs","isSameOrAfter","isSameOrBefore","parsingFlags","prioritized","unitsObj","u","getPrioritizedUnits","toArray","toObject","toDate","toISOString","keepOffset","inspect","zone","isLocal","prefix","suffix","toJSON","unix","creationData","isoWeeks","weekInfo","isoWeeksInYear","parseWeekday","parseIsoWeekday","keepLocalTime","keepMinutes","localAdjust","_changeInProgress","parseZone","tZone","hasAlignedHourOffset","isDST","isUtcOffset","zoneAbbr","zoneName","dates","isDSTShifted","_isDSTShifted","proto$1","get$1","index","field","setter","listMonthsImpl","listWeekdaysImpl","localeSorted","shift","_calendar","_longDateFormat","formatUpper","toUpperCase","_invalidDate","_ordinal","isFuture","_relativeTime","pastFuture","isFormat","_monthsShort","monthName","_monthsParseExact","ii","llc","toLocaleLowerCase","_monthsParse","_longMonthsParse","_shortMonthsParse","firstDayOfYear","firstDayOfWeek","_weekdays","_weekdaysMin","_weekdaysShort","weekdayName","_weekdaysParseExact","_weekdaysParse","_shortWeekdaysParse","_minWeekdaysParse","_fullWeekdaysParse","isLower","langData","mathAbs","addSubtract$1","absCeil","daysToMonths","monthsToDays","makeAs","as","asMilliseconds","asSeconds","asMinutes","asHours","asDays","asWeeks","asMonths","asQuarters","asYears","makeGetter","thresholds","abs$1","toISOString$1","Y","D","toFixed","total","totalSign","ymSign","daysSign","hmsSign","proto$2","monthsFromDays","withSuffix","posNegDuration","relativeTime$1","toIsoString","version","updateLocale","tmpLocale","relativeTimeRounding","roundingFunction","relativeTimeThreshold","threshold","limit","myMoment","HTML5_FMT","DATETIME_LOCAL","DATETIME_LOCAL_SECONDS","DATETIME_LOCAL_MS","TIME","TIME_SECONDS","TIME_MS","factory","moment","setLocale","language","getLocaleData","isDateTime","toUtc","formatInput","toDuration","dateTime","dateTimeForTimeZone","timezone","vectorToArray","buffer","ArrayVector","ConstantVector","scale","ScaledVector","CircularVector","idx","order","SortedVector","fields","refId","meta","labels","addField","DataFrameHelper","guessFieldTypeFromValue","f","guessFieldTypeForField","fieldByType","updateTypeIndex","fieldByName","newlen","fx","addFieldFor","makeFieldParser","types","boolean","history","deprecationWarning","file","oldName","newName","last","convertTableToDataFrame","columns","rows","fields_1","convertTimeSeriesToDataFrame","timeSeries","datapoints","point","tags","convertGraphSeriesToDataFrame","graphSeries","NUMBER","name_1","guessFieldTypes","series","isTableData","isDataFrame","toDataFrame","appendRow","toLegacyResponseData","frame","column","sortDataFrame","sortIndex","compare","vA","vB","localeCompare","getDataFrameRow","toDataFrameDTO","AUTO_SCRIPT_PATH","scripts","IS_WORKER","document","postMessage","IS_PAPA_WORKER","location","search","LOADED_SYNC","workers","workerIdCounter","Papa","_input","dynamicTyping","dynamicTypingFunction","transform","worker","WORKERS_SUPPORTED","SCRIPT_PATH","workerUrl","Worker","onmessage","mainThreadReceivedMessage","newWorker","userStep","step","userChunk","userComplete","complete","userError","workerId","streamer","NODE_STREAM_INPUT","PAPA_BROWSER_CONTEXT","DuplexStreamStreamer","getStream","download","NetworkStreamer","StringStreamer","readable","read","on","ReadableStreamStreamer","File","FileStreamer","stream","unparse","_quotes","_writeHeader","_delimiter","_newline","_quoteChar","_skipEmptyLines","delimiter","BAD_DELIMITERS","quotes","skipEmptyLines","quoteChar","quoteCharRegex","escapeRegExp","JSON","serialize","objectKeys","csv","hasHeader","dataKeyedByField","safe","maxCol","emptyLine","nullLine","line","cx","col","colIdx","constructor","stringify","needsQuotes","substrings","hasAny","RECORD_SEP","UNIT_SEP","BYTE_ORDER_MARK","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","ParserHandle","jQuery","$","queue","each","supported","attr","FileReader","files","inputElem","instanceConfig","parseNextFile","elem","reason","before","returned","action","fileComplete","userCompleteFunc","results","ChunkStreamer","_handle","_finished","_completed","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","configCopy","copy","chunkSize","parseChunk","isFakeChunk","beforeFirstChunk","modifiedChunk","aggregate","paused","aborted","cursor","finishedIncludingPreview","preview","WORKER_ID","finished","_sendError","xhr","_readChunk","_chunkLoaded","XMLHttpRequest","withCredentials","onload","bindFunction","onerror","_chunkError","open","downloadRequestHeaders","headers","headerName","setRequestHeader","end","send","status","readyState","contentRange","getResponseHeader","lastIndexOf","getFileSize","responseText","errorMessage","errorText","statusText","reader","usingAsyncReader","webkitSlice","mozSlice","FileReaderSync","size","txt","readAsText","encoding","event","remaining","parseOnData","streamHasEnded","pause","resume","_streamData","_streamEnd","_streamError","_checkIsFinished","_streamCleanUp","removeListener","Duplex","require$$0","parseOnWrite","writeStreamHasFinished","parseCallbackQueue","_onCsvData","_onCsvComplete","_addToParseQueue","_onRead","_onWrite","_onWriteComplete","readableObjectMode","decodeStrings","write","once","_parser","_delimiterError","FLOAT","ISO_DATE","_stepCounter","_rowCounter","_paused","_aborted","_fields","_results","needsHeaderRow","processResults","abort","testEmptyLine","addError","trimHeaders","fillHeaderFields","parseDynamic","applyHeaderAndDynamicTypingAndTransformation","shouldApplyDynamicTyping","baseIndex","ignoreLastRow","re","nAppearsFirst","numWithN","guessLineEndings","delimGuess","comments","bestDelim","bestDelta","fieldCountPrevRow","delimChoices","delim","delta","avgFieldCount","emptyLinesCount","fieldCount","successful","bestDelimiter","guessDelimiter","parserConfig","getCharIndex","fastMode","escapeChar","inputLen","delimLen","newlineLen","commentsLen","stepIsFunction","lastCursor","returnable","pushRow","doStep","quoteSearch","nextDelim","nextNewline","saveRow","finish","checkUpTo","spacesBetweenQuoteAndDelimiter","extraSpaces","spacesBetweenQuoteAndNewLine","spaceLength","textBetweenClosingQuoteAndIndex","newCursor","stopped","linebreak","truncated","handle","completeWorker","notImplemented","terminate","cpy","getElementsByTagName","addEventListener","identity","thisArg","nativeMax","overRest","otherArgs","constant","asyncTag","funcTag","genTag","proxyTag","coreJsData","maskSrcKey","uid","IE_PROTO","isMasked","funcProto","funcToString","toSource","reRegExpChar","reIsHostCtor","reIsNative","baseIsNative","getValue","object","getNative","defineProperty","baseSetToString","configurable","enumerable","writable","HOT_COUNT","HOT_SPAN","nativeNow","shortOut","lastCalled","stamp","setToString","baseRest","eq","MAX_SAFE_INTEGER","isLength","isArrayLike","reIsUint","isIndex","isIterateeCall","baseTimes","iteratee","argsTag","baseIsArguments","propertyIsEnumerable","isArguments","stubFalse","freeExports","nodeType","freeModule","Buffer","isBuffer","arrayTag","dateTag","errorTag","mapTag","objectTag","regexpTag","setTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","typedArrayTags","baseIsTypedArray","baseUnary","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arrayLikeKeys","inherited","isArr","isArg","isBuff","isType","skipIndexes","isPrototype","Ctor","nativeKeysIn","baseKeysIn","isProto","keysIn","ParseState","sources","guard","props","propsIndex","propsLength","readCSV","CSVReader","CSVHeaderStyle","first","startsWith","isName","_this","state","ReadingRows","InHeader","Starting","line_1","onHeader","onRow","papacfg","tslib_1.__assign","writeValue","includes","makeFieldWriter","getHeaderLine","display","toCSV","headerStyle","data_1","full","length_1","writers","reduceField","reducers","calcs","missing","reducers_1","fieldReducers","queue_1","reducer","emptyInputResult","nullValueMode","ignoreNulls","Ignore","nullAsZero","AsZero","reduce","values_1","doStandardCalcs","queue_2","ReducerID","lastNotNull","standard","calculateLastNotNull","calculateLast","calculateFirst","firstNotNull","calculateFirstNotNull","mean","sum","range","logmin","allIsZero","allIsNull","changeCount","calculateChangeCount","distinctCount","calculateDistinctCount","MAX_VALUE","nonNullCount","previousDeltaUp","currentValue","isFirst","distinct","Set","getLogLevel","unknown","getLogLevelFromKey","addLogLevelToSeries","lineIndex","levels","lines","labelRegexp","parseLabels","labelsByKey","operator","findCommonLabels","labelsSets","acc","findUniqueLabels","commonLabels","uncommonLabels","formatLabels","defaultValue","objRemoveUndefined","getActiveThreshold","active","thresholds_1","sortThresholds","t1","t2","DataFrameView","addValueToTextMappingText","allValueMappings","valueToTextMapping","valueAsNumber","valueToTextMappingAsNumber","addRangeToTextMappingText","rangeToTextMapping","fromAsNumber","toAsNumber","getAllFormattedValueMappings","valueMappings","allFormattedValueMappings","valueMapping","ValueToText","RangeToText","getMappedValue","baseFindIndex","predicate","fromIndex","fromRight","baseIsNaN","strictIndexOf","baseIndexOf","symbolTag","isSymbol","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","isBinary","INFINITY","MAX_INTEGER","toFinite","toInteger","remainder","arrayMap","baseValues","overArg","nativeKeys","baseKeys","collection","baseIsDate","nodeIsDate","isMathString","roundUp","mathString","parseString","parseDateMath","strippedMathString","num","numFrom","spans","rangeOptions","section","absoluteFormat","rangeIndex","getRelativeTimesList","timepickerSettings","currentDisplay","groupBy","formatDate","describeTextRange","expr","isLast","amount","span","describeTimeRange","toMoment","dateMath.parse","isValidTimeSpan"],"mappings":"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"}